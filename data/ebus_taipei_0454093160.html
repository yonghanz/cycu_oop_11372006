
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231493095</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093160">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093160">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093160" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454093160" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093160" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093160',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="KFUTqWbnu7GWFUCzA0PmJotFMc3-UObY8BAZvWRRBJgplXOsmlqvMPmD73YxfHsZPW4X_yD_D2qX8F5SMBtdcUHqCZs1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">F931-1630 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454093160" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454093160" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">金山區公所 - 金山區公所</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 1630 - 1630 <br>
                        [假日] 停駛
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 班表:1630<br>
[假日]<br /> <br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">金山區公所金山區公所站:(02)2498-5965#162</span>
                </li>

                    <li>
                        <span class="stationlist-move-route-bus-item">備註 :</span>
                        <span class="stationlist-move-route-bus-content">例假日停駛</span>
                    </li>
            </ul>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">金山區公所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084400740" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.222305" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.636495" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">磺溪橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084301860" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.227073" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.630647" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">三界壇路99巷</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084200260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.227715" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.620261" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">六股里潭子內</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084200860" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.226424" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61441" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">重和里林莊橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084210230" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.212285" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.596161" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">重和里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084201420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.218911" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.602934" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">葵扇湖</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084201760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.228667" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.595639" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">兩湖里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084201120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.232381" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.592617" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">兩福宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084210520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.239243" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.599268" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">半嶺(李簡玉英路口)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084200920" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.23898" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.603067" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">金寶山</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084201320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.247907" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.601964" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">朱銘美術館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084201050" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.246299" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6112475" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">三界聖德宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084201640" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.230771" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.62" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">磺溪橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084301820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.226977" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.630621" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">金山區公所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2084400700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.222407" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.636451" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454093160";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 15;
        var existBackNum = 0;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454093160',
                        url: './StopStatusRecent3OfRoute?routeid=0454093160&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454093160',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454093160',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454093160');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454093160","Name":"F931-1630","BeginStop":"金山區公所","GoDirStops":[{"UniStopId":"2084400740","Name":"金山區公所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.636495,"Latitude":25.222305,"PublicId":"2084400740"},{"UniStopId":"2084301860","Name":"磺溪橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.630647,"Latitude":25.227073,"PublicId":"2084301860"},{"UniStopId":"2084200260","Name":"三界壇路99巷","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.620261,"Latitude":25.227715,"PublicId":"2084200260"},{"UniStopId":"2084200860","Name":"六股里潭子內","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61441,"Latitude":25.226424,"PublicId":"2084200860"},{"UniStopId":"2084210230","Name":"重和里林莊橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.596161,"Latitude":25.212285,"PublicId":"2084210230"},{"UniStopId":"2084201420","Name":"重和里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.602934,"Latitude":25.218911,"PublicId":"2084201420"},{"UniStopId":"2084201760","Name":"葵扇湖","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.595639,"Latitude":25.228667,"PublicId":"2084201760"},{"UniStopId":"2084201120","Name":"兩湖里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.592617,"Latitude":25.232381,"PublicId":"2084201120"},{"UniStopId":"2084210520","Name":"兩福宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.599268,"Latitude":25.239243,"PublicId":"2084210520"},{"UniStopId":"2084200920","Name":"半嶺(李簡玉英路口)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.603067,"Latitude":25.23898,"PublicId":"2084200920"},{"UniStopId":"2084201320","Name":"金寶山","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.601964,"Latitude":25.247907,"PublicId":"2084201320"},{"UniStopId":"2084201050","Name":"朱銘美術館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6112475,"Latitude":25.246299,"PublicId":"2084201050"},{"UniStopId":"2084201640","Name":"三界聖德宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.62,"Latitude":25.230771,"PublicId":"2084201640"},{"UniStopId":"2084301820","Name":"磺溪橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.630621,"Latitude":25.226977,"PublicId":"2084301820"},{"UniStopId":"2084400700","Name":"金山區公所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.636451,"Latitude":25.222407,"PublicId":"2084400700"}],"LastStop":"金山區公所","BackDirStops":null,"RouteMapUrl":"../MapOverview?nid=0454093160","RouteTracks":null,"StopDirection":null,"TicketPrice":"","BusTimeDesc":"1630 - 1630","HeadwayDesc":"班表:1630","HolidayBusTimeDesc":"停駛","HolidayHeadwayDesc":"","RouteNote":"例假日停駛","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"金山區公所金山區公所站:(02)2498-5965#162","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.622624259319 25.2292544840757, 121.620398678648 25.2276306220959, 121.61961211328 25.2274421369086, 121.61843247701 25.2273712688304, 121.617667005468 25.2271562240977, 121.617169614481 25.2270080836575, 121.616521250009 25.2266455246399, 121.616275695705 25.2265929221454, 121.615911087148 25.2264847663716, 121.61549774199 25.2264678662769, 121.614962419828 25.2264698120852, 121.614596439102 25.2263414280959, 121.614352727343 25.226383258898, 121.6141005455 25.2265262419045, 121.613827601888 25.226513698038, 121.613619939001 25.226642631441, 121.613230140746 25.226707126046, 121.61302356348 25.2266443294913, 121.612754799671 25.2266642431053, 121.612494175823 25.2267280969305, 121.611956433586 25.2266749113497, 121.611704201205 25.2267740966599, 121.611428663041 25.2268169774349, 121.611277823499 25.2266841778363, 121.610959226246 25.2263501958894, 121.610665325727 25.2259868726241, 121.610425283295 25.2258177930808, 121.610327062044 25.2256818867258, 121.609984831991 25.2253849893022, 121.609733773542 25.2251831105004, 121.609636749909 25.2252043629727, 121.609509534378 25.2253536652198, 121.609418465371 25.2253681307265, 121.609350966492 25.2252344834071, 121.608952070545 25.2247918491316, 121.608655666093 25.224616219654, 121.608320235857 25.2240743216246, 121.608289892193 25.2235632359032, 121.60817215876 25.2234064563202, 121.607976230168 25.2232110471404, 121.607851565488 25.2230514541724, 121.608183846893 25.2229841671507, 121.608566918806 25.2228822050274, 121.608783582357 25.2227215398323, 121.608852661426 25.2225309650822, 121.60909776964 25.2222938440529, 121.609227348937 25.2220225431709, 121.608826551023 25.2218285340324, 121.608506508181 25.2215462268524, 121.608014748966 25.22092960569, 121.607923351325 25.2209098829646, 121.607718267354 25.2209614732188, 121.60734793206 25.2206920534426, 121.607115541913 25.2205308243433, 121.606000635129 25.2198734559949, 121.605787919318 25.2196706378667, 121.605445818374 25.2192794324722, 121.605425030919 25.2188763711954, 121.605291799153 25.2186216170603, 121.603808113415 25.2178068721331, 121.602942549929 25.2173174165905, 121.60180563916 25.2170271780407, 121.601259509818 25.2168417001509, 121.600479815726 25.2163402228932, 121.599651176079 25.2153183771114, 121.599235568215 25.215428289935, 121.598926438398 25.2153527248687, 121.598698884506 25.2153733335232, 121.598145026918 25.2148873127563, 121.597725125584 25.214524943916, 121.597330126375 25.2142192488754, 121.597120605055 25.2136920107997, 121.597003822679 25.2135614893217, 121.596783997032 25.2135546197703, 121.596377834801 25.2134464243345, 121.595938183507 25.2131372945182, 121.595876357544 25.2126753171815, 121.595745836066 25.2125722739094, 121.595797357702 25.2123661873651, 121.596044661555 25.2122184920084, 121.595817966356 25.2123696221409, 121.59579048815 25.2125688391336, 121.59590383575 25.2126890562845, 121.595965661713 25.2131115337001, 121.596364095698 25.2134120765772, 121.596741921029 25.2135254241765, 121.596989224883 25.213532293728, 121.597147224566 25.2136834238604, 121.597343006784 25.2141969228331, 121.598144168224 25.2148615519383, 121.598715199691 25.2153544422566, 121.598935025338 25.2153269640507, 121.599237285603 25.2154059638927, 121.599635719588 25.2152891815176, 121.600516739565 25.2163247664024, 121.601307596678 25.2168382653751, 121.601809073936 25.2170340475922, 121.60295371295 25.2172985253239, 121.603840743785 25.2177982851937, 121.603583034849 25.2184325588197, 121.603213335633 25.2187415164456, 121.602680525383 25.2192224409817, 121.602175921367 25.2196481562919, 121.602028585776 25.2198394564285, 121.60217670126 25.2202172551098, 121.602361831114 25.2205655723953, 121.602541830015 25.2207353199642, 121.602644013744 25.2208935601553, 121.602570485713 25.2210199430698, 121.6024500585 25.221032516648, 121.601382107224 25.2203812682336, 121.600752095966 25.2198756130521, 121.600305908361 25.2197942072071, 121.599876265381 25.2197331829799, 121.599536944442 25.2194984021866, 121.599095212153 25.2191285342179, 121.598716579786 25.2188016138213, 121.598409252504 25.2184758180215, 121.59819167017 25.2181621549785, 121.598025026999 25.2178130293043, 121.597836178306 25.2175344007488, 121.597489466733 25.217234242071, 121.597366132229 25.2170530134197, 121.597240800807 25.2168300416883, 121.597147490612 25.2168007389414, 121.597099957036 25.2169496957475, 121.597373373455 25.2175232171386, 121.597538980442 25.2178552332568, 121.597576252744 25.2179644394736, 121.59750293297 25.2181888576349, 121.59816936564 25.2192030605942, 121.598298802739 25.2194698677582, 121.59828932236 25.2197878657144, 121.598317405222 25.2201284268166, 121.598173026474 25.2205086935068, 121.597870840647 25.2207510385688, 121.597258208858 25.2209532713706, 121.5971205192 25.2210592022904, 121.59697772801 25.2210915752061, 121.596503515358 25.2211216848515, 121.596217177732 25.2211237088468, 121.595973897269 25.2213486675072, 121.595978263225 25.2215948347537, 121.59590738552 25.2219323789797, 121.596004298936 25.2222335492981, 121.596283633401 25.2223477345789, 121.596685490951 25.2224358497396, 121.59682738398 25.2226117713404, 121.597214964652 25.2226924097721, 121.597450334282 25.2226120343791, 121.598022017126 25.2227969239093, 121.598317009964 25.2228558356875, 121.598707362201 25.2227347584247, 121.599137875011 25.222839114378, 121.599360019234 25.2232490537536, 121.599581396488 25.2234392831465, 121.599651858463 25.2237025967571, 121.599801355812 25.2240856970653, 121.599867573107 25.2242752857265, 121.599785004525 25.224476193173, 121.59950405992 25.2246285952169, 121.599081361496 25.2247353311696, 121.598797250002 25.2248673818135, 121.598730085697 25.2251037111421, 121.598639646647 25.2253462503663, 121.598460343831 25.2255873122411, 121.597990659479 25.2260135977608, 121.597338251465 25.2265898537552, 121.597100488509 25.226713692996, 121.596586960509 25.2269646202959, 121.596294649387 25.227068274996, 121.596194846465 25.2271713446995, 121.596079036641 25.2273329222784, 121.596313077448 25.2274486385554, 121.596672981693 25.2276564058995, 121.596874061 25.2278232195335, 121.596947601413 25.2280188338328, 121.596837932453 25.228323628807, 121.596609986277 25.2284327611972, 121.595982204998 25.2286270012205, 121.595435665323 25.2286678576005, 121.594819491075 25.2284514533089, 121.594551210543 25.2284617280495, 121.594256012877 25.2285352414456, 121.594062794385 25.2287027125647, 121.59397286249 25.2289514095467, 121.594064129205 25.2293323682603, 121.594107246432 25.2299644944749, 121.594029853336 25.2304205505767, 121.594001537353 25.2305751634781, 121.593911346526 25.2307823443959, 121.593773788639 25.2309107883243, 121.593553804649 25.231076662504, 121.593374400554 25.2311527895942, 121.593251347621 25.2310887725787, 121.593091600114 25.2309812385781, 121.592954345273 25.2308828856814, 121.59276202929 25.2309526528339, 121.59262528322 25.2310209783124, 121.592764278577 25.2313927284336, 121.592950788018 25.2316415577967, 121.592938338255 25.2317596149212, 121.592712490385 25.2320786067493, 121.592491142259 25.2324347396654, 121.59249337996 25.232828689861, 121.592555659227 25.2328235651722, 121.592540082013 25.2324467986312, 121.592735948791 25.2321246502554, 121.592976588473 25.2317929553671, 121.593000360161 25.2316414200221, 121.592795140461 25.23136157019, 121.592711921353 25.2311390706646, 121.592687425263 25.2310199618742, 121.592930028575 25.2309154735951, 121.593117252042 25.2310348365535, 121.593229120044 25.2311207144189, 121.593374030994 25.23119740838, 121.593504568964 25.2311296724032, 121.593788150921 25.2309468314457, 121.593948459507 25.2307961000698, 121.59402991134 25.2305944789985, 121.594062439903 25.2306285510289, 121.59396752999 25.230832902228, 121.593829544027 25.2309667692196, 121.593640327735 25.2310866612177, 121.593557181862 25.2311517065814, 121.593372154551 25.2312379251596, 121.593204006321 25.2311529073877, 121.593053374805 25.2310412742574, 121.592946769754 25.2309645882568, 121.592795370421 25.2310097431436, 121.592737762642 25.2310640632991, 121.592808508146 25.2312506311508, 121.592882707809 25.2314211246856, 121.593035948221 25.2315638280729, 121.593050593732 25.2317196249341, 121.592964305898 25.2319024466933, 121.592862547429 25.2320439038006, 121.592972497877 25.2320683656102, 121.593309526606 25.2322049658618, 121.593585268411 25.2320690594352, 121.59372949702 25.2320614525946, 121.594272142615 25.2321148264957, 121.594388602047 25.2321849402173, 121.594487643863 25.2322730101747, 121.594563554799 25.2324569359606, 121.594622129792 25.232630374901, 121.59468637481 25.2327420742107, 121.594840040365 25.2328242501015, 121.594849690194 25.2329436900915, 121.594916541809 25.2330648705998, 121.595095000955 25.2332303065756, 121.595196526508 25.2333406681478, 121.595023459779 25.2333338994384, 121.59499337039 25.2334280485581, 121.595029763542 25.2335312190161, 121.594973388242 25.2337829007433, 121.594991380544 25.2339337515119, 121.594954836585 25.2342964375421, 121.594918017743 25.2345461227012, 121.595023348384 25.2347685786043, 121.595062730023 25.2349109131169, 121.595007576213 25.2351151571556, 121.594984666811 25.2352996511337, 121.594883872892 25.2354575883281, 121.59476771736 25.2356767080502, 121.594764023526 25.2359663518451, 121.594801901842 25.236191941003, 121.594806945472 25.2363758626718, 121.594851703215 25.2366036034631, 121.594942457668 25.2368033301395, 121.595191339209 25.2367742664449, 121.595298134082 25.2368040806858, 121.595350440711 25.2368870600385, 121.595358587352 25.2371094144563, 121.595498243518 25.2371994617718, 121.595599331107 25.2374439815459, 121.595571971342 25.2375845367487, 121.595528899857 25.2377759387659, 121.5956051715 25.2378126789926, 121.595909820282 25.2380048916319, 121.596158235216 25.2381097563163, 121.596277507908 25.2382560488993, 121.59611013948 25.2385812631588, 121.595929572939 25.2389391834131, 121.595958370955 25.2391810160716, 121.596306712008 25.2393060298316, 121.596597411832 25.2392895212163, 121.597319337055 25.2390785448238, 121.598243059152 25.2392122239871, 121.598825866895 25.2392021458386, 121.599402228377 25.2393256720685, 121.599891677835 25.2391629144136, 121.600250465264 25.2392645989937, 121.600639518918 25.2392218658846, 121.600974905936 25.2395697078736, 121.601481400862 25.2398722009426, 121.602175484287 25.2397372632484, 121.602598083562 25.2394627498098, 121.602708465566 25.2392186283768, 121.602910241125 25.2390565513437, 121.603025246544 25.2390004099855, 121.603032548475 25.2391292048276, 121.602791584742 25.2393967013712, 121.602864563983 25.2398567694351, 121.602611864295 25.2400279173501, 121.602181896033 25.240228472108, 121.60177105658 25.2406096466091, 121.601672434453 25.2410757311899, 121.601925011839 25.2415882940612, 121.602038208353 25.2420259734622, 121.602201141185 25.2425704615119, 121.60208653633 25.2430062816314, 121.60188638732 25.2436727254722, 121.601899773449 25.2440225225199, 121.602129297345 25.2446190496606, 121.602021101392 25.2450644059954, 121.601500646013 25.2454274067039, 121.601491023438 25.2460629715582, 121.601556196571 25.2464440523901, 121.601679872129 25.2475691872626, 121.60187385759 25.2479502633491, 121.601861283145 25.2490166110717, 121.602424921987 25.2494414192849, 121.603075609695 25.2498283023836, 121.603439976388 25.2503095381458, 121.604090047047 25.2505636360775, 121.605429718524 25.2509325538397, 121.606567579997 25.2506493851844, 121.607057293557 25.2508870260939, 121.607552408688 25.2512690230124, 121.608883714054 25.251824029605, 121.609713925446 25.2520087470085, 121.610873555683 25.2518695214497, 121.611538428206 25.2517762856605, 121.61188109813 25.2520115444789, 121.611971208127 25.2516579472563, 121.611913684697 25.2512936257059, 121.612424319531 25.2509190606113, 121.613049707296 25.2502965923221, 121.613315056608 25.2499459544487, 121.613458246711 25.2494907483088, 121.613319846662 25.2484049125776, 121.613141352661 25.2478888197141, 121.61286426135 25.2477115960425, 121.612953270939 25.2472820444572, 121.613163853902 25.2468388680241, 121.613043592962 25.2464140581181, 121.61260827613 25.2465909017862, 121.612109995623 25.2463892954591, 121.611507188809 25.2463442111398, 121.611084781748 25.2461051663193, 121.610681865811 25.2460391236371, 121.610176617359 25.2460317769886, 121.60994639081 25.2457386721805, 121.609950443772 25.2450205454821, 121.609680756855 25.2445632250784, 121.609733001154 25.244290484767, 121.610236547633 25.2440057688082, 121.610037345344 25.243497528421, 121.609629593911 25.2432545508665, 121.609631298302 25.2429819585198, 121.609694988491 25.2423248604006, 121.609825575845 25.2419379257224, 121.610187164718 25.2416840834374, 121.610560679715 25.2415958615048, 121.61070938391 25.2414198676607, 121.61084387603 25.2409054756713, 121.610816940253 25.2403287329139, 121.610974311517 25.2401579074499, 121.61121527525 25.239916831854, 121.611470842846 25.2391861717334, 121.611485446708 25.2385942099742, 121.611804096777 25.2378558198298, 121.612085117817 25.2379725231819, 121.612355020736 25.2378632984997, 121.612800707086 25.2381607633431, 121.612917537987 25.2381343436889, 121.613067227579 25.2379394985621, 121.613045321785 25.2374375232374, 121.613192517832 25.2372459202506, 121.613568322615 25.2371584636899, 121.613904211455 25.2363064199239, 121.613834843108 25.2361611095383, 121.613710710275 25.2361578070275, 121.613579275512 25.2362502772955, 121.61343597511 25.2364690682746, 121.612759633722 25.2367762006072, 121.611563029729 25.2370668197343, 121.611411514654 25.2370800296781, 121.611298334719 25.2370403998423, 121.610721482145 25.2366903357321, 121.610520679034 25.2366870332357, 121.610254158541 25.2367795031012, 121.609797787834 25.2367728981131, 121.609621628741 25.2367993180632, 121.609431778527 25.2368818803702, 121.608971756855 25.2369116027869, 121.609442731424 25.236855460438, 121.609607024879 25.2367728981131, 121.609789573161 25.2367398731675, 121.610267849662 25.2367332681772, 121.610509726137 25.2366441007743, 121.610732435042 25.2366606132613, 121.611441635121 25.2370602147618, 121.612764197429 25.2367266631867, 121.613392163522 25.2364591607671, 121.613553718752 25.23623459038, 121.613685153516 25.2361223050309, 121.613867701798 25.2361256075426, 121.61393341918 25.236313850564, 121.613809286348 25.2365978657989, 121.61359753034 25.2371724992446, 121.613743568966 25.2371427768916, 121.614177615134 25.236655886474, 121.615218613945 25.2361514006878, 121.615803384072 25.235399375438, 121.616464781483 25.235045870243, 121.617006183649 25.2343335767585, 121.617777245568 25.2338841323926, 121.617879115702 25.2333874915249, 121.618523811555 25.2325186587507, 121.618701852253 25.2326817424696, 121.618637027418 25.2330435039576, 121.618791627072 25.2331016394878, 121.618993851062 25.2330387574451, 121.619059124516 25.2327179386848, 121.619029389498 25.2323113283084, 121.619386307791 25.2319335671895, 121.619695435524 25.2316224950561, 121.619759519367 25.2310239250208, 121.620048629444 25.2308360195416, 121.620185528284 25.2305823449981, 121.62091611046 25.2302014270251, 121.622784918313 25.22922978653, 121.624162263584 25.2288835874296, 121.628969272006 25.2275964947008, 121.62942283969 25.2274469259365, 121.629877702893 25.228240491355, 121.629975173579 25.2290928336288, 121.629877702893 25.2298129112389, 121.629731496864 25.2330017797409, 121.62956904572 25.2326784839655, 121.630105134494 25.2291369201356, 121.629611017718 25.2278282759702, 121.629552800605 25.227402838817, 121.629931977709 25.2272678335397, 121.630185425615 25.2272087519966, 121.630290750283 25.2271667913711, 121.630657049798 25.2270198235849, 121.630835477258 25.2269479268441, 121.631012960018 25.2268374267868, 121.633530463248 25.2252989557884, 121.635661467452 25.2238922778895, 121.636752403972 25.2224393547643, 121.636251510349 25.2223275283531)","wkt0":"LINESTRING (121.636439064201 25.2223283740723, 121.636798225341 25.222412993189, 121.636042294564 25.2233466241106, 121.635487569243 25.2239981913097, 121.634432650921 25.2246798453059, 121.633037375707 25.2255608243326, 121.632309651303 25.2260379821299, 121.630818474423 25.2269791347508, 121.630273151226 25.2272061960474, 121.62786996831 25.227845070379, 121.626040314963 25.2283391519996, 121.62494214687 25.2286489519882, 121.623535589107 25.2290602949169, 121.622869918721 25.2292309434691, 121.622640506894 25.2293080408866, 121.621566784323 25.2284609095065, 121.620795810148 25.2278953717428, 121.620321943095 25.2276024955776, 121.620024835973 25.2275065939119, 121.619667555258 25.2274506512736, 121.618332453638 25.2273354752536, 121.617717554723 25.2271836309496, 121.617123340481 25.226977254326, 121.616508441566 25.2266406582837, 121.616207573595 25.2265264224761, 121.615767554188 25.2264568467579, 121.615603957229 25.2264512054834, 121.615062394882 25.2264173578367, 121.614881874099 25.2264418033593, 121.614799135407 25.2264286403856, 121.614533995508 25.2263360294634, 121.6141014978 25.2265240719451, 121.613840118751 25.2265015068473, 121.613779945156 25.2265259523699, 121.613612587348 25.2266387778589, 121.613524207381 25.2266651038063, 121.613259067482 25.2266820276297, 121.61271186386 25.2266651038063, 121.612535103928 25.2267233969757, 121.612446723961 25.2267271578253, 121.612362104844 25.2266970710282, 121.611965335208 25.2266933101786, 121.611850629294 25.2267121144268, 121.611675749786 25.2267760488705, 121.611406849037 25.2267910922691, 121.611201882732 25.2266110415928, 121.610996916427 25.2264079557126, 121.610880330089 25.2262800868251, 121.610795710972 25.22613952507, 121.610575701268 25.2259270370657, 121.610393300061 25.2258297250814, 121.610361332839 25.2257939970099, 121.610342528591 25.2256980953442, 121.610286115846 25.2256209979267, 121.610028497647 25.2254348358698, 121.609844216015 25.2252373912641, 121.609735151375 25.2251903806436, 121.609659934382 25.2251903806436, 121.609518902521 25.2253351733546, 121.609468131051 25.2253370537794, 121.609406077032 25.2253107278319, 121.609250001772 25.2250850768539, 121.609092046088 25.2249144283018, 121.60886639511 25.224737668369, 121.608652026681 25.2246253129862, 121.608326713187 25.2240390905495, 121.608298506815 25.2236094134788, 121.60824961577 25.2235172726628, 121.607997638844 25.2232695266931, 121.607815237637 25.2231736250275, 121.607798313814 25.223117212283, 121.607802074663 25.2230589191136, 121.607918661002 25.2230513974144, 121.608458342924 25.2228708766319, 121.608620059459 25.2227768553911, 121.608742287072 25.2226894156371, 121.608847590862 25.2224411995613, 121.609026231219 25.2223114502489, 121.609154100107 25.2220162235526, 121.608856052773 25.2218416182731, 121.60850880099 25.2215210058418, 121.608022976894 25.220925431963, 121.607937151846 25.2208910635282, 121.607830594439 25.2209462226561, 121.607720276183 25.2209587588216, 121.607156148738 25.220517799202, 121.606924229678 25.2204363141266, 121.606477942188 25.2201185223325, 121.606047951713 25.2198790815725, 121.605503882132 25.219295523071, 121.605491345967 25.2192231267155, 121.605446215771 25.2188661594044, 121.605418636207 25.2187921960283, 121.605264441372 25.2185969452515, 121.605102724838 25.2184828661459, 121.604598770987 25.218273512183, 121.603847854677 25.2178378804337, 121.603703688774 25.2180635314117, 121.603603399451 25.2184628082812, 121.602847155271 25.2191133177414, 121.602793563163 25.2191057960422, 121.603560776489 25.2184307235329, 121.603671721553 25.2180386549586, 121.603786427467 25.2178294576977, 121.603508124594 25.2176038067196, 121.603284354041 25.2174778182569, 121.603130159206 25.217425166362, 121.602887584404 25.2172991778993, 121.602267044215 25.2171322901968, 121.601941730721 25.2171022033997, 121.601702916769 25.2170382689559, 121.601315549257 25.2168789029527, 121.600903736222 25.2166513715499, 121.600576542304 25.2164318319525, 121.600429869168 25.2163100744456, 121.60015344672 25.2159509133056, 121.599922154468 25.2156547463969, 121.59979428558 25.2155343992086, 121.599626927772 25.2153031069561, 121.599561112903 25.2153012265313, 121.599245201534 25.2154309758437, 121.599166223691 25.2154159324451, 121.598925529315 25.215335074178, 121.598722443435 25.2153877260729, 121.598632183043 25.2153708022495, 121.598485509908 25.2152546860171, 121.598111305369 25.2148786010537, 121.597953349684 25.2147657755647, 121.597703253184 25.2145199100199, 121.597430591585 25.2143356283878, 121.597291440149 25.2141870748273, 121.597133484464 25.2137160284106, 121.596999974302 25.2135843986734, 121.596798768847 25.213578757399, 121.596633291463 25.2135336272034, 121.596417042609 25.2134551194673, 121.596133098462 25.213314087606, 121.596012751273 25.213231348914, 121.595935653856 25.2131222842747, 121.595901806209 25.2128670166058, 121.595869838987 25.2127165826204, 121.595751372224 25.2125887137328, 121.595777698171 25.2123860979588, 121.595862317288 25.2122901962932, 121.59605035977 25.2121999359019, 121.596174467808 25.2121961750523, 121.596181989507 25.2122356639735, 121.59605035977 25.2122337835487, 121.595896164935 25.2123033592669, 121.595807784968 25.2123898588085, 121.595777698171 25.2125722600157, 121.59589804536 25.2127015392219, 121.595931893006 25.2128764187298, 121.595963860228 25.213120873956, 121.596029675097 25.2132092539224, 121.596178228657 25.2133122071812, 121.596648334861 25.213519053911, 121.596804410121 25.2135566624074, 121.596983050479 25.2135566624074, 121.597090234693 25.2136149555767, 121.597157929987 25.2137183789416, 121.597315885672 25.2141786129156, 121.59745973817 25.2143332778568, 121.597727698706 25.2145072171523, 121.597982496269 25.2147615446088, 121.598136691104 25.2148750752572, 121.598487390332 25.2152309456538, 121.598640644955 25.2153477670455, 121.598728084709 25.2153722125681, 121.598926469527 25.2153186204608, 121.599156821567 25.2153983034625, 121.599247081959 25.215413346861, 121.599546069504 25.2152817171238, 121.599612824585 25.2152770160618, 121.599668297118 25.2153155647705, 121.599829073439 25.2155381600582, 121.59995036084 25.2156462844852, 121.600457135328 25.216301847587, 121.600609449738 25.2164257205718, 121.600931002382 25.2166438498506, 121.601318369894 25.2168582182797, 121.601701976557 25.2170157038581, 121.601948312208 25.2170754073461, 121.602264223577 25.217107374568, 121.602882883342 25.2172747323767, 121.603134860268 25.217402131158, 121.603281533403 25.2174547830529, 121.603535390754 25.217597695339, 121.603855062972 25.2178346288659, 121.603698987713 25.2180635705874, 121.603604966472 25.2184673918168, 121.602423119474 25.2194578664135, 121.602099059597 25.2197023216397, 121.602061451101 25.2198499349878, 121.602351036523 25.2205663768431, 121.602630593012 25.2208017433494, 121.602663187042 25.2208844820413, 121.602658172576 25.2209622062671, 121.602594238132 25.2210148581619, 121.602492695192 25.2210324087936, 121.602387391402 25.2209772496656, 121.602254508049 25.2208481271615, 121.601581315964 25.2205071434614, 121.600752675428 25.2199022734786, 121.600577169112 25.2198345781852, 121.599878904697 25.2197267671623, 121.59967080435 25.2196289850719, 121.598690031038 25.2187111974503, 121.598254217655 25.218199862211, 121.597988450947 25.2179717039999, 121.59795836415 25.2177535747211, 121.59775527827 25.2174282612278, 121.597454410299 25.2172082515242, 121.597319019713 25.2170227162756, 121.597289658292 25.216772681217, 121.597166078494 25.2167469206358, 121.597070803637 25.2168597461248, 121.597115933832 25.2170377596741, 121.597292154618 25.2173284467592, 121.59742697293 25.2175268795305, 121.597602337052 25.2178996210486, 121.597559714089 25.2182650502713, 121.597665812315 25.2185173502251, 121.597825861119 25.2187368487814, 121.598068682406 25.2191689078, 121.598301855084 25.2193870370788, 121.59833946358 25.2195149059663, 121.598246695956 25.2197424373692, 121.598276782753 25.2198978858207, 121.59840465164 25.2201580112537, 121.598407158873 25.2202658222765, 121.598236667023 25.2205008753787, 121.598041102842 25.220651309364, 121.596766288899 25.2211183988876, 121.596235895018 25.2211126402524, 121.596067910401 25.2212248389332, 121.59596788833 25.2213845276356, 121.595995200641 25.2216579634493, 121.595917476416 25.2219412807884, 121.595924998115 25.2221243088039, 121.596007736807 25.222274115981, 121.596158170792 25.2223593619061, 121.596316126477 25.2224095065678, 121.596689704207 25.2224270571995, 121.596860196057 25.2226878094408, 121.596970514313 25.2227429685687, 121.597088354268 25.2227529975011, 121.597436859668 25.2226577226437, 121.597622394916 25.2226727660422, 121.597913233955 25.2228232000276, 121.598036088376 25.2228708374563, 121.598304362317 25.2228407506592, 121.598642838784 25.2227605192003, 121.598815837867 25.2227429685687, 121.598953735687 25.2227605192003, 121.599174372199 25.2228457651254, 121.599179386665 25.2230833254606, 121.599259618124 25.2232187160474, 121.599485269102 25.2234142802284, 121.599522877598 25.2235045406196, 121.599575529493 25.2238618213348, 121.599655760952 25.2240448493503, 121.599886426396 25.2243206449901, 121.599916513193 25.2244184270806, 121.599868875764 25.2244986585395, 121.599510341433 25.224605842754, 121.599239560259 25.2247086393107, 121.598833388498 25.2247788418372, 121.598754027803 25.2249128996157, 121.598695490679 25.2253247918424, 121.598590186889 25.225462062854, 121.598269261053 25.2257002499975, 121.597863089293 25.226115823882, 121.597549685157 25.226366547191, 121.597248817186 25.2266166436916, 121.596065403168 25.227167608163, 121.596022780205 25.2272578685542, 121.596062895935 25.2273456217123, 121.596905326253 25.2277862679277, 121.597048238539 25.22793419468, 121.597048238539 25.2280244550712, 121.596937920283 25.2281617260829, 121.596719791004 25.2283221890006, 121.596413908567 25.2284951880837, 121.596130591228 25.2285503472117, 121.595624130144 25.2286230569713, 121.595548913152 25.2285929701742, 121.595300697076 25.2286481293022, 121.594593657345 25.2284300000234, 121.594014486501 25.2285829412419, 121.593951805674 25.2286782160992, 121.593929240576 25.2289433559984, 121.594006964802 25.2294310128343, 121.594124804757 25.2298973581889, 121.594137340922 25.230132411291, 121.594074660095 25.2305837132471, 121.594014486501 25.2307391616986, 121.593728661929 25.2309015050411, 121.593467909687 25.2311096053875, 121.593337533567 25.2311597500493, 121.593214679145 25.231122141553, 121.593006578799 25.2308889688757, 121.592823550784 25.230896490575, 121.592695681896 25.2310118232971, 121.592660580633 25.2311421994177, 121.592695956593 25.231292115839, 121.592876202678 25.2315051214074, 121.592948912438 25.2316480336935, 121.592916318408 25.2318404638331, 121.592778996143 25.2320157258392, 121.592691921046 25.2321505772258, 121.59258912449 25.2324575565772, 121.592564052159 25.23244564722, 121.592666848715 25.2321543380754, 121.592762750381 25.2320114257893, 121.593319982935 25.2321957074214, 121.593605807507 25.232045273436, 121.594205036216 25.2321092078798, 121.594383049765 25.232171888707, 121.594525962051 25.2322818935588, 121.594584882029 25.2325138126196, 121.594727794315 25.2327491791258, 121.594831844488 25.2328378724964, 121.594879481917 25.2330393913559, 121.595174081805 25.2332822795615, 121.595046212917 25.2333361850729, 121.595006097188 25.2333925978174, 121.595013618887 25.2336342324064, 121.594990094137 25.2337615608304, 121.595004843571 25.2340366433172, 121.594943239404 25.2345180910035, 121.595069792481 25.2348368524058, 121.595022039747 25.2350529318717, 121.595011111654 25.235295274328, 121.594864746526 25.2354855928556, 121.594768328932 25.235689495967, 121.594760388345 25.235921455792, 121.594824322789 25.236151494428, 121.594815547473 25.2363968898666, 121.594919597646 25.2367363065461, 121.594982053144 25.2367867360828, 121.595265595812 25.2367563644108, 121.595338305572 25.2368002409898, 121.595343320038 25.236964151353, 121.595384689384 25.237088259391, 121.595532616136 25.2371985776469, 121.59560031143 25.2374514947848, 121.595536376986 25.2377194553212, 121.595561628188 25.2378111366157, 121.595757013498 25.2378868131299, 121.595856049205 25.2379632837391, 121.59604283807 25.2380422615814, 121.59628603968 25.2382140070481, 121.596266876933 25.2383276180137, 121.595907447483 25.2389476861308, 121.595980157243 25.2391441905242, 121.596146873863 25.2392679252118, 121.596348720507 25.239307160675, 121.596837035236 25.2392646917354, 121.597179592425 25.2391311284148, 121.597522105593 25.2391015675617, 121.598055709135 25.2392231633006, 121.598731845558 25.2392143930507, 121.599453915862 25.2393335911394, 121.599600543804 25.2392780022068, 121.599781709125 25.2391868341288, 121.599891373142 25.2392032864929, 121.600113103101 25.2392592725376, 121.600576262324 25.2392697190957, 121.600714253907 25.2393320947791, 121.600886473358 25.2394598832915, 121.601303232793 25.2398292548636, 121.601435236048 25.2398919143226, 121.601620725744 25.2398898056691, 121.602029242981 25.2397697356575, 121.602178927749 25.2397495418389, 121.602702690546 25.2393638507644, 121.602779801307 25.2391523602004, 121.602954301314 25.2390414150254, 121.603085646873 25.2389977996084, 121.602899488808 25.239261518934, 121.602865635411 25.239411892495, 121.602820475447 25.2399780993314, 121.602597998982 25.2400618378349, 121.60210908853 25.2402699381813, 121.601976530375 25.2404040221153, 121.601833352112 25.2405855176028, 121.601769003103 25.2407888107006, 121.601743032499 25.2411562450783, 121.602054675731 25.2419000951579, 121.602142389055 25.2423837894056, 121.602196841688 25.2425966504881, 121.602086523432 25.2430767856247, 121.601904461373 25.2436448383998, 121.601874751467 25.2439189393166, 121.601981219642 25.2440890809845, 121.602169262124 25.2445748573955, 121.602091537898 25.244987924047, 121.601948625612 25.2451157929345, 121.60163020701 25.2453132375403, 121.601517381521 25.2454711932249, 121.601552482784 25.2464170469078, 121.601653244632 25.2471957086945, 121.601760053219 25.2476832109495, 121.601918538815 25.2480548969234, 121.601845829055 25.2485563435412, 121.60183986287 25.2489016736068, 121.602013698446 25.2492033233037, 121.602178386156 25.2492868123664, 121.60298434197 25.2497460534818, 121.603150382736 25.2500325763782, 121.603369834962 25.2502730607161, 121.603692997748 25.2504971794252, 121.604122234018 25.2506323412065, 121.605294615387 25.2509179730767, 121.605587641032 25.2509058122597, 121.606439080075 25.250684984434, 121.606741256035 25.2507209411155, 121.607597421762 25.2512685429355, 121.608096361147 25.2515336828347, 121.608833222317 25.2517913129546, 121.609675917993 25.2519975209562, 121.6099492064 25.2520025354224, 121.610621144868 25.2518897099334, 121.611484956857 25.2517688634014, 121.611661670665 25.2518212615877, 121.611903997148 25.2520133080601, 121.611975050736 25.2516490155568, 121.611887297578 25.2513682054508, 121.611927413307 25.251232814864, 121.612087876225 25.251092409811, 121.612331077835 25.2509651677317, 121.612584308377 25.2506624193362, 121.612837480462 25.250533823849, 121.612972929505 25.2502800662901, 121.613221145581 25.2500017634172, 121.613414202529 25.2496281856869, 121.613377908684 25.2489455542196, 121.613240679207 25.2480680020087, 121.613161492262 25.2479134476195, 121.612930306543 25.2477577898023, 121.612921311621 25.2473195264367, 121.613078233295 25.2470062466838, 121.61313088519 25.24670287148, 121.613133392423 25.2465330064382, 121.612962900573 25.2464878762426, 121.612664539835 25.2466032089647, 121.612496555218 25.2465656004684, 121.612398773128 25.2464308366898, 121.61220571618 25.2463932281935, 121.61192992054 25.2464233149906, 121.611522843923 25.2463337679955, 121.611268011005 25.2461613091327, 121.610945831553 25.2460610198092, 121.610550942341 25.2460309330121, 121.610278907551 25.2460359474783, 121.610018636584 25.2458323574431, 121.609996332668 25.2456549745835, 121.609952426685 25.2454349093218, 121.609967515215 25.2452135035033, 121.609985181717 25.2450255857212, 121.609916638547 25.244849141853, 121.609699736707 25.2446071380215, 121.60965060176 25.2444574598497, 121.609733771163 25.2443146091049, 121.609978819653 25.2442052490457, 121.610149675001 25.2440607258041, 121.610191650379 25.2439445240457, 121.6100100811 25.2434975447114, 121.609908092844 25.2433676881415, 121.609683415846 25.2433117213868, 121.609594144558 25.2431645789198, 121.60959243359 25.2429287801041, 121.609837634527 25.2420948904661, 121.609940431084 25.2419193841499, 121.610241635426 25.241673132474, 121.610438426865 25.241608009404, 121.610626794314 25.2415210094037, 121.610763382609 25.2413104271646, 121.610870911174 25.2408554218369, 121.610869059342 25.2406412261647, 121.610825105272 25.2404398960825, 121.610920068301 25.2402374750737, 121.611099058081 25.2400784062548, 121.611222005093 25.2398991857771, 121.611306873118 25.2395362590985, 121.611484886667 25.2391802319998, 121.611504944532 25.2386067024307, 121.61174561807 25.2379868506264, 121.611842678824 25.2378772025062, 121.611924617926 25.2378974134492, 121.612089017343 25.2379799446978, 121.612395012278 25.2379128256732, 121.612796169573 25.2381685634483, 121.612929052926 25.2381234332527, 121.61302158592 25.2380056800742, 121.613081239206 25.2378814023768, 121.613044385648 25.2374245420291, 121.613101142516 25.2373324873267, 121.613260662662 25.2372492126131, 121.613546772479 25.2371818497013, 121.613621989472 25.2371555237539, 121.613710073969 25.2371839090862, 121.614150075441 25.236761378877, 121.614957404496 25.2362655735336, 121.615303402662 25.2360825455181, 121.615756933205 25.2354298839769, 121.616276209101 25.235159256933, 121.616750076154 25.2347179839093, 121.616922712724 25.2344534187384, 121.617077179732 25.2343178111662, 121.617320801329 25.2341743950145, 121.617680421758 25.2340347868738, 121.617828186383 25.2339213105951, 121.617939518991 25.2337409677129, 121.617859611804 25.2334361114956, 121.618073822528 25.2332498593953, 121.618354705332 25.2327040489303, 121.618520292697 25.2324864191749, 121.618638015389 25.2325607003599, 121.618625270099 25.2329461584507, 121.618612622734 25.2330968554187, 121.618711889297 25.2331766479352, 121.618832009024 25.2330291347189, 121.61905171613 25.2327498059342, 121.61905171613 25.2326194298136, 121.618991147746 25.2323920894263, 121.619024082092 25.2322136274941, 121.619389660585 25.231938321757, 121.619517550364 25.2317698803979, 121.619675718437 25.2315198578486, 121.619682983049 25.2310499853886, 121.619953130966 25.2308832362124, 121.62015515833 25.2306359812582, 121.620557790443 25.2304291836153, 121.62287347976 25.2291838204434, 121.623479795519 25.2290359697902, 121.629642148734 25.2273220123897, 121.630288923082 25.2271754357906, 121.63084856122 25.2269250725373, 121.632314001058 25.2259971961001, 121.633021158248 25.2255345837198, 121.63545717347 25.2239911653608, 121.635771199986 25.2236432219499, 121.636035967283 25.2232971737742, 121.636732802227 25.2224368510787, 121.636418379528 25.2223735042679)","wkt1":null,"CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454093160'=='0100020200' || '0454093160'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
