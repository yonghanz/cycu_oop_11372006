
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492818</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454013100">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454013100">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454013100" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454013100" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454013100" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454013100',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="edUu9wFMamxAgpYMSIYnxOIaPaAj2FISB5QquxgyRLnQp1Ayb-hbOMBE_FKgeT3lIWKMqwOlx9MyNQ6FtSAr43l-yiw1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">F131 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454013100" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454013100" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">三芝國中 - 二號倉庫</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0620 - 1730 <br>
                        [假日] 0800 - 1240
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> F131三芝國中班表:0620 0940 1240 1620 1730<br/>F131十八彎班表:0700 1020 1320 1700 1810<br>
[假日]<br /> F131三芝國中班表:0800 1030 1240<br/>F131十八彎班表:0840 1110 1320<br/>星期六、日不徑下蘇宅路口<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">三芝區公所三芝區公所站:(02)2636-2111</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 二號倉庫</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 三芝國中</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">三芝國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524100360" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.258922" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.501724" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">錫板智成堂</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524203720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.257683" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4795167" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">黑得公</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524502020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.239802" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.502645" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">三角埔子</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514100020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.230119" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.496858" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">福音山</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524301620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.223877" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.504492" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">興華派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524502860" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.204647" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.501683" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">台安醫院</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524300820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.2055" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4974167" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">田心子</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524300940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.201224" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4937081" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">大溪橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524300540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.193648" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4932361" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">興華國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524301820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.204558" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5013095" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">嘟嘟農莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524301420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.203691" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.507874" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">上蘇宅路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524300220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.201944" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.511131" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">下蘇宅路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524300320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.202022" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.512614" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">十八彎</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524400120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.191747" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.505606" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">車埕</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524201720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.20208" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.501208" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">興華派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524502820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.204613" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.501889" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">福音山</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524301660" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.22323" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.50466" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">三角埔子</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514100060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.230324" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4968255" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">黑得公</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524502060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.239853" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.502734" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">錫板智成堂</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524203760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.257828" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.479443" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">二號倉庫</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524100020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.25892" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.500969" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454013100";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 13;
        var existBackNum = 8;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454013100',
                        url: './StopStatusRecent3OfRoute?routeid=0454013100&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454013100',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454013100',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454013100');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454013100","Name":"F131","BeginStop":"三芝國中","GoDirStops":[{"UniStopId":"2524100360","Name":"三芝國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.501724,"Latitude":25.258922,"PublicId":"2524100360"},{"UniStopId":"2524203720","Name":"錫板智成堂","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4795167,"Latitude":25.257683,"PublicId":"2524203720"},{"UniStopId":"2524502020","Name":"黑得公","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.502645,"Latitude":25.239802,"PublicId":"2524502020"},{"UniStopId":"2514100020","Name":"三角埔子","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.496858,"Latitude":25.230119,"PublicId":"2514100020"},{"UniStopId":"2524301620","Name":"福音山","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.504492,"Latitude":25.223877,"PublicId":"2524301620"},{"UniStopId":"2524502860","Name":"興華派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.501683,"Latitude":25.204647,"PublicId":"2524502860"},{"UniStopId":"2524300820","Name":"台安醫院","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4974167,"Latitude":25.2055,"PublicId":"2524300820"},{"UniStopId":"2524300940","Name":"田心子","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4937081,"Latitude":25.201224,"PublicId":"2524300940"},{"UniStopId":"2524300540","Name":"大溪橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4932361,"Latitude":25.193648,"PublicId":"2524300540"},{"UniStopId":"2524301820","Name":"興華國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5013095,"Latitude":25.204558,"PublicId":"2524301820"},{"UniStopId":"2524301420","Name":"嘟嘟農莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.507874,"Latitude":25.203691,"PublicId":"2524301420"},{"UniStopId":"2524300220","Name":"上蘇宅路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.511131,"Latitude":25.201944,"PublicId":"2524300220"},{"UniStopId":"2524300320","Name":"下蘇宅路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.512614,"Latitude":25.202022,"PublicId":"2524300320"}],"LastStop":"二號倉庫","BackDirStops":[{"UniStopId":"2524400120","Name":"十八彎","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.505606,"Latitude":25.191747,"PublicId":"2524400120"},{"UniStopId":"2524201720","Name":"車埕","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.501208,"Latitude":25.20208,"PublicId":"2524201720"},{"UniStopId":"2524502820","Name":"興華派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.501889,"Latitude":25.204613,"PublicId":"2524502820"},{"UniStopId":"2524301660","Name":"福音山","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.50466,"Latitude":25.22323,"PublicId":"2524301660"},{"UniStopId":"2514100060","Name":"三角埔子","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4968255,"Latitude":25.230324,"PublicId":"2514100060"},{"UniStopId":"2524502060","Name":"黑得公","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.502734,"Latitude":25.239853,"PublicId":"2524502060"},{"UniStopId":"2524203760","Name":"錫板智成堂","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.479443,"Latitude":25.257828,"PublicId":"2524203760"},{"UniStopId":"2524100020","Name":"二號倉庫","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.500969,"Latitude":25.25892,"PublicId":"2524100020"}],"RouteMapUrl":"../MapOverview?nid=0454013100","RouteTracks":null,"StopDirection":null,"TicketPrice":"","BusTimeDesc":"0620 - 1730","HeadwayDesc":"F131三芝國中班表:0620 0940 1240 1620 1730;F131十八彎班表:0700 1020 1320 1700 1810","HolidayBusTimeDesc":"0800 - 1240","HolidayHeadwayDesc":"F131三芝國中班表:0800 1030 1240;F131十八彎班表:0840 1110 1320;星期六、日不徑下蘇宅路口","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"三芝區公所三芝區公所站:(02)2636-2111","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.501764308325 25.2588665345283, 121.501177893401 25.2589733405306, 121.500369364089 25.2592080172485, 121.498770130735 25.2596252234044, 121.497954647482 25.2597614922635, 121.497582029665 25.2597228213866, 121.497555559547 25.2598517242617, 121.49401416317 25.2602922948411, 121.493388043069 25.2602646729081, 121.492138857111 25.2602352095061, 121.491777947232 25.2602996606888, 121.489621650688 25.2611071390358, 121.48721897843 25.2620564026087, 121.486998563793 25.2621397275243, 121.485455661332 25.2625121569733, 121.484026274955 25.262829802943, 121.482916566158 25.2635424317471, 121.482636593755 25.2636625838659, 121.482388181878 25.2637288746392, 121.482131625348 25.2637675442403, 121.481907138385 25.2637546543746, 121.481675015811 25.2637067777188, 121.481359410557 25.2635741961119, 121.480765573122 25.2631487991744, 121.479667359162 25.2623537940344, 121.479322738586 25.261999778462, 121.478826047216 25.2612808227803, 121.477384796327 25.259076661038, 121.477158806431 25.2587224383506, 121.47765155786 25.2584586452243, 121.477938656834 25.258189787417, 121.478140746004 25.2580682487608, 121.478866129048 25.2578725896838, 121.479461197665 25.2577105376919, 121.479809890567 25.2575111950303, 121.480154002102 25.25721287099, 121.480378489065 25.2570374671613, 121.480594322336 25.2569361839953, 121.481128306064 25.2568496328591, 121.481409805589 25.2568441083164, 121.481894412367 25.2569251349175, 121.482318443297 25.2569343424824, 121.48291809328 25.2566152999523, 121.483366049125 25.2562893508742, 121.483753429123 25.255811474797, 121.483900032853 25.2557249228593, 121.48432813611 25.2556015402032, 121.484558222521 25.2555739172034, 121.484762347855 25.2555034785253, 121.485165508115 25.255295384937, 121.486351573022 25.2552309310984, 121.486759823689 25.2550463166999, 121.486959367657 25.2548547962294, 121.487081537432 25.2545357482365, 121.487254611282 25.2542535304823, 121.487560544762 25.2539473718181, 121.487988138977 25.2535864258754, 121.488218613147 25.2532329050436, 121.488652946174 25.2524593836818, 121.488915611192 25.2520597600005, 121.48919914688 25.2516965064584, 121.489384437707 25.2515731197102, 121.489836974918 25.2513535094044, 121.490140363195 25.2512430135029, 121.49077615507 25.2505478078171, 121.490987799572 25.2501620689218, 121.491247017748 25.2496684359859, 121.491489830177 25.2489327053434, 121.491771329702 25.2483608765728, 121.492190779266 25.2478060803864, 121.49229106029 25.2476196130496, 121.492537436005 25.2474833305681, 121.492765995294 25.2474128871984, 121.493466944383 25.2469354366166, 121.494202508241 25.2463916839582, 121.49463264766 25.2458939708821, 121.494971159748 25.2456577751567, 121.495421151755 25.2453502135629, 121.495769335616 25.2451494693483, 121.496392910514 25.2449542498858, 121.496920785754 25.2446885851605, 121.497283731796 25.2444026611244, 121.497660930979 25.2440246510198, 121.498060527954 25.2436724237374, 121.499826899296 25.2425112175441, 121.500670888831 25.2417754435631, 121.50091370126 25.2414987214076, 121.501353512453 25.2408996917544, 121.501645192793 25.2406634863217, 121.502394994841 25.2402337800125, 121.502714235831 25.2400637675074, 121.502780862668 25.2400349842502, 121.502679054521 25.2399594716947, 121.502658692892 25.2397292501993, 121.502738103246 25.2393604344549, 121.502982442798 25.2387521853204, 121.502980406635 25.2381273569614, 121.50315755281 25.2379003551483, 121.503479266553 25.2376553953125, 121.503532206789 25.2375738954081, 121.503542387604 25.2374946977085, 121.503495555856 25.2373712965389, 121.503212529209 25.2370761462183, 121.502992623612 25.2369370891886, 121.502682108766 25.2368661792513, 121.502561720632 25.2367925065453, 121.502247897021 25.2364715692991, 121.501928823708 25.236150249196, 121.501372601481 25.2355856491744, 121.501104591535 25.2353641681344, 121.501019187143 25.2350286860321, 121.500956715202 25.2348063196104, 121.500951624795 25.2347068597615, 121.500778550946 25.2341738733052, 121.500770406294 25.2339627501622, 121.500783641353 25.2336724264627, 121.500665543903 25.233208735944, 121.500532938792 25.232958931729, 121.500462691171 25.2328693704615, 121.500449456112 25.2327855649998, 121.500473890067 25.2326821895017, 121.500610312984 25.2322693773381, 121.500593005599 25.2321761317863, 121.500542101526 25.2321227170183, 121.500305652105 25.2320202619019, 121.500083455825 25.2318736012817, 121.500041530236 25.2318300567378, 121.499814427798 25.2315830423562, 121.499535218956 25.2314686144431, 121.499090062836 25.231330241712, 121.498855649578 25.2313359976524, 121.498690720381 25.2313949384661, 121.498640834389 25.2314151993642, 121.498540044324 25.2316134336551, 121.49874569678 25.2323011498801, 121.498729407477 25.2324063675868, 121.498557351709 25.2325233272064, 121.498443326585 25.2325463507404, 121.498333373787 25.2325067502593, 121.498329301461 25.2322378350236, 121.49827305246 25.2321344590599, 121.498008096758 25.2318788967232, 121.497807025669 25.231607907965, 121.497382485698 25.2309618609616, 121.497126183689 25.2304196485141, 121.496799379539 25.2301652337723, 121.497714125735 25.2294185637232, 121.498119322159 25.2291542464923, 121.499447918471 25.2283985907518, 121.499629136972 25.2283322807004, 121.500039257164 25.2282543497469, 121.50048941581 25.227869490793, 121.500801457779 25.2276940446066, 121.501270029773 25.2275494509713, 121.5015802901 25.2273599593705, 121.501933540472 25.2270788240741, 121.502951258703 25.2262486049286, 121.503403292223 25.2260096792634, 121.503745876637 25.2256389799106, 121.503957637581 25.2252424915262, 121.504367415371 25.2245029290184, 121.504296149668 25.2243422140305, 121.504326692112 25.2242206415204, 121.504406102467 25.2241211730126, 121.504532344568 25.2240585446511, 121.504617863412 25.2239903902212, 121.504630080389 25.2237596779822, 121.504583248642 25.2235031770351, 121.504601574108 25.2232176636751, 121.504689638155 25.2230716831982, 121.50501949655 25.2227322894249, 121.505504612368 25.2220889583305, 121.505643071447 25.2219729096964, 121.505696011683 25.221818178012, 121.505571805744 25.2213903623007, 121.505476106087 25.2212996412299, 121.505331029478 25.2211660923224, 121.505173608631 25.2210937916458, 121.504706691019 25.2210726079999, 121.504031957528 25.2209646174, 121.503557277045 25.2209259341767, 121.502933447627 25.220799753101, 121.50253919558 25.220684624268, 121.502425170456 25.2207150182905, 121.502169377488 25.2210272473545, 121.501955325859 25.2211285604479, 121.501820939106 25.221079745968, 121.501766980788 25.2210152739833, 121.501814830617 25.2209075135899, 121.50206018825 25.2207481753973, 121.502423897854 25.2203921965425, 121.50244222332 25.2202961787817, 121.502420843609 25.2201642405838, 121.50222639005 25.219850858008, 121.502099129866 25.2197262876342, 121.501868534415 25.2195853686843, 121.501371456139 25.2193548783505, 121.501280592368 25.219253103259, 121.501195824761 25.2191258413978, 121.501076976075 25.2188641926791, 121.500994256956 25.2185379120921, 121.500885067719 25.218407814084, 121.500509395658 25.218205183281, 121.500075438434 25.2179247232719, 121.499883784598 25.2177688351219, 121.499533055533 25.2173428472828, 121.499427938622 25.2171678464409, 121.499339874575 25.2169728123114, 121.499272044898 25.2166936159207, 121.499277644346 25.2164587450588, 121.499293933649 25.2162733809701, 121.499355018537 25.2161250894959, 121.499578996459 25.2158006436992, 121.499700402674 25.2156168904795, 121.500023389019 25.2152252050588, 121.500124179084 25.2149339155539, 121.500250650403 25.2147004677087, 121.500482034719 25.2143925527324, 121.500669361709 25.2142458708556, 121.500801966819 25.2140363250107, 121.500928463442 25.2137337493846, 121.501039165353 25.2135060394427, 121.501232460626 25.2131435237627, 121.50164977416 25.2126901570542, 121.501996430899 25.2115489191858, 121.502100275208 25.2112053483046, 121.50214303463 25.2109584924882, 121.502096202882 25.2107056489781, 121.501943490662 25.2103920117628, 121.501831501701 25.2102483186718, 121.501786706117 25.2100125142573, 121.501833537864 25.209851780127, 121.502059551949 25.2095399829422, 121.502103329452 25.2093364162547, 121.50207380509 25.2090837996544, 121.502135908059 25.2089546126579, 121.502415318378 25.2085856202407, 121.502892469848 25.2079710829184, 121.502982061017 25.2078052798849, 121.503016675787 25.2074713703127, 121.503081833001 25.207209768794, 121.503041109742 25.2068887534862, 121.503063507534 25.2067432139859, 121.503210111265 25.2065419454662, 121.503026856602 25.2064166706131, 121.502908759152 25.2062854082206, 121.502711251347 25.2059864978935, 121.50261555169 25.2057635812395, 121.502568971136 25.2056320640472, 121.502538177498 25.2054499312893, 121.502448586329 25.2052399097254, 121.502295365069 25.2050699578, 121.502040844703 25.2048451971656, 121.501966814542 25.2047009226223, 121.501559668652 25.204612388564, 121.50103492187 25.2047818920219, 121.500834927207 25.2048428942881, 121.50083696337 25.2050731818225, 121.500706648942 25.2052408308734, 121.500462309391 25.2053900567576, 121.500169101929 25.2054121642804, 121.499965485636 25.2053697915248, 121.499612720408 25.2051818773873, 121.499512948424 25.2051708236055, 121.499048194235 25.2053200495754, 121.498430727827 25.2055231624072, 121.498241364674 25.2055765888555, 121.497806643888 25.2055858003097, 121.497279277689 25.2055176355319, 121.497066625923 25.2055268757761, 121.496761201483 25.2056346497909, 121.494902693768 25.2060733443149, 121.493072819595 25.2061949349582, 121.492535272581 25.2061838812684, 121.492662023724 25.205737242274, 121.492516947115 25.205460898688, 121.492422265538 25.205375232049, 121.492268026196 25.2053527790892, 121.492151964909 25.205238096215, 121.49212447671 25.2050985422103, 121.492232902386 25.2049019918679, 121.492269553319 25.2047496564985, 121.492362707773 25.2044691654784, 121.49241615705 25.2043752077508, 121.493045331395 25.2042646691549, 121.493517593935 25.2043665719266, 121.493679468888 25.2043430824817, 121.493815382763 25.2042781410516, 121.493864250674 25.2041327135746, 121.493867304918 25.2040221747585, 121.493836762474 25.2038342585409, 121.493695503671 25.2036898668383, 121.493697030793 25.2036117985258, 121.493726046115 25.2035592923761, 121.493803165786 25.2035392571287, 121.49386883204 25.2036076533043, 121.493903955851 25.2036173254877, 121.493942133906 25.2036193980983, 121.494007036599 25.2035738006566, 121.494103436188 25.203443053352, 121.494168338881 25.2033005610835, 121.494172156687 25.203221801649, 121.494310743026 25.2030439018615, 121.494403897481 25.2029292168122, 121.494450474708 25.2028331852721, 121.494471090857 25.2027431988141, 121.49446574593 25.2026250591024, 121.494353502448 25.2024526854576, 121.494025743846 25.2020714935749, 121.49355596288 25.2017590431535, 121.493491632858 25.2016580018008, 121.493454981925 25.2015079077393, 121.493490105735 25.2013308690514, 121.493584023751 25.2012139370159, 121.493607694145 25.2008966481942, 121.493738263092 25.2009166838765, 121.49377758649 25.2006490517978, 121.493923172139 25.199985337824, 121.494350766355 25.1995247430717, 121.494407778917 25.1994197272242, 121.494403706591 25.199298129814, 121.494360947169 25.1991668597463, 121.494212307275 25.1989973599407, 121.493824418237 25.1982092748653, 121.493751116372 25.1979089629041, 121.493749080209 25.1977652550779, 121.493883976003 25.1974368452101, 121.493888048329 25.1973005064916, 121.493841216581 25.1972083856493, 121.49365999808 25.1970752709092, 121.493283307938 25.1968726045895, 121.493162665285 25.1967505440297, 121.492981446784 25.1963723858205, 121.492934615036 25.1961066149756, 121.492942759688 25.1958910499823, 121.492907635878 25.1957174001268, 121.492654642633 25.1954677492375, 121.492536036143 25.1953825361784, 121.492426083344 25.1951890792825, 121.492399613226 25.1950269437425, 121.492540617509 25.1947924916851, 121.492917307651 25.1944479522827, 121.493113288334 25.1942056686433, 121.49318048171 25.1940822235618, 121.493274145205 25.1937224817713, 121.493266000553 25.1936243701894, 121.493021661002 25.1932282381163, 121.493090890541 25.1931895460773, 121.493300615323 25.1935138218335, 121.493341338582 25.1936096304144, 121.493351519396 25.193709123861, 121.49324971125 25.1941167697726, 121.493186590199 25.1942333055847, 121.492956503788 25.1945119777266, 121.492581849809 25.194840395482, 121.49249225864 25.1950453682466, 121.492488186314 25.1951596001095, 121.49258999446 25.1953420023781, 121.492714200399 25.1954269851599, 121.492971520489 25.1956846968106, 121.493021661002 25.1958797650522, 121.49300638978 25.19610362102, 121.493058311934 25.1963691615676, 121.493217132643 25.196704022803, 121.493330394206 25.1968120349308, 121.493679850669 25.1970183861922, 121.493890848053 25.1971558767381, 121.493966186081 25.1972839247451, 121.493964149918 25.1974343118907, 121.493828745083 25.1977707823051, 121.493827727002 25.19791587193, 121.493863359853 25.198069021902, 121.494275682846 25.1989623545166, 121.494426867944 25.1991240242198, 121.494483880506 25.1992797059534, 121.494482862425 25.1994236422903, 121.494426867944 25.199543397193, 121.493996219484 25.2000127431568, 121.49385445164 25.2006575727378, 121.493806601811 25.2009730773957, 121.493857505885 25.2010891460568, 121.493943024728 25.2011960028216, 121.494065194504 25.2012844359354, 121.494496861045 25.2014815678536, 121.494633793002 25.201564934293, 121.494984013026 25.2019039265197, 121.495173885219 25.202051774736, 121.495579081642 25.2022378513636, 121.495760300143 25.2023741845538, 121.495927774544 25.2026012526702, 121.49608455909 25.2031709937268, 121.496196548051 25.2033464752774, 121.496408308996 25.2035491308217, 121.496671483055 25.2037006616787, 121.496987088309 25.2037688274739, 121.497576048437 25.2037154002323, 121.498236274267 25.2037485619712, 121.498847728331 25.2038356929051, 121.499041576706 25.2039056195287, 121.499129640753 25.2040166190292, 121.499162275268 25.2044585811717, 121.499296740252 25.2047822014487, 121.499481896939 25.2048880306792, 121.499650898463 25.204948826608, 121.499895238014 25.204981988011, 121.500182846028 25.2049672496108, 121.500936735353 25.2047609118207, 121.501342440817 25.2045601006, 121.501609178161 25.2045379929224, 121.501807195006 25.2045711544373, 121.501968847008 25.2043568466262, 121.502100402468 25.2041971657185, 121.502051534558 25.203942926426, 121.501809231169 25.2036384833863, 121.501104718795 25.2028246356981, 121.501096574143 25.202738046037, 121.501181074905 25.2025897380701, 121.50130935317 25.2026275059546, 121.501870361976 25.2030787463889, 121.502005211851 25.2031039790521, 121.502460548787 25.2031122695293, 121.502766482267 25.2031528007431, 121.502878471228 25.2031528007431, 121.503307338045 25.2030137049303, 121.503730605414 25.2030173895897, 121.504009559736 25.2029971239619, 121.504106277475 25.2030837134388, 121.504274515437 25.2033114711038, 121.504663677077 25.2034286889878, 121.504854312832 25.2034443487358, 121.505578932315 25.2034213196939, 121.50570110209 25.2034332947962, 121.505779494363 25.2034765893872, 121.506014925702 25.2038333085963, 121.506097644821 25.2038482774234, 121.5066110124 25.2038141945529, 121.506817937458 25.2036585186174, 121.506933998745 25.2036170664116, 121.507476127125 25.2035986432046, 121.507746427754 25.2036861534151, 121.508005020446 25.2037239209577, 121.508373820457 25.2036741783359, 121.508471810798 25.2035783776736, 121.508541040338 25.2034501059956, 121.508604161389 25.2032122157936, 121.508696043241 25.2031329957199, 121.508833484239 25.203090622171, 121.50921653739 25.2030887798424, 121.509254460925 25.2030461759869, 121.509227990807 25.2029899849331, 121.509074260505 25.202954980657, 121.508960998942 25.2029651134748, 121.508452721771 25.203103288179, 121.507677198215 25.2027896313745, 121.507385008834 25.2026007920863, 121.507085183842 25.2025112084678, 121.507144232567 25.2024504113216, 121.507683815744 25.2024135645516, 121.507960733903 25.2022127494589, 121.508401054136 25.2020579926476, 121.508658119706 25.2020137763797, 121.508865808325 25.2020156187245, 121.509268968586 25.20206351968, 121.509481238571 25.2020082493451, 121.509768337544 25.2018405958425, 121.510114994283 25.2018055912359, 121.510538516173 25.2018627040099, 121.510852594305 25.2020082493451, 121.511204850492 25.2019161320645, 121.511500603157 25.2018442805373, 121.511743415587 25.2018940239068, 121.512143012562 25.2020727314, 121.512588932244 25.2020450962378, 121.512719246671 25.2019971952751, 121.512741644464 25.2020395692046, 121.512595040733 25.2020764160879, 121.512138940236 25.2021132629599, 121.511737816139 25.2019271861419, 121.511509765891 25.201875600439, 121.510878046341 25.2020579926476, 121.510541570417 25.2019032356397, 121.510111430998 25.2018498075794, 121.509797861907 25.2018737580921, 121.509483783775 25.2020395692046, 121.509284239808 25.2020948395253, 121.508870389692 25.202052465615, 121.508670845725 25.2020450962378, 121.508426506173 25.2020966818689, 121.507982113613 25.2022514386309, 121.507721484758 25.2024338302765, 121.507613059082 25.2024559383362, 121.507163830636 25.2024872580805, 121.50707627563 25.20258858661, 121.506931708062 25.2025480552083, 121.506817682937 25.2024798887296, 121.50673623642 25.2023785601097, 121.506509713294 25.2017682836835, 121.506468990036 25.201292035653, 121.506277081679 25.2005951625954, 121.505904463863 25.1999959314827, 121.505545590147 25.1997356956844, 121.50549264991 25.1996491038265, 121.505474324444 25.199558827143, 121.505539481658 25.1993630739004, 121.505543553984 25.1992083134671, 121.505498758399 25.1990383531218, 121.505508939214 25.198832005272, 121.505804182839 25.1986182875106, 121.50579807435 25.1984925439044, 121.505673868411 25.1983414671655, 121.505521156191 25.198254874316, 121.505445818163 25.198171966211, 121.505398986416 25.1980406949291, 121.505321612224 25.1977896669962, 121.505382697112 25.1972327976793, 121.505392877927 25.1969449196559, 121.50515210166 25.1965888711753, 121.504970883159 25.1961314878349, 121.504858894198 25.1960319963672, 121.50470007349 25.1959472443121, 121.504390067684 25.1959136198392, 121.503978253731 25.1957436548953, 121.503911060354 25.195638635787, 121.503888662562 25.1955244043735, 121.503887242506 25.1953471128095, 121.503937530472 25.1950670170352, 121.504053591759 25.194763012416, 121.504122821299 25.1946598349182, 121.504230737934 25.1946321980736, 121.504385486317 25.1946027187658, 121.504487294463 25.1945419176709, 121.504491366789 25.1944640738005, 121.50435290771 25.1939223896324, 121.50434578114 25.1936778018588, 121.504405847946 25.193321974136, 121.504392612887 25.1929696000268, 121.504452679694 25.1928608935599, 121.504737742504 25.1927171797767, 121.504870347615 25.1924636074478, 121.5053050684 25.1921425532603, 121.505352409188 25.1920610228657, 121.505316776337 25.1917855694902, 121.505333065641 25.1916255022341, 121.505449126928 25.1911722458989, 121.505533627689 25.1910651500246, 121.50567310485 25.1910808113626, 121.505758623693 25.1911904406725, 121.505726045086 25.1913804492217, 121.505666996361 25.1916708738374, 121.505704665375 25.1917676051179, 121.505617110369 25.1917712901176, 121.505598784903 25.1916312600527, 121.505653761302 25.1913548844523, 121.505668014443 25.1912111688923, 121.505613038044 25.1911374685393, 121.50556213397 25.1911429960673, 121.505509193734 25.1912130114005, 121.505391096284 25.1917528651182, 121.505425711054 25.1920573378748, 121.505364626166 25.1921936824631, 121.504926851136 25.1924999966064, 121.504798572871 25.1927584053825, 121.504501293083 25.1929117921507, 121.504464642151 25.1930739305065, 121.504487039943 25.1933005553466, 121.504409665752 25.1936842505069, 121.504430027381 25.1939200865483, 121.50454347684 25.1943356503171, 121.50348473874 25.1943894541857, 121.503403292223 25.1949260695334, 121.503230218374 25.1954995313902, 121.503108048598 25.1956764058276, 121.502916649283 25.1958016917321, 121.502702343134 25.195842685989, 121.5025394501 25.1957910977084, 121.502105238355 25.1957192425668, 121.501854790314 25.1958353162359, 121.501757054494 25.1959495473579, 121.501752982168 25.1961379363531, 121.501881260433 25.1965745923658, 121.502316891248 25.1971622984373, 121.502376048025 25.1973806515675, 121.502384192676 25.1977942730179, 121.502500253963 25.1979711441225, 121.50299096923 25.1987011953118, 121.503100922028 25.1991161940682, 121.503080560399 25.1992695728288, 121.502406590469 25.200014355235, 121.502072659748 25.2001529938813, 121.502013611023 25.2002359006375, 121.502025828001 25.2003538123713, 121.502257950575 25.200634312873, 121.502312926974 25.200743012401, 121.50228238453 25.2008461847447, 121.501962197909 25.2011271447015, 121.501073921831 25.201864546357, 121.501157404511 25.2020515444429, 121.501224597887 25.2022984183233, 121.501220525562 25.2025766114245, 121.501230706376 25.2026701099565, 121.501161476837 25.2027695960004, 121.501171657651 25.2028211813245, 121.50165015594 25.2033559171909, 121.502076223033 25.2038542649537, 121.502125090944 25.2039390115052, 121.502175995017 25.204160089188, 121.502139344084 25.2042710884566, 121.501888896044 25.2045861231736, 121.502304273281 25.2049808365735, 121.502509925737 25.205192700881, 121.502630568391 25.205452925015, 121.502691653279 25.2057592058052, 121.502777172122 25.205972911043, 121.503007258533 25.2062989950362, 121.503085141765 25.2063786736192, 121.503313192013 25.2065352672143, 121.503126883105 25.206771999502, 121.503114666128 25.2068935894475, 121.503159461712 25.2071588761797, 121.50306783438 25.2075885841909, 121.503047472751 25.2078248538659, 121.502955845419 25.2080017103984, 121.502189739117 25.2090121826376, 121.502149015858 25.2091305464303, 121.502179558302 25.2093483907751, 121.502142907369 25.2095399829422, 121.501898567817 25.2098941513223, 121.501859880722 25.2100323181612, 121.501902640143 25.2102464764515, 121.502059424689 25.2104380672048, 121.502175485976 25.2106941351444, 121.502224353886 25.2109432942592, 121.50213679888 25.2113366053911, 121.501725493968 25.2126933808748, 121.501450102932 25.2130291182982, 121.501297390712 25.2131787951774, 121.500855034316 25.2140823790734, 121.500714539073 25.2143034383322, 121.500522630717 25.2144549558005, 121.50025385721 25.2148312156886, 121.500192772322 25.2149656926246, 121.500062457895 25.2152332644422, 121.499719873482 25.2156560359254, 121.499394087413 25.2161349909508, 121.499335038688 25.2162915719925, 121.49930856857 25.2166880895527, 121.499400195902 25.2170182896009, 121.499575305914 25.2173300676245, 121.499921453612 25.217750068662, 121.500112852927 25.2179011213122, 121.500563353976 25.2181907918758, 121.50089321237 25.2183621070516, 121.501033707613 25.2185131589419, 121.501125334945 25.2188746695641, 121.501249540883 25.2191403906996, 121.50140021694 25.2193301253666, 121.501901622062 25.2195571618486, 121.502128145188 25.2197031465433, 121.502266604267 25.2198339339443, 121.502458003583 25.2201434021642, 121.502488546027 25.2203151751072, 121.50245596742 25.2204128046611, 121.502097602744 25.2207798358206, 121.501871588659 25.2209069379464, 121.501816612259 25.2210045670253, 121.501843082378 25.2210543025637, 121.501955071339 25.2210837754658, 121.502146470654 25.2209990408532, 121.502394882532 25.220680364499, 121.502529269285 25.2206379970596, 121.502973661845 25.2207743096382, 121.503585019765 25.2208945040487, 121.504167871404 25.2209405555155, 121.504730361413 25.2210363425106, 121.505176790136 25.2210547630779, 121.505353936311 25.2211266032638, 121.505602857229 25.2213720569124, 121.505739280145 25.2218035567786, 121.505684303746 25.2219803929945, 121.505535663852 25.2221056518252, 121.505049020912 25.2227531274009, 121.504719162517 25.223092521116, 121.504639752163 25.2232196208253, 121.504625499022 25.2235055946856, 121.504668258444 25.2237492015178, 121.504656041466 25.2239720852241, 121.504570522623 25.2240770798864, 121.504443771481 25.224158588838, 121.504356216475 25.224221217148, 121.504335854845 25.2243391056439, 121.504434608747 25.2245417262292, 121.50381128837 25.2256609686304, 121.503446815206 25.2260662050591, 121.502971371161 25.2263134907165, 121.501577617635 25.2274439988167, 121.50129611811 25.2276176034067, 121.500827291596 25.2277557501182, 121.50051779483 25.2279178420597, 121.500073402271 25.2282995861478, 121.499973630287 25.228347476757, 121.499639190526 25.2284082609646, 121.499451863536 25.2284690451418, 121.497783228014 25.2294443507392, 121.496886298243 25.2301986185424, 121.497157107913 25.2304127413335, 121.497417736768 25.2309809707403, 121.497829550721 25.2316021520374, 121.498044874951 25.2318765943573, 121.498297613675 25.2321208751293, 121.498351571992 25.2322203370937, 121.4983566624 25.2324885616619, 121.498444217406 25.2325281621488, 121.498545007471 25.232506059553, 121.498707900505 25.2323927836866, 121.498722153646 25.2323006894084, 121.498514465027 25.2316141243663, 121.498619327418 25.231395398941, 121.498809708652 25.2313125134139, 121.499084845168 25.2313005410553, 121.499545781551 25.2314469721294, 121.49982982628 25.231569458364, 121.500087655411 25.231844361231, 121.500322068668 25.2320075989039, 121.500568444383 25.232102456238, 121.500621384619 25.2321752108422, 121.50064301885 25.232277665828, 121.500494378956 25.2327054432405, 121.500474017327 25.232788327818, 121.500491324712 25.2328675285838, 121.50056666274 25.2329644573577, 121.500689850598 25.23320228939, 121.500806929966 25.2336751892608, 121.500791658744 25.2339648222558, 121.500804893803 25.234191601186, 121.500971604643 25.2346792320112, 121.500988912028 25.2348100033069, 121.501137551922 25.2353531170947, 121.501421851171 25.2355994629472, 121.502297146711 25.2364863038827, 121.502582718562 25.236790664727, 121.502694707523 25.2368468401702, 121.502996314157 25.2369168292106, 121.503237853985 25.2370579583045, 121.503510954338 25.2373657711103, 121.5035679669 25.2374958488381, 121.503546587189 25.2376035945321, 121.503441724798 25.2377288372699, 121.50317193321 25.2379160104593, 121.503003695248 25.2381291987593, 121.503003695248 25.2387560991208, 121.502761391859 25.2393698735733, 121.502679690822 25.2397368475155, 121.50270616094 25.2399564788179, 121.502821204145 25.2400301496061, 121.502751974606 25.2401139500735, 121.501662118397 25.2407295594275, 121.501401489542 25.240959779028, 121.500964732593 25.2415426931066, 121.500681196905 25.2418636169627, 121.499868258855 25.2425620953673, 121.498091197658 25.2437421786331, 121.497316946703 25.2444558402834, 121.496945856009 25.2447472892875, 121.496401691466 25.2450180185418, 121.495794405872 25.2452081732526, 121.495481854862 25.2453785295205, 121.494695895971 25.2459199846131, 121.494237250271 25.2464600560391, 121.493218150724 25.2472031682972, 121.492800737323 25.2474573171715, 121.492582358849 25.247538810448, 121.492350236275 25.2476714095606, 121.492264717432 25.247837158248, 121.491822361035 25.2484145144099, 121.491565804506 25.2489306335048, 121.491306702773 25.2496903052578, 121.490839912421 25.2505862514142, 121.490187322202 25.2513035560612, 121.48982437616 25.2514283242805, 121.489396781944 25.2516401076803, 121.489231852747 25.2517708607255, 121.4889075938 25.2521783120937, 121.488037134147 25.2536345367166, 121.48765026319 25.2539549682453, 121.487311751103 25.2542961164006, 121.487146821906 25.2545672847637, 121.48702465213 25.2548766645675, 121.486798638045 25.2550999515851, 121.486360353974 25.2552914716691, 121.485198723022 25.2553669746961, 121.48480116221 25.2555571132086, 121.484581256613 25.2556455067983, 121.484338444184 25.2556639221214, 121.483957681716 25.2557725724708, 121.48380038813 25.2558706339315, 121.483421152784 25.2563351587423, 121.482934000803 25.2566799832457, 121.482337405064 25.2570040897636, 121.481899120993 25.2569893576679, 121.481422149827 25.2569175386758, 121.481141159342 25.2569175386758, 121.480609211777 25.2570040897636, 121.480388797139 25.2571021502299, 121.480185180846 25.2572568370018, 121.480020251649 25.2574373046533, 121.479763186079 25.2576145494071, 121.47948626792 25.2577618695251, 121.478171924749 25.258130629412, 121.477971871741 25.2582489453931, 121.477705134397 25.2585030711574, 121.477360513821 25.258706095163, 121.478218247455 25.2600812170774, 121.479204768395 25.2615562217333, 121.479463361087 25.2618803152368, 121.479689884213 25.2621537684574, 121.479924042951 25.2623636917241, 121.481518867566 25.2634731485746, 121.48175811671 25.26356567958, 121.48216127697 25.2635969835858, 121.482576654208 25.2635251685017, 121.482840337308 25.2633833796213, 121.48391186805 25.262721849442, 121.48414806295 25.2626408267088, 121.485346344835 25.2624028221174, 121.486974766138 25.2620009293595, 121.487321931918 25.2618660440922, 121.489031290698 25.2611989813011, 121.491491484559 25.2602188665221, 121.491906861797 25.2600862811065, 121.492171562978 25.2600715493848, 121.492595084867 25.2600641835232, 121.493658979998 25.260139683583, 121.494027525489 25.2601304762611, 121.496004130654 25.2598666861936, 121.49755110544 25.2596696489106, 121.49797462733 25.2596972709789, 121.498796728113 25.2595623831525, 121.500361519325 25.2591420662004, 121.501140351646 25.258933518476, 121.501398944338 25.2588580176662, 121.501771562154 25.2588175050173)","wkt0":"LINESTRING (121.501764308325 25.2588665345283, 121.501177893401 25.2589733405306, 121.500369364089 25.2592080172485, 121.498770130735 25.2596252234044, 121.497954647482 25.2597614922635, 121.497582029665 25.2597228213866, 121.497555559547 25.2598517242617, 121.49401416317 25.2602922948411, 121.493388043069 25.2602646729081, 121.492138857111 25.2602352095061, 121.491777947232 25.2602996606888, 121.489621650688 25.2611071390358, 121.48721897843 25.2620564026087, 121.486998563793 25.2621397275243, 121.485455661332 25.2625121569733, 121.484026274955 25.262829802943, 121.482916566158 25.2635424317471, 121.482636593755 25.2636625838659, 121.482388181878 25.2637288746392, 121.482131625348 25.2637675442403, 121.481907138385 25.2637546543746, 121.481675015811 25.2637067777188, 121.481359410557 25.2635741961119, 121.480765573122 25.2631487991744, 121.479667359162 25.2623537940344, 121.479322738586 25.261999778462, 121.478826047216 25.2612808227803, 121.477384796327 25.259076661038, 121.477171088655 25.2587404317002, 121.477676722667 25.2584811322068, 121.477974917085 25.2582218327134, 121.478186678338 25.2580792179921, 121.478904073603 25.2578933866885, 121.479500462438 25.257729163676, 121.479809890567 25.2575111950303, 121.480154002102 25.25721287099, 121.480378489065 25.2570374671613, 121.480594322336 25.2569361839953, 121.481128306064 25.2568496328591, 121.481409805589 25.2568441083164, 121.481894412367 25.2569251349175, 121.482318443297 25.2569343424824, 121.48291809328 25.2566152999523, 121.483366049125 25.2562893508742, 121.483753429123 25.255811474797, 121.483900032853 25.2557249228593, 121.48432813611 25.2556015402032, 121.484558222521 25.2555739172034, 121.484762347855 25.2555034785253, 121.485165508115 25.255295384937, 121.486351573022 25.2552309310984, 121.486759823689 25.2550463166999, 121.486959367657 25.2548547962294, 121.487081537432 25.2545357482365, 121.487254611282 25.2542535304823, 121.487560544762 25.2539473718181, 121.487988138977 25.2535864258754, 121.488218613147 25.2532329050436, 121.488652946174 25.2524593836818, 121.488915611192 25.2520597600005, 121.48919914688 25.2516965064584, 121.489384437707 25.2515731197102, 121.489836974918 25.2513535094044, 121.490140363195 25.2512430135029, 121.49077615507 25.2505478078171, 121.490987799572 25.2501620689218, 121.491247017748 25.2496684359859, 121.491489830177 25.2489327053434, 121.491771329702 25.2483608765728, 121.492190779266 25.2478060803864, 121.49229106029 25.2476196130496, 121.492537436005 25.2474833305681, 121.492765995294 25.2474128871984, 121.493466944383 25.2469354366166, 121.494202508241 25.2463916839582, 121.49463264766 25.2458939708821, 121.494971159748 25.2456577751567, 121.495421151755 25.2453502135629, 121.495769335616 25.2451494693483, 121.496392910514 25.2449542498858, 121.496920785754 25.2446885851605, 121.497283731796 25.2444026611244, 121.497660930979 25.2440246510198, 121.498060527954 25.2436724237374, 121.499826899296 25.2425112175441, 121.500670888831 25.2417754435631, 121.50091370126 25.2414987214076, 121.501353512453 25.2408996917544, 121.501645192793 25.2406634863217, 121.502394994841 25.2402337800125, 121.502714235831 25.2400637675074, 121.502780862668 25.2400349842502, 121.502679054521 25.2399594716947, 121.502658692892 25.2397292501993, 121.502738103246 25.2393604344549, 121.502982442798 25.2387521853204, 121.502980406635 25.2381273569614, 121.50315755281 25.2379003551483, 121.503479266553 25.2376553953125, 121.503532206789 25.2375738954081, 121.503542387604 25.2374946977085, 121.503495555856 25.2373712965389, 121.503212529209 25.2370761462183, 121.502992623612 25.2369370891886, 121.502682108766 25.2368661792513, 121.502561720632 25.2367925065453, 121.502247897021 25.2364715692991, 121.501928823708 25.236150249196, 121.501372601481 25.2355856491744, 121.501104591535 25.2353641681344, 121.501019187143 25.2350286860321, 121.500956715202 25.2348063196104, 121.500951624795 25.2347068597615, 121.500778550946 25.2341738733052, 121.500770406294 25.2339627501622, 121.500783641353 25.2336724264627, 121.500665543903 25.233208735944, 121.500532938792 25.232958931729, 121.500462691171 25.2328693704615, 121.500449456112 25.2327855649998, 121.500473890067 25.2326821895017, 121.500610312984 25.2322693773381, 121.500593005599 25.2321761317863, 121.500542101526 25.2321227170183, 121.500305652105 25.2320202619019, 121.500083455825 25.2318736012817, 121.500041530236 25.2318300567378, 121.499814427798 25.2315830423562, 121.499535218956 25.2314686144431, 121.499090062836 25.231330241712, 121.498855649578 25.2313359976524, 121.498690720381 25.2313949384661, 121.498640834389 25.2314151993642, 121.498540044324 25.2316134336551, 121.49874569678 25.2323011498801, 121.498729407477 25.2324063675868, 121.498557351709 25.2325233272064, 121.498443326585 25.2325463507404, 121.498333373787 25.2325067502593, 121.498329301461 25.2322378350236, 121.49827305246 25.2321344590599, 121.498008096758 25.2318788967232, 121.497807025669 25.231607907965, 121.497382485698 25.2309618609616, 121.497126183689 25.2304196485141, 121.496825990255 25.2301634666981, 121.497727055995 25.2294309456292, 121.498119322159 25.2291542464923, 121.499447918471 25.2283985907518, 121.499629136972 25.2283322807004, 121.500039257164 25.2282543497469, 121.50048941581 25.227869490793, 121.500801457779 25.2276940446066, 121.501270029773 25.2275494509713, 121.5015802901 25.2273599593705, 121.501933540472 25.2270788240741, 121.502951258703 25.2262486049286, 121.503403292223 25.2260096792634, 121.503745876637 25.2256389799106, 121.503957637581 25.2252424915262, 121.504367415371 25.2245029290184, 121.504296149668 25.2243422140305, 121.504326692112 25.2242206415204, 121.504406102467 25.2241211730126, 121.504532344568 25.2240585446511, 121.504617863412 25.2239903902212, 121.504630080389 25.2237596779822, 121.504583248642 25.2235031770351, 121.504601574108 25.2232176636751, 121.504689638155 25.2230716831982, 121.50501949655 25.2227322894249, 121.505504612368 25.2220889583305, 121.505643071447 25.2219729096964, 121.505696011683 25.221818178012, 121.505571805744 25.2213903623007, 121.505476106087 25.2212996412299, 121.505331029478 25.2211660923224, 121.505173608631 25.2210937916458, 121.504706691019 25.2210726079999, 121.504031957528 25.2209646174, 121.503557277045 25.2209259341767, 121.502933447627 25.220799753101, 121.50253919558 25.220684624268, 121.502425170456 25.2207150182905, 121.502169377488 25.2210272473545, 121.501955325859 25.2211285604479, 121.501820939106 25.221079745968, 121.501766980788 25.2210152739833, 121.501814830617 25.2209075135899, 121.50206018825 25.2207481753973, 121.502423897854 25.2203921965425, 121.50244222332 25.2202961787817, 121.502420843609 25.2201642405838, 121.50222639005 25.219850858008, 121.502099129866 25.2197262876342, 121.501868534415 25.2195853686843, 121.501371456139 25.2193548783505, 121.501280592368 25.219253103259, 121.501195824761 25.2191258413978, 121.501076976075 25.2188641926791, 121.500994256956 25.2185379120921, 121.500885067719 25.218407814084, 121.500509395658 25.218205183281, 121.500075438434 25.2179247232719, 121.499883784598 25.2177688351219, 121.499533055533 25.2173428472828, 121.499427938622 25.2171678464409, 121.499339874575 25.2169728123114, 121.499272044898 25.2166936159207, 121.499277644346 25.2164587450588, 121.499293933649 25.2162733809701, 121.499355018537 25.2161250894959, 121.499578996459 25.2158006436992, 121.499700402674 25.2156168904795, 121.500023389019 25.2152252050588, 121.500124179084 25.2149339155539, 121.500250650403 25.2147004677087, 121.500482034719 25.2143925527324, 121.500669361709 25.2142458708556, 121.500801966819 25.2140363250107, 121.500928463442 25.2137337493846, 121.501039165353 25.2135060394427, 121.501232460626 25.2131435237627, 121.50164977416 25.2126901570542, 121.501996430899 25.2115489191858, 121.502100275208 25.2112053483046, 121.50214303463 25.2109584924882, 121.502096202882 25.2107056489781, 121.501943490662 25.2103920117628, 121.501831501701 25.2102483186718, 121.501786706117 25.2100125142573, 121.501833537864 25.209851780127, 121.502059551949 25.2095399829422, 121.502103329452 25.2093364162547, 121.50207380509 25.2090837996544, 121.502135908059 25.2089546126579, 121.502415318378 25.2085856202407, 121.502892469848 25.2079710829184, 121.502982061017 25.2078052798849, 121.503016675787 25.2074713703127, 121.503081833001 25.207209768794, 121.503041109742 25.2068887534862, 121.503063507534 25.2067432139859, 121.503210111265 25.2065419454662, 121.503026856602 25.2064166706131, 121.502908759152 25.2062854082206, 121.502711251347 25.2059864978935, 121.50261555169 25.2057635812395, 121.502568971136 25.2056320640472, 121.502538177498 25.2054499312893, 121.502448586329 25.2052399097254, 121.502295365069 25.2050699578, 121.502040844703 25.2048451971656, 121.501966814542 25.2047009226223, 121.501559668652 25.204612388564, 121.501357515345 25.2046268635171, 121.50103492187 25.2047818920219, 121.500834927207 25.2048428942881, 121.50083696337 25.2050731818225, 121.500706648942 25.2052408308734, 121.500462309391 25.2053900567576, 121.500169101929 25.2054121642804, 121.499965485636 25.2053697915248, 121.499612720408 25.2051818773873, 121.499512948424 25.2051708236055, 121.499048194235 25.2053200495754, 121.498416067606 25.2055039943219, 121.498252482361 25.2055228695425, 121.497208053491 25.205472535621, 121.497069635206 25.2054977025817, 121.496761201483 25.2056346497909, 121.494902693768 25.2060733443149, 121.493072819595 25.2061949349582, 121.492535272581 25.2061838812684, 121.492662023724 25.205737242274, 121.492516947115 25.205460898688, 121.492422265538 25.205375232049, 121.492268026196 25.2053527790892, 121.492151964909 25.205238096215, 121.49212447671 25.2050985422103, 121.492232902386 25.2049019918679, 121.492269553319 25.2047496564985, 121.492362707773 25.2044691654784, 121.49241615705 25.2043752077508, 121.493045331395 25.2042646691549, 121.493517593935 25.2043665719266, 121.493679468888 25.2043430824817, 121.493815382763 25.2042781410516, 121.493864250674 25.2041327135746, 121.493867304918 25.2040221747585, 121.493836762474 25.2038342585409, 121.493695503671 25.2036898668383, 121.493697030793 25.2036117985258, 121.493726046115 25.2035592923761, 121.493803165786 25.2035392571287, 121.49386883204 25.2036076533043, 121.493903955851 25.2036173254877, 121.493942133906 25.2036193980983, 121.494007036599 25.2035738006566, 121.494103436188 25.203443053352, 121.494168338881 25.2033005610835, 121.494172156687 25.203221801649, 121.494310743026 25.2030439018615, 121.494403897481 25.2029292168122, 121.494450474708 25.2028331852721, 121.494471090857 25.2027431988141, 121.49446574593 25.2026250591024, 121.494353502448 25.2024526854576, 121.494025743846 25.2020714935749, 121.49355596288 25.2017590431535, 121.493491632858 25.2016580018008, 121.493454981925 25.2015079077393, 121.493490105735 25.2013308690514, 121.493584023751 25.2012139370159, 121.493607694145 25.2008966481942, 121.493738263092 25.2009166838765, 121.49377758649 25.2006490517978, 121.493923172139 25.199985337824, 121.494350766355 25.1995247430717, 121.494407778917 25.1994197272242, 121.494403706591 25.199298129814, 121.494360947169 25.1991668597463, 121.494212307275 25.1989973599407, 121.493824418237 25.1982092748653, 121.493751116372 25.1979089629041, 121.493749080209 25.1977652550779, 121.493883976003 25.1974368452101, 121.493888048329 25.1973005064916, 121.493841216581 25.1972083856493, 121.49365999808 25.1970752709092, 121.493283307938 25.1968726045895, 121.493162665285 25.1967505440297, 121.492981446784 25.1963723858205, 121.492934615036 25.1961066149756, 121.492942759688 25.1958910499823, 121.492907635878 25.1957174001268, 121.492654642633 25.1954677492375, 121.492536036143 25.1953825361784, 121.492426083344 25.1951890792825, 121.492399613226 25.1950269437425, 121.492540617509 25.1947924916851, 121.492917307651 25.1944479522827, 121.493113288334 25.1942056686433, 121.49318048171 25.1940822235618, 121.493274145205 25.1937224817713, 121.493266000553 25.1936243701894, 121.493021661002 25.1932282381163, 121.493090890541 25.1931895460773, 121.493300615323 25.1935138218335, 121.493341338582 25.1936096304144, 121.493351519396 25.193709123861, 121.49324971125 25.1941167697726, 121.493186590199 25.1942333055847, 121.492956503788 25.1945119777266, 121.492581849809 25.194840395482, 121.49249225864 25.1950453682466, 121.492488186314 25.1951596001095, 121.49258999446 25.1953420023781, 121.492714200399 25.1954269851599, 121.492971520489 25.1956846968106, 121.493021661002 25.1958797650522, 121.49300638978 25.19610362102, 121.493058311934 25.1963691615676, 121.493217132643 25.196704022803, 121.493330394206 25.1968120349308, 121.493679850669 25.1970183861922, 121.493890848053 25.1971558767381, 121.493966186081 25.1972839247451, 121.493964149918 25.1974343118907, 121.493828745083 25.1977707823051, 121.493827727002 25.19791587193, 121.493863359853 25.198069021902, 121.494275682846 25.1989623545166, 121.494426867944 25.1991240242198, 121.494483880506 25.1992797059534, 121.494482862425 25.1994236422903, 121.494426867944 25.199543397193, 121.493996219484 25.2000127431568, 121.49385445164 25.2006575727378, 121.493806601811 25.2009730773957, 121.493857505885 25.2010891460568, 121.493943024728 25.2011960028216, 121.494065194504 25.2012844359354, 121.494496861045 25.2014815678536, 121.494633793002 25.201564934293, 121.494984013026 25.2019039265197, 121.495173885219 25.202051774736, 121.495579081642 25.2022378513636, 121.495760300143 25.2023741845538, 121.495927774544 25.2026012526702, 121.49608455909 25.2031709937268, 121.496196548051 25.2033464752774, 121.496408308996 25.2035491308217, 121.496671483055 25.2037006616787, 121.496987088309 25.2037688274739, 121.497576048437 25.2037154002323, 121.498236274267 25.2037485619712, 121.498847728331 25.2038356929051, 121.499041576706 25.2039056195287, 121.499129640753 25.2040166190292, 121.499162275268 25.2044585811717, 121.499296740252 25.2047822014487, 121.499481896939 25.2048880306792, 121.499650898463 25.204948826608, 121.499895238014 25.204981988011, 121.500182846028 25.2049672496108, 121.500936735353 25.2047609118207, 121.501342440817 25.2045601006, 121.501609178161 25.2045379929224, 121.501807195006 25.2045711544373, 121.501968847008 25.2043568466262, 121.502100402468 25.2041971657185, 121.502051534558 25.203942926426, 121.501809231169 25.2036384833863, 121.501104718795 25.2028246356981, 121.501096574143 25.202738046037, 121.501181074905 25.2025897380701, 121.50130935317 25.2026275059546, 121.501870361976 25.2030787463889, 121.502005211851 25.2031039790521, 121.502460548787 25.2031122695293, 121.502766482267 25.2031528007431, 121.502878471228 25.2031528007431, 121.503307338045 25.2030137049303, 121.503730605414 25.2030173895897, 121.504009559736 25.2029971239619, 121.504106277475 25.2030837134388, 121.504274515437 25.2033114711038, 121.504663677077 25.2034286889878, 121.504854312832 25.2034443487358, 121.505578932315 25.2034213196939, 121.50570110209 25.2034332947962, 121.505779494363 25.2034765893872, 121.506014925702 25.2038333085963, 121.506097644821 25.2038482774234, 121.5066110124 25.2038141945529, 121.506817937458 25.2036585186174, 121.506933998745 25.2036170664116, 121.507476127125 25.2035986432046, 121.507746427754 25.2036861534151, 121.508005020446 25.2037239209577, 121.508373820457 25.2036741783359, 121.508471810798 25.2035783776736, 121.508541040338 25.2034501059956, 121.508604161389 25.2032122157936, 121.508696043241 25.2031329957199, 121.508833484239 25.203090622171, 121.50921653739 25.2030887798424, 121.509254460925 25.2030461759869, 121.509227990807 25.2029899849331, 121.509074260505 25.202954980657, 121.508960998942 25.2029651134748, 121.508452721771 25.203103288179, 121.507677198215 25.2027896313745, 121.507385008834 25.2026007920863, 121.507085183842 25.2025112084678, 121.507144232567 25.2024504113216, 121.507683815744 25.2024135645516, 121.507960733903 25.2022127494589, 121.508401054136 25.2020579926476, 121.508658119706 25.2020137763797, 121.508865808325 25.2020156187245, 121.509268968586 25.20206351968, 121.509481238571 25.2020082493451, 121.509768337544 25.2018405958425, 121.510114994283 25.2018055912359, 121.510538516173 25.2018627040099, 121.510861237621 25.202025535978, 121.511510984898 25.2018652486513, 121.511743415587 25.2018940239068, 121.512143012562 25.2020727314, 121.512588932244 25.2020450962378, 121.512719246671 25.2019971952751)","wkt1":"LINESTRING (121.505617110369 25.1917712901176, 121.505598784903 25.1916312600527, 121.505653761302 25.1913548844523, 121.505671568622 25.191220029883, 121.505660720206 25.1910301826097, 121.505581165159 25.1909940212243, 121.505530539219 25.1910554955794, 121.505509193734 25.1912130114005, 121.505391096284 25.1917528651182, 121.505425711054 25.1920573378748, 121.505364626166 25.1921936824631, 121.504926851136 25.1924999966064, 121.504798572871 25.1927584053825, 121.504501293083 25.1929117921507, 121.504464642151 25.1930739305065, 121.504487039943 25.1933005553466, 121.504409665752 25.1936842505069, 121.504430027381 25.1939200865483, 121.50454347684 25.1943356503171, 121.50348473874 25.1943894541857, 121.503403292223 25.1949260695334, 121.503230218374 25.1954995313902, 121.503108048598 25.1956764058276, 121.502916649283 25.1958016917321, 121.502702343134 25.195842685989, 121.5025394501 25.1957910977084, 121.502105238355 25.1957192425668, 121.501854790314 25.1958353162359, 121.501757054494 25.1959495473579, 121.501752982168 25.1961379363531, 121.501881260433 25.1965745923658, 121.502316891248 25.1971622984373, 121.502376048025 25.1973806515675, 121.502384192676 25.1977942730179, 121.502500253963 25.1979711441225, 121.50299096923 25.1987011953118, 121.503100922028 25.1991161940682, 121.503080560399 25.1992695728288, 121.502406590469 25.200014355235, 121.502072659748 25.2001529938813, 121.502013611023 25.2002359006375, 121.502025828001 25.2003538123713, 121.502257950575 25.200634312873, 121.502312926974 25.200743012401, 121.50228238453 25.2008461847447, 121.501962197909 25.2011271447015, 121.501073921831 25.201864546357, 121.501157404511 25.2020515444429, 121.501224597887 25.2022984183233, 121.501220525562 25.2025766114245, 121.501230706376 25.2026701099565, 121.501161476837 25.2027695960004, 121.501171657651 25.2028211813245, 121.50165015594 25.2033559171909, 121.502076223033 25.2038542649537, 121.502125090944 25.2039390115052, 121.502175995017 25.204160089188, 121.502139344084 25.2042710884566, 121.501849310186 25.20458256582, 121.502304273281 25.2049808365735, 121.502509925737 25.205192700881, 121.502630568391 25.205452925015, 121.502691653279 25.2057592058052, 121.502777172122 25.205972911043, 121.503007258533 25.2062989950362, 121.503085141765 25.2063786736192, 121.503313192013 25.2065352672143, 121.503126883105 25.206771999502, 121.503114666128 25.2068935894475, 121.503159461712 25.2071588761797, 121.50306783438 25.2075885841909, 121.503047472751 25.2078248538659, 121.502955845419 25.2080017103984, 121.502189739117 25.2090121826376, 121.502149015858 25.2091305464303, 121.502179558302 25.2093483907751, 121.502142907369 25.2095399829422, 121.501898567817 25.2098941513223, 121.501859880722 25.2100323181612, 121.501902640143 25.2102464764515, 121.502059424689 25.2104380672048, 121.502175485976 25.2106941351444, 121.502224353886 25.2109432942592, 121.50213679888 25.2113366053911, 121.501725493968 25.2126933808748, 121.501450102932 25.2130291182982, 121.501297390712 25.2131787951774, 121.500855034316 25.2140823790734, 121.500714539073 25.2143034383322, 121.500522630717 25.2144549558005, 121.50025385721 25.2148312156886, 121.500192772322 25.2149656926246, 121.500062457895 25.2152332644422, 121.499719873482 25.2156560359254, 121.499394087413 25.2161349909508, 121.499335038688 25.2162915719925, 121.49930856857 25.2166880895527, 121.499400195902 25.2170182896009, 121.499575305914 25.2173300676245, 121.499921453612 25.217750068662, 121.500112852927 25.2179011213122, 121.500563353976 25.2181907918758, 121.50089321237 25.2183621070516, 121.501033707613 25.2185131589419, 121.501125334945 25.2188746695641, 121.501249540883 25.2191403906996, 121.50140021694 25.2193301253666, 121.501901622062 25.2195571618486, 121.502128145188 25.2197031465433, 121.502266604267 25.2198339339443, 121.502458003583 25.2201434021642, 121.502488546027 25.2203151751072, 121.50245596742 25.2204128046611, 121.502097602744 25.2207798358206, 121.501871588659 25.2209069379464, 121.501816612259 25.2210045670253, 121.501843082378 25.2210543025637, 121.501955071339 25.2210837754658, 121.502146470654 25.2209990408532, 121.502394882532 25.220680364499, 121.502529269285 25.2206379970596, 121.502973661845 25.2207743096382, 121.503585019765 25.2208945040487, 121.504167871404 25.2209405555155, 121.504730361413 25.2210363425106, 121.505176790136 25.2210547630779, 121.505353936311 25.2211266032638, 121.505602857229 25.2213720569124, 121.505739280145 25.2218035567786, 121.505684303746 25.2219803929945, 121.505535663852 25.2221056518252, 121.505049020912 25.2227531274009, 121.504719162517 25.223092521116, 121.504639752163 25.2232196208253, 121.504625499022 25.2235055946856, 121.504668258444 25.2237492015178, 121.504656041466 25.2239720852241, 121.504570522623 25.2240770798864, 121.504443771481 25.224158588838, 121.504356216475 25.224221217148, 121.504335854845 25.2243391056439, 121.504434608747 25.2245417262292, 121.50381128837 25.2256609686304, 121.503446815206 25.2260662050591, 121.502971371161 25.2263134907165, 121.501577617635 25.2274439988167, 121.50129611811 25.2276176034067, 121.500827291596 25.2277557501182, 121.50051779483 25.2279178420597, 121.500073402271 25.2282995861478, 121.499973630287 25.228347476757, 121.499639190526 25.2284082609646, 121.499451863536 25.2284690451418, 121.497783228014 25.2294443507392, 121.496886298243 25.2301986185424, 121.497157107913 25.2304127413335, 121.497417736768 25.2309809707403, 121.497829550721 25.2316021520374, 121.498044874951 25.2318765943573, 121.498297613675 25.2321208751293, 121.498351571992 25.2322203370937, 121.4983566624 25.2324885616619, 121.498444217406 25.2325281621488, 121.498545007471 25.232506059553, 121.498707900505 25.2323927836866, 121.498722153646 25.2323006894084, 121.498514465027 25.2316141243663, 121.498619327418 25.231395398941, 121.498809708652 25.2313125134139, 121.499084845168 25.2313005410553, 121.499545781551 25.2314469721294, 121.49982982628 25.231569458364, 121.500087655411 25.231844361231, 121.500322068668 25.2320075989039, 121.500568444383 25.232102456238, 121.500621384619 25.2321752108422, 121.50064301885 25.232277665828, 121.500494378956 25.2327054432405, 121.500474017327 25.232788327818, 121.500491324712 25.2328675285838, 121.50056666274 25.2329644573577, 121.500689850598 25.23320228939, 121.500806929966 25.2336751892608, 121.500791658744 25.2339648222558, 121.500804893803 25.234191601186, 121.500971604643 25.2346792320112, 121.500988912028 25.2348100033069, 121.501137551922 25.2353531170947, 121.501421851171 25.2355994629472, 121.502297146711 25.2364863038827, 121.502582718562 25.236790664727, 121.502694707523 25.2368468401702, 121.502996314157 25.2369168292106, 121.503237853985 25.2370579583045, 121.503510954338 25.2373657711103, 121.5035679669 25.2374958488381, 121.503546587189 25.2376035945321, 121.503441724798 25.2377288372699, 121.50317193321 25.2379160104593, 121.503003695248 25.2381291987593, 121.503003695248 25.2387560991208, 121.502761391859 25.2393698735733, 121.502679690822 25.2397368475155, 121.50270616094 25.2399564788179, 121.502821204145 25.2400301496061, 121.502751974606 25.2401139500735, 121.501662118397 25.2407295594275, 121.501401489542 25.240959779028, 121.500964732593 25.2415426931066, 121.500681196905 25.2418636169627, 121.499868258855 25.2425620953673, 121.498091197658 25.2437421786331, 121.497316946703 25.2444558402834, 121.496945856009 25.2447472892875, 121.496401691466 25.2450180185418, 121.495794405872 25.2452081732526, 121.495481854862 25.2453785295205, 121.494695895971 25.2459199846131, 121.494237250271 25.2464600560391, 121.493218150724 25.2472031682972, 121.492800737323 25.2474573171715, 121.492582358849 25.247538810448, 121.492350236275 25.2476714095606, 121.492264717432 25.247837158248, 121.491822361035 25.2484145144099, 121.491565804506 25.2489306335048, 121.491306702773 25.2496903052578, 121.490839912421 25.2505862514142, 121.490187322202 25.2513035560612, 121.48982437616 25.2514283242805, 121.489396781944 25.2516401076803, 121.489231852747 25.2517708607255, 121.4889075938 25.2521783120937, 121.488037134147 25.2536345367166, 121.48765026319 25.2539549682453, 121.487311751103 25.2542961164006, 121.487146821906 25.2545672847637, 121.48702465213 25.2548766645675, 121.486798638045 25.2550999515851, 121.486360353974 25.2552914716691, 121.485198723022 25.2553669746961, 121.48480116221 25.2555571132086, 121.484581256613 25.2556455067983, 121.484338444184 25.2556639221214, 121.483957681716 25.2557725724708, 121.48380038813 25.2558706339315, 121.483421152784 25.2563351587423, 121.482934000803 25.2566799832457, 121.482337405064 25.2570040897636, 121.481899120993 25.2569893576679, 121.481422149827 25.2569175386758, 121.481141159342 25.2569175386758, 121.480609211777 25.2570040897636, 121.480388797139 25.2571021502299, 121.480185180846 25.2572568370018, 121.480020251649 25.2574373046533, 121.479763186079 25.2576145494071, 121.47948626792 25.2577618695251, 121.478171924749 25.258130629412, 121.477971871741 25.2582489453931, 121.477705134397 25.2585030711574, 121.477360513821 25.258706095163, 121.478218247455 25.2600812170774, 121.479204768395 25.2615562217333, 121.479463361087 25.2618803152368, 121.479689884213 25.2621537684574, 121.479924042951 25.2623636917241, 121.481518867566 25.2634731485746, 121.48175811671 25.26356567958, 121.48216127697 25.2635969835858, 121.482576654208 25.2635251685017, 121.482840337308 25.2633833796213, 121.48391186805 25.262721849442, 121.48414806295 25.2626408267088, 121.485346344835 25.2624028221174, 121.486974766138 25.2620009293595, 121.487321931918 25.2618660440922, 121.489031290698 25.2611989813011, 121.491491484559 25.2602188665221, 121.491906861797 25.2600862811065, 121.492171562978 25.2600715493848, 121.492595084867 25.2600641835232, 121.493658979998 25.260139683583, 121.494027525489 25.2601304762611, 121.496004130654 25.2598666861936, 121.49755110544 25.2596696489106, 121.49800354685 25.2596491234949, 121.498777400497 25.2595406393388, 121.500308835168 25.2591175511297, 121.501422605838 25.2588065632153, 121.501932481372 25.2587487049987)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454013100'=='0100020200' || '0454013100'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
