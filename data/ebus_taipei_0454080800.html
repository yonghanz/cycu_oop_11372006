
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231493001</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454080800">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454080800">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454080800" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454080800" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454080800" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454080800',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="XLAYXhSWvfftssPVNFU52rZjpmJknHPcAG3Y9yhmQwOH_Nf0k4V6arywSj7Ial9U1EFtd18VlUfPjL75JFwbG5RapHw1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">F808 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454080800" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454080800" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">瑞芳 - 三貂嶺</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0610 - 1710 <br>
                        [假日] 0610 - 1710
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> F808碩仁里班表:0655 0900 1040 1440 1620 1800<br/>F808龍安宮班表:0610 0810 0950 1300 1530 1710<br>
[假日]<br /> F808碩仁里班表:0655 0900 1040 1440 1620 1800<br/>F808龍安宮班表:0610 0810 0950 1300 1530 1710<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">瑞芳區公所瑞芳區公所站:(02)2497-2250</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 三貂嶺</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 瑞芳</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">龍安宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244100720" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.112348" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.797814" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">祖師廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244600520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.108654" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.803841" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">區民廣場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244100120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107574" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.808298" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">第一市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244100320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107432" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.808948" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">OK店</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244200020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106956" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.81039" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">東方瑞士</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244200120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107226" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.812023" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">瑞芳國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244200420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107814" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.814524" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">幼兒園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300630" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107127" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.817211" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">民享新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2245400040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106187" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.817869" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">黃金大鎮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.103769" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.816841" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">達樂花園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10458" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.818997" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">土地公廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.102932" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.821342" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">蛇子形路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.104955" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.825909" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">台電變電所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2245000270" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105874" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.821645" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">瑞芳公園入口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2245002320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107566" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8190193" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">瑞柑新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601640" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106327" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.82886" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">猴硐國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.095344" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.833604" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">弓橋里活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244600140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09298" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8328118" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">福利社</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.088943" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.83005" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">猴硐車站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.087102" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.827546" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">復興橋頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244600940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.082274" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8244889" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">猴硐活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.082956" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.825605" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">碩仁里金字橋頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.060933" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.823321" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">碩仁里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057697" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.820293" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">碩仁里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057697" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.820293" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">碩仁里金字橋頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.060874" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.823458" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">猴硐活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.082956" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.825605" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">復興橋頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244600800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.082235" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.824616" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">猴硐車站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.08693" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.827502" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">福利社</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.088829" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.830077" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">弓橋里活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244600100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.092961" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8329252" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">猴硐國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.095158" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.833722" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">瑞柑新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244601600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106267" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.829299" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">瑞芳公園入口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2245002320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107566" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8190193" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">台電變電所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2245000220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10585" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.821552" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">蛇子形路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.104955" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.825909" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">土地公廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.103093" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.821435" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">達樂花園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300550" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.104766" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.819204" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">黃金大鎮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.103769" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.816841" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">民享新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2245400000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106297" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.818015" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">幼兒園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244300670" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107232" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.817412" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">瑞芳國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244200460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107898" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.814399" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">東方瑞士</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244200160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107391" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.812018" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">OK店</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244200050" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10715" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.810473" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">第一市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244100360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.107587" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8091416" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">瑞芳火車站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244100460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.108227" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8058805" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">祖師廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244600560" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.108753" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.803954" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">龍安宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244100720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.112348" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.797814" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454080800";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 24;
        var existBackNum = 24;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454080800',
                        url: './StopStatusRecent3OfRoute?routeid=0454080800&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454080800',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454080800',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454080800');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454080800","Name":"F808","BeginStop":"瑞芳","GoDirStops":[{"UniStopId":"2244100720","Name":"龍安宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.797814,"Latitude":25.112348,"PublicId":"2244100720"},{"UniStopId":"2244600520","Name":"祖師廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.803841,"Latitude":25.108654,"PublicId":"2244600520"},{"UniStopId":"2244100120","Name":"區民廣場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.808298,"Latitude":25.107574,"PublicId":"2244100120"},{"UniStopId":"2244100320","Name":"第一市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.808948,"Latitude":25.107432,"PublicId":"2244100320"},{"UniStopId":"2244200020","Name":"OK店","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.81039,"Latitude":25.106956,"PublicId":"2244200020"},{"UniStopId":"2244200120","Name":"東方瑞士","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.812023,"Latitude":25.107226,"PublicId":"2244200120"},{"UniStopId":"2244200420","Name":"瑞芳國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.814524,"Latitude":25.107814,"PublicId":"2244200420"},{"UniStopId":"2244300630","Name":"幼兒園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.817211,"Latitude":25.107127,"PublicId":"2244300630"},{"UniStopId":"2245400040","Name":"民享新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.817869,"Latitude":25.106187,"PublicId":"2245400040"},{"UniStopId":"2244300320","Name":"黃金大鎮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.816841,"Latitude":25.103769,"PublicId":"2244300320"},{"UniStopId":"2244300520","Name":"達樂花園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.818997,"Latitude":25.10458,"PublicId":"2244300520"},{"UniStopId":"2244300020","Name":"土地公廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.821342,"Latitude":25.102932,"PublicId":"2244300020"},{"UniStopId":"2244300220","Name":"蛇子形路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.825909,"Latitude":25.104955,"PublicId":"2244300220"},{"UniStopId":"2245000270","Name":"台電變電所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.821645,"Latitude":25.105874,"PublicId":"2245000270"},{"UniStopId":"2245002320","Name":"瑞芳公園入口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8190193,"Latitude":25.107566,"PublicId":"2245002320"},{"UniStopId":"2244601640","Name":"瑞柑新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.82886,"Latitude":25.106327,"PublicId":"2244601640"},{"UniStopId":"2244601440","Name":"猴硐國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.833604,"Latitude":25.095344,"PublicId":"2244601440"},{"UniStopId":"2244600140","Name":"弓橋里活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8328118,"Latitude":25.09298,"PublicId":"2244600140"},{"UniStopId":"2244601940","Name":"福利社","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.83005,"Latitude":25.088943,"PublicId":"2244601940"},{"UniStopId":"2244601240","Name":"猴硐車站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.827546,"Latitude":25.087102,"PublicId":"2244601240"},{"UniStopId":"2244600940","Name":"復興橋頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8244889,"Latitude":25.082274,"PublicId":"2244600940"},{"UniStopId":"2244601340","Name":"猴硐活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.825605,"Latitude":25.082956,"PublicId":"2244601340"},{"UniStopId":"2244601840","Name":"碩仁里金字橋頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.823321,"Latitude":25.060933,"PublicId":"2244601840"},{"UniStopId":"2244601720","Name":"碩仁里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.820293,"Latitude":25.057697,"PublicId":"2244601720"}],"LastStop":"三貂嶺","BackDirStops":[{"UniStopId":"2244601720","Name":"碩仁里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.820293,"Latitude":25.057697,"PublicId":"2244601720"},{"UniStopId":"2244601800","Name":"碩仁里金字橋頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.823458,"Latitude":25.060874,"PublicId":"2244601800"},{"UniStopId":"2244601340","Name":"猴硐活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.825605,"Latitude":25.082956,"PublicId":"2244601340"},{"UniStopId":"2244600800","Name":"復興橋頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.824616,"Latitude":25.082235,"PublicId":"2244600800"},{"UniStopId":"2244601200","Name":"猴硐車站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.827502,"Latitude":25.08693,"PublicId":"2244601200"},{"UniStopId":"2244601900","Name":"福利社","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.830077,"Latitude":25.088829,"PublicId":"2244601900"},{"UniStopId":"2244600100","Name":"弓橋里活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8329252,"Latitude":25.092961,"PublicId":"2244600100"},{"UniStopId":"2244601400","Name":"猴硐國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.833722,"Latitude":25.095158,"PublicId":"2244601400"},{"UniStopId":"2244601600","Name":"瑞柑新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.829299,"Latitude":25.106267,"PublicId":"2244601600"},{"UniStopId":"2245002320","Name":"瑞芳公園入口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8190193,"Latitude":25.107566,"PublicId":"2245002320"},{"UniStopId":"2245000220","Name":"台電變電所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.821552,"Latitude":25.10585,"PublicId":"2245000220"},{"UniStopId":"2244300220","Name":"蛇子形路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.825909,"Latitude":25.104955,"PublicId":"2244300220"},{"UniStopId":"2244300060","Name":"土地公廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.821435,"Latitude":25.103093,"PublicId":"2244300060"},{"UniStopId":"2244300550","Name":"達樂花園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.819204,"Latitude":25.104766,"PublicId":"2244300550"},{"UniStopId":"2244300320","Name":"黃金大鎮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.816841,"Latitude":25.103769,"PublicId":"2244300320"},{"UniStopId":"2245400000","Name":"民享新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.818015,"Latitude":25.106297,"PublicId":"2245400000"},{"UniStopId":"2244300670","Name":"幼兒園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.817412,"Latitude":25.107232,"PublicId":"2244300670"},{"UniStopId":"2244200460","Name":"瑞芳國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.814399,"Latitude":25.107898,"PublicId":"2244200460"},{"UniStopId":"2244200160","Name":"東方瑞士","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.812018,"Latitude":25.107391,"PublicId":"2244200160"},{"UniStopId":"2244200050","Name":"OK店","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.810473,"Latitude":25.10715,"PublicId":"2244200050"},{"UniStopId":"2244100360","Name":"第一市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8091416,"Latitude":25.107587,"PublicId":"2244100360"},{"UniStopId":"2244100460","Name":"瑞芳火車站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8058805,"Latitude":25.108227,"PublicId":"2244100460"},{"UniStopId":"2244600560","Name":"祖師廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.803954,"Latitude":25.108753,"PublicId":"2244600560"},{"UniStopId":"2244100720","Name":"龍安宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.797814,"Latitude":25.112348,"PublicId":"2244100720"}],"RouteMapUrl":"../MapOverview?nid=0454080800","RouteTracks":null,"StopDirection":null,"TicketPrice":"","BusTimeDesc":"0610 - 1710","HeadwayDesc":"F808碩仁里班表:0655 0900 1040 1440 1620 1800;F808龍安宮班表:0610 0810 0950 1300 1530 1710","HolidayBusTimeDesc":"0610 - 1710","HolidayHeadwayDesc":"F808碩仁里班表:0655 0900 1040 1440 1620 1800;F808龍安宮班表:0610 0810 0950 1300 1530 1710","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"瑞芳區公所瑞芳區公所站:(02)2497-2250","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.802464417735 25.1098303912217, 121.802986264023 25.1095140584102, 121.803433094908 25.1090635124432, 121.803932110421 25.1086234655805, 121.803992267702 25.108585072155, 121.807224090759 25.1078559229299, 121.809344816093 25.1073558198673, 121.809932255561 25.1075802758255, 121.810212747942 25.1069968207383, 121.810367852255 25.107006009029, 121.810711763455 25.1071188936866, 121.811077418251 25.1072488421749, 121.811457568776 25.1073170978913, 121.811764878257 25.1073315365956, 121.812633897285 25.107303971795, 121.813302875236 25.1074683760499, 121.814224803679 25.107703004494, 121.814575962744 25.1079058018633, 121.81500123123 25.1080439532766, 121.815425951243 25.1080769489014, 121.815810274174 25.1080570792935, 121.816419819631 25.1079297568701, 121.816772428269 25.1077522271874, 121.817086985615 25.1074880651674, 121.817465686568 25.1070361991221, 121.817750165274 25.1066315856252, 121.817864798568 25.1064167573561, 121.817990524888 25.1061487071351, 121.818302452596 25.1056563073625, 121.819093285279 25.1047183494547, 121.819008485257 25.10464845149, 121.81885410573 25.104547378306, 121.8188234835 25.104502092242, 121.818780721096 25.1044719015233, 121.818683599703 25.1045007796022, 121.818618368917 25.1045408151094, 121.818410898778 25.1045959459503, 121.818365962014 25.1045893827563, 121.818320300464 25.104562473657, 121.818252714121 25.104447945839, 121.818174980768 25.1042937104992, 121.818128594431 25.1042267657379, 121.81805448501 25.1041886990926, 121.81793036532 25.1041327476658, 121.817779609726 25.104077616616, 121.817545322486 25.1040249467506, 121.817470669475 25.1039973812046, 121.817380614751 25.1039361791069, 121.817264467712 25.1038034377227, 121.817142703578 25.1036793924917, 121.8170716745 25.1036242612376, 121.816984700119 25.1036052278227, 121.817001370208 25.1035599414097, 121.817094142882 25.1035848817552, 121.817204310432 25.1036741418972, 121.817411055784 25.1039040192792, 121.817489332728 25.10395980673, 121.817598956688 25.1039934432689, 121.817721626805 25.1040216651383, 121.817947760197 25.104089266334, 121.818146532897 25.1041819717963, 121.818206146588 25.1042497369837, 121.818241661127 25.1043101185233, 121.818337514143 25.104507178721, 121.818384625267 25.1045577153401, 121.818592638996 25.1044979902426, 121.818685592866 25.1044566420811, 121.818749374079 25.1044323582337, 121.818793586056 25.1044303892729, 121.818858816842 25.1044618926421, 121.818891794628 25.1045203051176, 121.819129524604 25.1046858616733, 121.819868353855 25.1040868871663, 121.820175663336 25.1038781765543, 121.821063889207 25.1032999544137, 121.821353803812 25.1030528472961, 121.821497311541 25.1029727752944, 121.821735766304 25.1029419278699, 121.821775810758 25.1028974616219, 121.822044162964 25.1027601248057, 121.822231882671 25.1025991599538, 121.822539010956 25.102305287797, 121.822730173398 25.1021425174319, 121.822808087948 25.1021037938051, 121.822872593948 25.1020926361476, 121.822953045251 25.1020906671492, 121.823020631593 25.1021136387961, 121.823296956451 25.1022672205536, 121.82398804039 25.102834125905, 121.824045660917 25.1029230584308, 121.824300966966 25.1035104709068, 121.824428529392 25.1037314882224, 121.824873910704 25.1041111710823, 121.825346833903 25.1044724758033, 121.825942816223 25.1048715348668, 121.825996605011 25.1049282892282, 121.825953117821 25.1049532292946, 121.825912529776 25.1049046617922, 121.825351182622 25.104530231954, 121.824843469671 25.1041334860278, 121.824427079819 25.1037761182481, 121.824349890056 25.1036848892076, 121.823994019878 25.10290582981, 121.823949083115 25.1028572614945, 121.823288983799 25.1023133278598, 121.822951052088 25.1021234837864, 121.822868426425 25.1021326724432, 121.822793773415 25.1021497370898, 121.822686142617 25.1022260357209, 121.822142915127 25.1027284569158, 121.822061739037 25.1027929412633, 121.821775313106 25.1029396486608, 121.822180422829 25.1036688092618, 121.82222119207 25.1036845610455, 121.822256706609 25.103755608128, 121.822248009171 25.1038785047159, 121.82222336643 25.1039808910981, 121.822168282655 25.1040696587094, 121.821716015871 25.105675668615, 121.821517424367 25.1063355901509, 121.821434798704 25.1066168186839, 121.821272084132 25.1067795830936, 121.820781766057 25.1069011640285, 121.820591871991 25.1069169153945, 121.82033239842 25.1070035478798, 121.819617396525 25.1074225988395, 121.819083591259 25.1076657593095, 121.819044452788 25.1076027542139, 121.819583693953 25.1073664848162, 121.819880856423 25.1071613894827, 121.82029905824 25.1069238066183, 121.82061071644 25.1068476749951, 121.820879249843 25.1068424245366, 121.821497130344 25.1070301282887, 121.822437178451 25.1073097144623, 121.822708610999 25.1073490927452, 121.823165588895 25.107347780136, 121.823552987286 25.1073989718854, 121.823978074575 25.1075082465096, 121.824385766988 25.1074347404668, 121.824469842224 25.107362546989, 121.824461144786 25.1072746021493, 121.824403161865 25.1071919076901, 121.824090054091 25.107100353045, 121.823927701913 25.1070084701782, 121.823904508744 25.1069139620146, 121.823930601059 25.1067905762465, 121.824014676294 25.106667190354, 121.824084255799 25.1065963090403, 121.824246607978 25.1065385538654, 121.824760481615 25.1065753071617, 121.8251750595 25.1065569305149, 121.825607032261 25.1066278118515, 121.825978847742 25.1067748248629, 121.826327470054 25.1068430808439, 121.826870335152 25.1068955854187, 121.827696591775 25.1068325799262, 121.828291641502 25.106635687553, 121.829390417854 25.1060843872213, 121.829500585404 25.1060922629578, 121.829583211066 25.1061605193198, 121.829793399155 25.106776793786, 121.829770205986 25.1072115968521, 121.829841959851 25.1073760012313, 121.830163765062 25.1072801807418, 121.830355108701 25.1071751718999, 121.830591751498 25.1069539967317, 121.830738158373 25.1066652214292, 121.830884927642 25.1060082550754, 121.830870431912 25.1055639311749, 121.830800852406 25.1050408476454, 121.830708079733 25.104468866043, 121.830551525846 25.103995986519, 121.830528332678 25.1038735822915, 121.830531231824 25.1037026099618, 121.830621105351 25.1033810106901, 121.830750117351 25.1030525191323, 121.830857748148 25.1028657937676, 121.83103169691 25.1026528149279, 121.831259279875 25.1024309752492, 121.83147127993 25.1022534375832, 121.831749697195 25.1020928599479, 121.832763574281 25.1016883344613, 121.833711232646 25.1010497188476, 121.833918883981 25.1008288607704, 121.834061304531 25.1004846101639, 121.834254097743 25.099990384053, 121.834442542236 25.0995742611839, 121.834591848258 25.0988040363339, 121.834565755943 25.0984335259331, 121.834406302911 25.0981256962435, 121.834160962676 25.0977473075147, 121.833966719891 25.0973623540335, 121.833975417329 25.0972320668605, 121.83394207715 25.0967772092948, 121.833934829285 25.0962701691058, 121.83389424124 25.0958970255661, 121.833766678814 25.09557113938, 121.833696374522 25.0952052137759, 121.833588743725 25.09488063849, 121.833366959052 25.0944362741643, 121.833388702648 25.0940985693248, 121.833300278693 25.0937989334438, 121.833117270099 25.0934645087408, 121.832956367493 25.0930693678743, 121.832776258045 25.0925803628756, 121.832603758855 25.0922255868849, 121.83245735198 25.092061490334, 121.832146780959 25.0913808154912, 121.832065242477 25.0911642065021, 121.831910138163 25.0907464126264, 121.831648852626 25.0903151612068, 121.831538685076 25.0899380611171, 121.831494835492 25.0898366475787, 121.831255655943 25.0895386422613, 121.83087695499 25.0892284927847, 121.830100708636 25.08892359375, 121.829968833774 25.0888728669507, 121.829398390506 25.0885648687246, 121.829325911854 25.0885281100167, 121.828992510059 25.0887407852454, 121.828694985196 25.0889180143203, 121.828361221007 25.0884923359064, 121.828188359424 25.0882255066622, 121.827648755865 25.087234655952, 121.827496188305 25.0869770137608, 121.827056967678 25.0863347110578, 121.82665761031 25.0857810217608, 121.826306889723 25.0854031623695, 121.825336324499 25.0844360091118, 121.824878259423 25.0839167738225, 121.82473765084 25.0836866947759, 121.824673869627 25.083430357982, 121.824654249791 25.0832580441515, 121.824598491829 25.082360695836, 121.824562252504 25.0821585125574, 121.824879708996 25.082049543509, 121.825204413354 25.0819300713084, 121.825349733049 25.0820469177476, 121.825435257858 25.0821388193631, 121.825500488644 25.0822792974134, 121.825540351902 25.0824895218581, 121.825551948486 25.082805596339, 121.825622252778 25.0828779684183, 121.825681685272 25.0829009436727, 121.82567371262 25.0829409862485, 121.825578040801 25.0829002872369, 121.825525131385 25.0828412080024, 121.825501938217 25.0827735950657, 121.82550121343 25.0825251336135, 121.825478745048 25.0823567572039, 121.825449753588 25.0822733894612, 121.825391770667 25.082153917479, 121.825183575741 25.0819640421245, 121.825123418461 25.0817488934629, 121.825114721023 25.0816286004155, 121.825185025314 25.0814658025425, 121.82519009882 25.081233913666, 121.825139363764 25.0810458421103, 121.825149510775 25.0807686575891, 121.825195897112 25.0804284533491, 121.825195897112 25.0799861700125, 121.825232861224 25.0798809736293, 121.825451746751 25.0796886330507, 121.825515890357 25.0795323971364, 121.82554850575 25.0793556468123, 121.82555068011 25.078795853712, 121.825512266425 25.0782765944993, 121.825508642492 25.0780386273101, 121.825472403166 25.0778876409916, 121.825317842443 25.0777048160045, 121.825102399652 25.0775016403395, 121.824933343198 25.0773025672487, 121.824680936295 25.076921488261, 121.824647596116 25.0768243309823, 121.824620054228 25.0767211012891, 121.824585264476 25.0762336721506, 121.82445335333 25.075360890145, 121.824382324252 25.074697190902, 121.824398269556 25.0743988204856, 121.824517134544 25.0738335887268, 121.82448669351 25.0734603767801, 121.824382324252 25.0726305751659, 121.824348984073 25.0721024271438, 121.82432869005 25.0714964819835, 121.824337387489 25.070778600495, 121.824322891758 25.0702980409883, 121.824262009691 25.0700321568444, 121.824135534445 25.0698811606539, 121.823795971964 25.0696073975207, 121.823147866689 25.069085036618, 121.822792142645 25.0688254951306, 121.822646822949 25.0686544738334, 121.8226279785 25.06846506993, 121.822664217825 25.0679158954315, 121.822893612757 25.0668996042705, 121.822912457206 25.0664672840595, 121.823077708531 25.065975874951, 121.823180628215 25.0652950550664, 121.823231725664 25.0652346542767, 121.823319424832 25.0651998581561, 121.823584334303 25.0652225084622, 121.823640142864 25.0650852935005, 121.823368710315 25.0648262916349, 121.823255643619 25.0646777510277, 121.823168488041 25.0645213318289, 121.823163414536 25.0643077938595, 121.823186607704 25.064197988256, 121.823195305142 25.0639888813489, 121.823183708558 25.0637753424514, 121.823227920535 25.0636195786396, 121.823233718827 25.0632796550286, 121.823261260715 25.0630298409383, 121.823248214558 25.0627396488982, 121.823395708613 25.0622557751219, 121.823433397511 25.062036816686, 121.823453691534 25.0617600815513, 121.823447168455 25.0615017292066, 121.823429048792 25.0613078825216, 121.82331634449 25.060873572917, 121.823236617973 25.0607077929567, 121.823145294873 25.0606001179317, 121.823190231637 25.0607721353045, 121.823196029929 25.0608903150391, 121.823149643592 25.0609008198989, 121.822911913616 25.0604412314414, 121.822415434855 25.0599297731172, 121.822298878348 25.059678156205, 121.822280624564 25.0593408383588, 121.82197295269 25.0587305623983, 121.821645349186 25.058114374281, 121.821525759412 25.0579998030002, 121.821372104671 25.0578947518749, 121.821057184932 25.057795938078, 121.820762559214 25.0577434124392, 121.820250859937 25.0577434124392, 121.820250859937 25.0576987656286, 121.82074987545 25.0577079576204, 121.8212039542 25.0578011906406, 121.821385150828 25.0578589688148, 121.82158120558 25.0579945504461, 121.821682675691 25.0580904095234, 121.82201643988 25.0587292492676, 121.822319763036 25.0593316464895, 121.82233135962 25.0596783107962, 121.8224560229 25.0599202530126, 121.822955038413 25.0604185802514, 121.823138047008 25.0607826401744, 121.823074265795 25.0605055739292, 121.823101807682 25.0604950690356, 121.823207626513 25.0606040572635, 121.823274306872 25.0606972880804, 121.82334533595 25.0608325382942, 121.823393534253 25.0609891263408, 121.823467462477 25.0613006604546, 121.823496453938 25.0616952473101, 121.823467462477 25.0620435462989, 121.82342542486 25.0622894231227, 121.823289164995 25.0627401413061, 121.823302211153 25.0629623811985, 121.823284816276 25.0631662375252, 121.823268870973 25.0636130132481, 121.823223934209 25.0637810871615, 121.823232631648 25.0641963469159, 121.823199291468 25.0643201038986, 121.823215236771 25.0645226448975, 121.823305110299 25.0646857935624, 121.823415277849 25.0648302308309, 121.82368924715 25.0650678954203, 121.823610970207 25.0652664960011, 121.823331202613 25.0652389217248, 121.823264522254 25.0652651829405, 121.823216686344 25.0653137661746, 121.823112317087 25.0659722640552, 121.822948515335 25.066485010203, 121.822934019605 25.0668743281878, 121.822697739202 25.0679414995573, 121.822671646887 25.0684706502919, 121.822682518685 25.0686441337666, 121.822821677695 25.0688051432805, 121.823415096652 25.0692481235117, 121.824167243855 25.0698598242207, 121.824303866112 25.0700216527676, 121.824367647325 25.070316094829, 121.824373445617 25.0712112337386, 121.82437924391 25.0720932362321, 121.824434327684 25.0726952394969, 121.824457520853 25.0728951406899, 121.824537247369 25.0735391551222, 121.824558990965 25.0738178331004, 121.824438676404 25.0743975075229, 121.824416932808 25.0747076945778, 121.824457520853 25.0750904216494, 121.824492310605 25.07541504942, 121.824608276447 25.0761378272701, 121.824663360222 25.0767148648343, 121.824708296986 25.0768832490034, 121.824889856007 25.0771789875003, 121.825064167163 25.0774025141254, 121.825181582578 25.0775206778152, 121.825371476645 25.0777058007, 121.825516433947 25.0778764811259, 121.825548686947 25.0780120406023, 121.825558833958 25.078311715135, 121.825589274991 25.0787942125676, 121.825587825418 25.0790978239229, 121.825584926272 25.0793594214273, 121.825557384385 25.0795537318844, 121.825484905734 25.0797194863379, 121.825270368926 25.0798993542832, 121.825235579174 25.080006027666, 121.825245726185 25.080387097053, 121.825174697107 25.0809142246717, 121.825174697107 25.0810402623215, 121.825232680028 25.0812138921006, 121.825229780881 25.0814557917791, 121.825161650949 25.0816369700584, 121.825165999668 25.0817446265901, 121.825223982589 25.0819454976705, 121.825351001426 25.082049379399, 121.825434351874 25.0821386552532, 121.825502481807 25.0822865182434, 121.825540170705 25.0824909988436, 121.825550317716 25.0828051040118, 121.825622796368 25.0828819070337, 121.825680054502 25.0829016001085, 121.82567643057 25.0829409862486, 121.825580033963 25.0829009436727, 121.825525674975 25.0828431773107, 121.825505380953 25.0827742515022, 121.82550393138 25.0825205385489, 121.825482187784 25.082366111455, 121.825452471537 25.0822728971319, 121.825393039043 25.0821493224005, 121.825194991129 25.0819714270834, 121.824601572172 25.0821900216618, 121.824636361925 25.0823094936088, 121.824648683295 25.0826368920967, 121.824692170486 25.0832362177867, 121.824711014935 25.0834518561589, 121.824783493587 25.0836911256889, 121.824908156867 25.0839093889812, 121.825362235617 25.0844125418248, 121.825546693784 25.0845855103938, 121.825876652843 25.0849278364616, 121.82615895719 25.0852156784449, 121.826602888929 25.0856781278307, 121.826699647928 25.0857838115472, 121.826941183033 25.0861138264163, 121.827147384796 25.086402650236, 121.827530434467 25.0869629008608, 121.827871446521 25.0875713951191, 121.827981614071 25.0877735694566, 121.828237101317 25.0882455270809, 121.828708574943 25.0888671430381, 121.829322106725 25.0884864282542, 121.830009566732 25.0888579533848, 121.830117197529 25.0889012760298, 121.830829300277 25.0891602269743, 121.830887283198 25.0891956726883, 121.831290626892 25.0895150118527, 121.831528085073 25.0898111300814, 121.831628286808 25.0900636792265, 121.831686994516 25.0903060537118, 121.831769076588 25.0904171486946, 121.831948098857 25.0907396025417, 121.832082909148 25.0911019313468, 121.832256857911 25.0914435827971, 121.832512345156 25.0919929799589, 121.832539887044 25.092084874106, 121.832637008436 25.0922069619375, 121.832825815323 25.0925883215297, 121.833024406827 25.0931324625044, 121.833154868399 25.0934622934613, 121.833348024005 25.0937986873024, 121.833424851375 25.0940835547294, 121.833408906072 25.0944491555015, 121.83363358989 25.0948935197805, 121.833739771114 25.0952049676373, 121.833800653181 25.0955662986673, 121.833939812192 25.0958934975984, 121.833980400236 25.0962800966119, 121.833987648102 25.0968609773827, 121.834020988281 25.0972052381875, 121.834019538708 25.0973286336261, 121.834252919965 25.0977569067229, 121.834567839704 25.0982511418582, 121.834646116648 25.0984139174019, 121.834672208962 25.0988044465529, 121.834524352514 25.0995743432273, 121.834267415695 25.10015422384, 121.833983299382 25.1008676668434, 121.833767313002 25.1011108403475, 121.832818929851 25.1017373134503, 121.831767989408 25.1021649147783, 121.831508515837 25.1023201373004, 121.831266074749 25.1025252407536, 121.83091672765 25.1029085371649, 121.830816344718 25.1031018257386, 121.830698929303 25.1033922502708, 121.830609055776 25.1037259915086, 121.830619202787 25.1039100902677, 121.830651093393 25.1040600599968, 121.830764160089 25.1043921586109, 121.830856932763 25.1048889922055, 121.830949705436 25.1055748423979, 121.830964201166 25.1059994769047, 121.830852584044 25.1065278068058, 121.830810546426 25.1066987751855, 121.830656891685 25.1069796747299, 121.830405753159 25.107218898249, 121.83027782834 25.1073029052996, 121.830163312071 25.1073514718495, 121.829815414545 25.1074538553238, 121.829729889736 25.1072031469205, 121.829747284613 25.106777860286, 121.829542532423 25.1061773372878, 121.829472952918 25.1061313955162, 121.829397575121 25.1061248324046, 121.829159482751 25.106261345054, 121.828275967993 25.1066761325539, 121.827684179806 25.1068759782442, 121.827167407023 25.1069507972364, 121.826816247958 25.1069494846229, 121.826266134995 25.1068917296148, 121.825919324649 25.1068208484313, 121.825596069865 25.1066961499531, 121.825178230441 25.1066226434221, 121.824660370478 25.1066318317409, 121.824255577211 25.106601641548, 121.824104821616 25.1066646471595, 121.824055536134 25.1067197770429, 121.823990305348 25.106844475497, 121.823974360044 25.1069376711007, 121.823991754921 25.1069809873431, 121.824114968628 25.1070492432089, 121.824433874693 25.1071279999299, 121.824513601209 25.1072041313786, 121.824541143097 25.1072910918116, 121.824538243951 25.1073619727226, 121.824512151636 25.1074354788091, 121.824422278109 25.1075037344212, 121.824036329291 25.107594632461, 121.823819980517 25.1075290021142, 121.823575002676 25.1074738725956, 121.823141217949 25.1074148052267, 121.822714681086 25.1074174304437, 121.822425853661 25.1073754269649, 121.821265470455 25.1070275851018, 121.820877709672 25.1069143722065, 121.820597217291 25.1069104343647, 121.82033774372 25.1069944416273, 121.819619480287 25.1074226808775, 121.819088574167 25.1076642005901, 121.819045086976 25.1075998828872, 121.819594475152 25.1073688639201, 121.819880403431 25.107166393813, 121.820294981316 25.1069314361858, 121.820608451482 25.1068513667237, 121.820871186593 25.106839553192, 121.821264383276 25.1067355284336, 121.821393757668 25.1065973755419, 121.821630038071 25.1058117715704, 121.822015986889 25.1044715733633, 121.822092814259 25.104178197947, 121.822131952731 25.104036432393, 121.822182687786 25.1039681748454, 121.822208780101 25.1038316596359, 121.822210229674 25.1037433840948, 121.822163843337 25.1036908781666, 121.822124704866 25.1036580619499, 121.821746003913 25.1029863120607, 121.821732957756 25.1029426662392, 121.821775357767 25.1028993485664, 121.822047877495 25.1027602068469, 121.822493258807 25.1023477032245, 121.822731351176 25.1021412868084, 121.822815426411 25.1021045321795, 121.822956034995 25.1020940308549, 121.823299946195 25.1022699279226, 121.82399501646 25.1028389663302, 121.824295078076 25.1035038256139, 121.824428801187 25.103735180045, 121.824878531218 25.1041109249616, 121.825387693743 25.1045027485619, 121.825947591323 25.1048758658485, 121.825998326379 25.1049296839032, 121.825956288761 25.1049506860644, 121.825922948582 25.1049113070091, 121.82579248701 25.1048207351337, 121.825343119372 25.1045201410376, 121.824964780813 25.1042300473447, 121.824429163581 25.103777841098, 121.824350886637 25.1036833304375, 121.824249416526 25.1034637897672, 121.823992479707 25.1029026302088, 121.82393159764 25.1028422479742, 121.823288712004 25.1023070106676, 121.822956759781 25.1021232376617, 121.82278969649 25.102146865635, 121.822462092987 25.1024304009596, 121.822070345877 25.1027838346972, 121.821774270587 25.1029364311206, 121.821736219295 25.1029836867486, 121.821515884195 25.1030086272115, 121.821376725185 25.1030768852947, 121.821122687513 25.1033095531861, 121.82096323448 25.1034119400446, 121.82052473864 25.1036882528696, 121.81990250942 25.1041060025465, 121.819431035793 25.1044974980027, 121.819139852812 25.1047473915551, 121.819007941667 25.1046463184529, 121.818855555303 25.1045477064659, 121.818822215123 25.1045004514422, 121.818782351865 25.1044709170432, 121.818677982607 25.1044971698427, 121.818617825327 25.1045411432692, 121.818410355188 25.1045923361936, 121.818363062868 25.1045870856383, 121.81832102525 25.1045608328581, 121.818177336324 25.1042933823387, 121.81813239956 25.1042251249345, 121.817932902073 25.1041284815735, 121.817781784085 25.1040744990857, 121.81754187975 25.1040233059445, 121.817470669475 25.1039950840754, 121.81738224552 25.1039360150261, 121.817144153151 25.1036797206539, 121.817075298433 25.1036252457245, 121.816988505248 25.103605555985, 121.817000283029 25.1035596132472, 121.817093780489 25.1035838972679, 121.817204672825 25.1036751263837, 121.817410693391 25.10390631641, 121.817491325891 25.1039629242632, 121.817593701985 25.1039944277528, 121.817722170395 25.104022649622, 121.81794540464 25.104089594495, 121.81815070042 25.1041882068515, 121.818207958554 25.1042551516338, 121.818338601323 25.1045121011199, 121.818385712446 25.1045586998194, 121.81860260481 25.1044996310424, 121.818749192882 25.1044346553546, 121.818794129646 25.1044320300736, 121.818857186073 25.1044628771222, 121.818892157022 25.1045232585566, 121.819130792981 25.1046848771949, 121.819174280172 25.1047163804985, 121.818758071517 25.1051966407938, 121.81833660816 25.1056746021054, 121.818078584162 25.1060723274988, 121.817895937961 25.1064536438642, 121.817736484928 25.1067125576548, 121.81749404384 25.1070646664041, 121.817132737764 25.1074876549776, 121.816784477845 25.1077875854766, 121.81643331878 25.1079516609306, 121.816345982005 25.107978569284, 121.815818337424 25.1080875152399, 121.815391800562 25.1081163924649, 121.814985557722 25.1080743892262, 121.814523868714 25.1079221273651, 121.814318029344 25.1078026804275, 121.814201701109 25.1077367220411, 121.81300761533 25.1074292439195, 121.812632175917 25.1073426117371, 121.81157181325 25.1073636134839, 121.811371409779 25.1073386739092, 121.811014452422 25.1072625425442, 121.810366130887 25.1070416956872, 121.810235669315 25.1070416956872, 121.809948291463 25.1076484493191, 121.80936809986 25.1074029917495, 121.809237275895 25.1074174304437, 121.808097186711 25.1076825770705, 121.807078861662 25.1079257370235, 121.806097863118 25.1081400192803, 121.804905226912 25.1084199310654, 121.803986560008 25.1086263368833, 121.803457103461 25.1090886977769, 121.802971134105 25.1095710738504, 121.80247646731 25.1098588578532)","wkt0":"LINESTRING (121.796811801045 25.1125154463512, 121.797440583902 25.1124849456902, 121.798067020553 25.1123864050933, 121.798717505803 25.1121048605307, 121.799203756725 25.1118596821408, 121.800003225972 25.1113798832821, 121.801009161232 25.1107252921741, 121.801726513316 25.1102630898505, 121.802479351745 25.1098196571645, 121.803001968839 25.1095064388386, 121.803433094908 25.1090635124432, 121.803992267702 25.108585072155, 121.807224090759 25.1078559229299, 121.809344816093 25.1073558198673, 121.809932255561 25.1075802758255, 121.810214362194 25.1070022753633, 121.810367852255 25.107006009029, 121.810711763455 25.1071188936866, 121.811077418251 25.1072488421749, 121.811457568776 25.1073170978913, 121.811764878257 25.1073315365956, 121.812633897285 25.107303971795, 121.813302875236 25.1074683760499, 121.814224803679 25.107703004494, 121.814575962744 25.1079058018633, 121.81500123123 25.1080439532766, 121.815425951243 25.1080769489014, 121.815810274174 25.1080570792935, 121.816419819631 25.1079297568701, 121.816772428269 25.1077522271874, 121.817086985615 25.1074880651674, 121.817465686568 25.1070361991221, 121.817750165274 25.1066315856252, 121.817864798568 25.1064167573561, 121.817990524888 25.1061487071351, 121.818302452596 25.1056563073625, 121.819093285279 25.1047183494547, 121.819008485257 25.10464845149, 121.81885410573 25.104547378306, 121.8188234835 25.104502092242, 121.818780721096 25.1044719015233, 121.818683599703 25.1045007796022, 121.818618368917 25.1045408151094, 121.818410898778 25.1045959459503, 121.818365962014 25.1045893827563, 121.818320300464 25.104562473657, 121.818252714121 25.104447945839, 121.818174980768 25.1042937104992, 121.818128594431 25.1042267657379, 121.81805448501 25.1041886990926, 121.81793036532 25.1041327476658, 121.817779609726 25.104077616616, 121.817545322486 25.1040249467506, 121.817470669475 25.1039973812046, 121.817380614751 25.1039361791069, 121.817264467712 25.1038034377227, 121.817142703578 25.1036793924917, 121.8170716745 25.1036242612376, 121.816984700119 25.1036052278227, 121.816784611602 25.1037332753392, 121.816767687779 25.1037036586484, 121.816983466526 25.1035668577429, 121.817094142882 25.1035848817552, 121.817204310432 25.1036741418972, 121.817411055784 25.1039040192792, 121.817489332728 25.10395980673, 121.817598956688 25.1039934432689, 121.817721626805 25.1040216651383, 121.817947760197 25.104089266334, 121.818146532897 25.1041819717963, 121.818206146588 25.1042497369837, 121.818241661127 25.1043101185233, 121.818337514143 25.104507178721, 121.818384625267 25.1045577153401, 121.818592638996 25.1044979902426, 121.818685592866 25.1044566420811, 121.818749374079 25.1044323582337, 121.818793586056 25.1044303892729, 121.818858816842 25.1044618926421, 121.818891794628 25.1045203051176, 121.819129524604 25.1046858616733, 121.819868353855 25.1040868871663, 121.820175663336 25.1038781765543, 121.821063889207 25.1032999544137, 121.821353803812 25.1030528472961, 121.821497311541 25.1029727752944, 121.821735766304 25.1029419278699, 121.821775810758 25.1028974616219, 121.822044162964 25.1027601248057, 121.822231882671 25.1025991599538, 121.822539010956 25.102305287797, 121.822730173398 25.1021425174319, 121.822808087948 25.1021037938051, 121.822872593948 25.1020926361476, 121.822953045251 25.1020906671492, 121.823020631593 25.1021136387961, 121.823296956451 25.1022672205536, 121.82398804039 25.102834125905, 121.824045660917 25.1029230584308, 121.824300966966 25.1035104709068, 121.824428529392 25.1037314882224, 121.824873910704 25.1041111710823, 121.825346833903 25.1044724758033, 121.825942816223 25.1048715348668, 121.825996605011 25.1049282892282, 121.825953117821 25.1049532292946, 121.825912529776 25.1049046617922, 121.825351182622 25.104530231954, 121.824843469671 25.1041334860278, 121.824427079819 25.1037761182481, 121.824349890056 25.1036848892076, 121.823994019878 25.10290582981, 121.823949083115 25.1028572614945, 121.823288983799 25.1023133278598, 121.822951052088 25.1021234837864, 121.822868426425 25.1021326724432, 121.822793773415 25.1021497370898, 121.822686142617 25.1022260357209, 121.822142915127 25.1027284569158, 121.822061739037 25.1027929412633, 121.821775313106 25.1029396486608, 121.822180422829 25.1036688092618, 121.82224302642 25.1037697584013, 121.822216163398 25.1039727234553, 121.822144528673 25.1040771907624, 121.821389379282 25.1066530560793, 121.821272084132 25.1067795830936, 121.820792423241 25.1069351178087, 121.820587965797 25.1069306406384, 121.82033239842 25.1070035478798, 121.819608957889 25.1074126826415, 121.819074682233 25.107652957448, 121.819049311601 25.1076111705251, 121.819583693953 25.1073664848162, 121.820308888847 25.1069589960503, 121.820599904917 25.1068724374244, 121.820868535136 25.1068918384957, 121.82151623244 25.1070634633575, 121.822362417628 25.1073067229442, 121.822708610999 25.1073490927452, 121.823165588895 25.107347780136, 121.823552987286 25.1073989718854, 121.823978074575 25.1075082465096, 121.824385766988 25.1074347404668, 121.824469842224 25.107362546989, 121.824461144786 25.1072746021493, 121.824403161865 25.1071919076901, 121.824090054091 25.107100353045, 121.823927701913 25.1070084701782, 121.823904508744 25.1069139620146, 121.823930601059 25.1067905762465, 121.824014676294 25.106667190354, 121.824084255799 25.1065963090403, 121.824246607978 25.1065385538654, 121.824760481615 25.1065753071617, 121.8251750595 25.1065569305149, 121.825607032261 25.1066278118515, 121.825978847742 25.1067748248629, 121.826327470054 25.1068430808439, 121.826870335152 25.1068955854187, 121.827696591775 25.1068325799262, 121.828727461416 25.1064635225363, 121.829390417854 25.1060843872213, 121.829482610807 25.1061143032523, 121.829596032455 25.1063262226469, 121.829751241026 25.1067828940182, 121.829739301905 25.1073708957186, 121.830001962563 25.1072932914333, 121.830312379704 25.1070903263794, 121.830470573055 25.1069172091275, 121.830652644648 25.1065769441841, 121.830822777119 25.105920292539, 121.830816807559 25.1054039255635, 121.830634735967 25.1044875980406, 121.830521314319 25.1039921245266, 121.830509375198 25.1037055856269, 121.830621105351 25.1033810106901, 121.830750117351 25.1030525191323, 121.830857748148 25.1028657937676, 121.83103169691 25.1026528149279, 121.831259279875 25.1024309752492, 121.83147127993 25.1022534375832, 121.831749697195 25.1020928599479, 121.832763574281 25.1016883344613, 121.833711232646 25.1010497188476, 121.833918883981 25.1008288607704, 121.834061304531 25.1004846101639, 121.834254097743 25.099990384053, 121.834442542236 25.0995742611839, 121.834591848258 25.0988040363339, 121.834565755943 25.0984335259331, 121.834406302911 25.0981256962435, 121.834160962676 25.0977473075147, 121.833966719891 25.0973623540335, 121.833975417329 25.0972320668605, 121.83394207715 25.0967772092948, 121.833909039851 25.0962615437957, 121.833843374687 25.0959421723138, 121.833729953039 25.0956377247329, 121.833622500952 25.0951601599001, 121.833347901173 25.0944408278707, 121.833174783921 25.0936528458966, 121.832968834087 25.093309596173, 121.832765869033 25.0925992184842, 121.832603758855 25.0922255868849, 121.83245735198 25.092061490334, 121.832146780959 25.0913808154912, 121.832065242477 25.0911642065021, 121.831910138163 25.0907464126264, 121.831648852626 25.0903151612068, 121.831538685076 25.0899380611171, 121.831494835492 25.0898366475787, 121.831255655943 25.0895386422613, 121.83087695499 25.0892284927847, 121.830100708636 25.08892359375, 121.829968833774 25.0888728669507, 121.829398390506 25.0885648687246, 121.829325911854 25.0885281100167, 121.828992510059 25.0887407852454, 121.828694985196 25.0889180143203, 121.828361221007 25.0884923359064, 121.828188359424 25.0882255066622, 121.827648755865 25.087234655952, 121.827496188305 25.0869770137608, 121.827056967678 25.0863347110578, 121.82665761031 25.0857810217608, 121.826306889723 25.0854031623695, 121.825336324499 25.0844360091118, 121.824878259423 25.0839167738225, 121.82473765084 25.0836866947759, 121.824673869627 25.083430357982, 121.824654249791 25.0832580441515, 121.824598491829 25.082360695836, 121.824562252504 25.0821585125574, 121.824879708996 25.082049543509, 121.825204413354 25.0819300713084, 121.825349733049 25.0820469177476, 121.825435257858 25.0821388193631, 121.825500488644 25.0822792974134, 121.825540351902 25.0824895218581, 121.825551948486 25.082805596339, 121.825622252778 25.0828779684183, 121.825681685272 25.0829009436727, 121.82567371262 25.0829409862485, 121.825578040801 25.0829002872369, 121.825525131385 25.0828412080024, 121.825501938217 25.0827735950657, 121.82550121343 25.0825251336135, 121.825478745048 25.0823567572039, 121.825449753588 25.0822733894612, 121.825391770667 25.082153917479, 121.825183575741 25.0819640421245, 121.825123418461 25.0817488934629, 121.825114721023 25.0816286004155, 121.825185025314 25.0814658025425, 121.82519009882 25.081233913666, 121.825139363764 25.0810458421103, 121.825149510775 25.0807686575891, 121.825195897112 25.0804284533491, 121.825195897112 25.0799861700125, 121.825232861224 25.0798809736293, 121.825451746751 25.0796886330507, 121.825515890357 25.0795323971364, 121.82554850575 25.0793556468123, 121.82555068011 25.078795853712, 121.825512266425 25.0782765944993, 121.825508642492 25.0780386273101, 121.825472403166 25.0778876409916, 121.825317842443 25.0777048160045, 121.825102399652 25.0775016403395, 121.824933343198 25.0773025672487, 121.824680936295 25.076921488261, 121.824647596116 25.0768243309823, 121.824620054228 25.0767211012891, 121.824585264476 25.0762336721506, 121.82445335333 25.075360890145, 121.824382324252 25.074697190902, 121.824398269556 25.0743988204856, 121.824517134544 25.0738335887268, 121.82448669351 25.0734603767801, 121.824382324252 25.0726305751659, 121.824348984073 25.0721024271438, 121.82432869005 25.0714964819835, 121.824337387489 25.070778600495, 121.824322891758 25.0702980409883, 121.824262009691 25.0700321568444, 121.824135534445 25.0698811606539, 121.823795971964 25.0696073975207, 121.823147866689 25.069085036618, 121.822792142645 25.0688254951306, 121.822646822949 25.0686544738334, 121.8226279785 25.06846506993, 121.822664217825 25.0679158954315, 121.822893612757 25.0668996042705, 121.822912457206 25.0664672840595, 121.823077708531 25.065975874951, 121.823180628215 25.0652950550664, 121.823231725664 25.0652346542767, 121.823319424832 25.0651998581561, 121.823584334303 25.0652225084622, 121.823640142864 25.0650852935005, 121.823368710315 25.0648262916349, 121.823255643619 25.0646777510277, 121.823168488041 25.0645213318289, 121.823163414536 25.0643077938595, 121.823186607704 25.064197988256, 121.823195305142 25.0639888813489, 121.823183708558 25.0637753424514, 121.823227920535 25.0636195786396, 121.823233718827 25.0632796550286, 121.823261260715 25.0630298409383, 121.823248214558 25.0627396488982, 121.823395708613 25.0622557751219, 121.823433397511 25.062036816686, 121.823453691534 25.0617600815513, 121.823447168455 25.0615017292066, 121.823429048792 25.0613078825216, 121.82331634449 25.060873572917, 121.823236617973 25.0607077929567, 121.823145294873 25.0606001179317, 121.823190231637 25.0607721353045, 121.823196029929 25.0608903150391, 121.823149643592 25.0609008198989, 121.822911913616 25.0604412314414, 121.822415434855 25.0599297731172, 121.822298878348 25.059678156205, 121.822280624564 25.0593408383588, 121.82197295269 25.0587305623983, 121.821645349186 25.058114374281, 121.821525759412 25.0579998030002, 121.821372104671 25.0578947518749, 121.821057184932 25.057795938078, 121.820762559214 25.0577434124392, 121.820250859937 25.0577434124392)","wkt1":"LINESTRING (121.820244716073 25.0577175846188, 121.820749143928 25.0577175846188, 121.8212039542 25.0578011906406, 121.821385150828 25.0578589688148, 121.82158120558 25.0579945504461, 121.821682675691 25.0580904095234, 121.82201643988 25.0587292492676, 121.822319763036 25.0593316464895, 121.82233135962 25.0596783107962, 121.8224560229 25.0599202530126, 121.822955038413 25.0604185802514, 121.823138047008 25.0607826401744, 121.823074265795 25.0605055739292, 121.823101807682 25.0604950690356, 121.823207626513 25.0606040572635, 121.823274306872 25.0606972880804, 121.82334533595 25.0608325382942, 121.823393534253 25.0609891263408, 121.823467462477 25.0613006604546, 121.823496453938 25.0616952473101, 121.823467462477 25.0620435462989, 121.82342542486 25.0622894231227, 121.823289164995 25.0627401413061, 121.823302211153 25.0629623811985, 121.823284816276 25.0631662375252, 121.823268870973 25.0636130132481, 121.823223934209 25.0637810871615, 121.823232631648 25.0641963469159, 121.823199291468 25.0643201038986, 121.823215236771 25.0645226448975, 121.823305110299 25.0646857935624, 121.823415277849 25.0648302308309, 121.82368924715 25.0650678954203, 121.823610970207 25.0652664960011, 121.823331202613 25.0652389217248, 121.823264522254 25.0652651829405, 121.823216686344 25.0653137661746, 121.823112317087 25.0659722640552, 121.822948515335 25.066485010203, 121.822934019605 25.0668743281878, 121.822697739202 25.0679414995573, 121.822671646887 25.0684706502919, 121.822682518685 25.0686441337666, 121.822821677695 25.0688051432805, 121.823415096652 25.0692481235117, 121.824167243855 25.0698598242207, 121.824303866112 25.0700216527676, 121.824367647325 25.070316094829, 121.824373445617 25.0712112337386, 121.82437924391 25.0720932362321, 121.824434327684 25.0726952394969, 121.824457520853 25.0728951406899, 121.824537247369 25.0735391551222, 121.824558990965 25.0738178331004, 121.824438676404 25.0743975075229, 121.824416932808 25.0747076945778, 121.824457520853 25.0750904216494, 121.824492310605 25.07541504942, 121.824608276447 25.0761378272701, 121.824663360222 25.0767148648343, 121.824708296986 25.0768832490034, 121.824889856007 25.0771789875003, 121.825064167163 25.0774025141254, 121.825181582578 25.0775206778152, 121.825371476645 25.0777058007, 121.825516433947 25.0778764811259, 121.825548686947 25.0780120406023, 121.825558833958 25.078311715135, 121.825589274991 25.0787942125676, 121.825587825418 25.0790978239229, 121.825584926272 25.0793594214273, 121.825557384385 25.0795537318844, 121.825484905734 25.0797194863379, 121.825270368926 25.0798993542832, 121.825235579174 25.080006027666, 121.825245726185 25.080387097053, 121.825174697107 25.0809142246717, 121.825174697107 25.0810402623215, 121.825232680028 25.0812138921006, 121.825229780881 25.0814557917791, 121.825161650949 25.0816369700584, 121.825165999668 25.0817446265901, 121.825223982589 25.0819454976705, 121.825351001426 25.082049379399, 121.825434351874 25.0821386552532, 121.825502481807 25.0822865182434, 121.825540170705 25.0824909988436, 121.825550317716 25.0828051040118, 121.825622796368 25.0828819070337, 121.825680054502 25.0829016001085, 121.82567643057 25.0829409862486, 121.825580033963 25.0829009436727, 121.825525674975 25.0828431773107, 121.825505380953 25.0827742515022, 121.82550393138 25.0825205385489, 121.825482187784 25.082366111455, 121.825452471537 25.0822728971319, 121.825393039043 25.0821493224005, 121.825194991129 25.0819714270834, 121.824578616931 25.0821927822996, 121.824632342974 25.0826613927918, 121.824692170486 25.0832362177867, 121.824711014935 25.0834518561589, 121.824783493587 25.0836911256889, 121.824908156867 25.0839093889812, 121.825362235617 25.0844125418248, 121.825546693784 25.0845855103938, 121.825876652843 25.0849278364616, 121.82615895719 25.0852156784449, 121.826699647928 25.0857838115472, 121.827515640653 25.0869699230176, 121.827871446521 25.0875713951191, 121.827981614071 25.0877735694566, 121.828237101317 25.0882455270809, 121.828708574943 25.0888671430381, 121.829322106725 25.0884864282542, 121.830009566732 25.0888579533848, 121.830117197529 25.0889012760298, 121.830829300277 25.0891602269743, 121.830887283198 25.0891956726883, 121.831290626892 25.0895150118527, 121.831528085073 25.0898111300814, 121.831628286808 25.0900636792265, 121.831686994516 25.0903060537118, 121.831769076588 25.0904171486946, 121.831948098857 25.0907396025417, 121.832082909148 25.0911019313468, 121.832151004311 25.0913784433804, 121.832513024022 25.0920789045456, 121.832765869033 25.0925574315614, 121.832977788428 25.0932767635908, 121.833180753482 25.0936647850174, 121.833315068591 25.0941125020481, 121.833371779415 25.0944676908925, 121.833747861721 25.0956407095131, 121.833915009412 25.0962436351145, 121.833995598478 25.0973211407685, 121.834252919965 25.0977569067229, 121.834567839704 25.0982511418582, 121.834646116648 25.0984139174019, 121.834672208962 25.0988044465529, 121.834524352514 25.0995743432273, 121.834267415695 25.10015422384, 121.833983299382 25.1008676668434, 121.833767313002 25.1011108403475, 121.832818929851 25.1017373134503, 121.831767989408 25.1021649147783, 121.831508515837 25.1023201373004, 121.831266074749 25.1025252407536, 121.83091672765 25.1029085371649, 121.830816344718 25.1031018257386, 121.83067652289 25.1033503967825, 121.830563101242 25.1037384182092, 121.830583994703 25.1040548049109, 121.830792929318 25.1049711324338, 121.830858594482 25.1054815298489, 121.830855609702 25.1059292468796, 121.830789944537 25.106299359625, 121.83068547723 25.1066067919862, 121.830506390418 25.1069440721493, 121.830181049376 25.107215687148, 121.830013901684 25.1073559718176, 121.829721393224 25.1074335761029, 121.829747284613 25.106777860286, 121.829542532423 25.1061773372878, 121.829472952918 25.1061313955162, 121.829397575121 25.1061248324046, 121.829159482751 25.106261345054, 121.828273774825 25.1066694723705, 121.82762010796 25.1068485591828, 121.827276858236 25.1069321330285, 121.826816247958 25.1069494846229, 121.826266134995 25.1068917296148, 121.825919324649 25.1068208484313, 121.825596069865 25.1066961499531, 121.825178230441 25.1066226434221, 121.824660370478 25.1066318317409, 121.824255577211 25.106601641548, 121.824104821616 25.1066646471595, 121.824055536134 25.1067197770429, 121.823990305348 25.106844475497, 121.823974360044 25.1069376711007, 121.823991754921 25.1069809873431, 121.824114968628 25.1070492432089, 121.824433874693 25.1071279999299, 121.824513601209 25.1072041313786, 121.824541143097 25.1072910918116, 121.824538243951 25.1073619727226, 121.824512151636 25.1074354788091, 121.824422278109 25.1075037344212, 121.824036329291 25.107594632461, 121.823819980517 25.1075290021142, 121.823575002676 25.1074738725956, 121.823141217949 25.1074148052267, 121.822714681086 25.1074174304437, 121.822425853661 25.1073754269649, 121.821265470455 25.1070275851018, 121.820877709672 25.1069143722065, 121.820597217291 25.1069104343647, 121.82033774372 25.1069944416273, 121.819619480287 25.1074226808775, 121.819088574167 25.1076642005901, 121.819045086976 25.1075998828872, 121.819594475152 25.1073688639201, 121.819880403431 25.107166393813, 121.820294981316 25.1069314361858, 121.820608451482 25.1068513667237, 121.820871186593 25.106839553192, 121.821264383276 25.1067355284336, 121.821393757668 25.1065973755419, 121.821630038071 25.1058117715704, 121.822015986889 25.1044715733633, 121.822092814259 25.104178197947, 121.822131952731 25.104036432393, 121.822182687786 25.1039681748454, 121.822208780101 25.1038316596359, 121.822210229674 25.1037433840948, 121.822163843337 25.1036908781666, 121.822124704866 25.1036580619499, 121.821746003913 25.1029863120607, 121.821732957756 25.1029426662392, 121.821775357767 25.1028993485664, 121.822047877495 25.1027602068469, 121.822493258807 25.1023477032245, 121.822731351176 25.1021412868084, 121.822815426411 25.1021045321795, 121.822956034995 25.1020940308549, 121.823299946195 25.1022699279226, 121.82399501646 25.1028389663302, 121.824295078076 25.1035038256139, 121.824428801187 25.103735180045, 121.824878531218 25.1041109249616, 121.825387693743 25.1045027485619, 121.825947591323 25.1048758658485, 121.825998326379 25.1049296839032, 121.825956288761 25.1049506860644, 121.825922948582 25.1049113070091, 121.82579248701 25.1048207351337, 121.825343119372 25.1045201410376, 121.824964780813 25.1042300473447, 121.824429163581 25.103777841098, 121.824350886637 25.1036833304375, 121.824249416526 25.1034637897672, 121.823992479707 25.1029026302088, 121.82393159764 25.1028422479742, 121.823288712004 25.1023070106676, 121.822956759781 25.1021232376617, 121.82278969649 25.102146865635, 121.822462092987 25.1024304009596, 121.822070345877 25.1027838346972, 121.821774270587 25.1029364311206, 121.821736219295 25.1029836867486, 121.821515884195 25.1030086272115, 121.821376725185 25.1030768852947, 121.821122687513 25.1033095531861, 121.82096323448 25.1034119400446, 121.82052473864 25.1036882528696, 121.81990250942 25.1041060025465, 121.819431035793 25.1044974980027, 121.819139852812 25.1047473915551, 121.819007941667 25.1046463184529, 121.818855555303 25.1045477064659, 121.818822215123 25.1045004514422, 121.818782351865 25.1044709170432, 121.818677982607 25.1044971698427, 121.818617825327 25.1045411432692, 121.818410355188 25.1045923361936, 121.818363062868 25.1045870856383, 121.81832102525 25.1045608328581, 121.818177336324 25.1042933823387, 121.81813239956 25.1042251249345, 121.817932902073 25.1041284815735, 121.817781784085 25.1040744990857, 121.81754187975 25.1040233059445, 121.817470669475 25.1039950840754, 121.81738224552 25.1039360150261, 121.817144153151 25.1036797206539, 121.817075298433 25.1036252457245, 121.816988505248 25.103605555985, 121.816810702496 25.1037191721531, 121.816782496124 25.1036874399843, 121.816989107801 25.1035633319464, 121.817093780489 25.1035838972679, 121.817204672825 25.1036751263837, 121.817410693391 25.10390631641, 121.817491325891 25.1039629242632, 121.817593701985 25.1039944277528, 121.817722170395 25.104022649622, 121.81794540464 25.104089594495, 121.81815070042 25.1041882068515, 121.818207958554 25.1042551516338, 121.818338601323 25.1045121011199, 121.818385712446 25.1045586998194, 121.81860260481 25.1044996310424, 121.818749192882 25.1044346553546, 121.818794129646 25.1044320300736, 121.818857186073 25.1044628771222, 121.818892157022 25.1045232585566, 121.819130792981 25.1046848771949, 121.819174280172 25.1047163804985, 121.818758071517 25.1051966407938, 121.81833660816 25.1056746021054, 121.818078584162 25.1060723274988, 121.817895937961 25.1064536438642, 121.817736484928 25.1067125576548, 121.81749404384 25.1070646664041, 121.817132737764 25.1074876549776, 121.816784477845 25.1077875854766, 121.81643331878 25.1079516609306, 121.816345982005 25.107978569284, 121.815818337424 25.1080875152399, 121.815391800562 25.1081163924649, 121.814985557722 25.1080743892262, 121.814523868714 25.1079221273651, 121.814318029344 25.1078026804275, 121.814201701109 25.1077367220411, 121.81300761533 25.1074292439195, 121.812632175917 25.1073426117371, 121.81157181325 25.1073636134839, 121.811371409779 25.1073386739092, 121.811014452422 25.1072625425442, 121.810366130887 25.1070416956872, 121.810235669315 25.1070416956872, 121.809948291463 25.1076484493191, 121.80936809986 25.1074029917495, 121.809237275895 25.1074174304437, 121.808097186711 25.1076825770705, 121.807078861662 25.1079257370235, 121.806097863118 25.1081400192803, 121.804905226912 25.1084199310654, 121.803974702693 25.1086238149678, 121.802998302462 25.1095082354668, 121.801926384817 25.1101591689541, 121.799409324077 25.1117688142623, 121.798523134737 25.1122092556709, 121.798063236077 25.1123896774527, 121.797610412782 25.1124940390715, 121.795620466659 25.11295216889, 121.7954453514 25.1128389630662, 121.796671158212 25.1125311847325, 121.797256644582 25.1125028832765, 121.797847357139 25.112415732652)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454080800'=='0100020200' || '0454080800'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
