
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492711</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000300">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000300">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000300" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0151000300" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000300" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000300',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="ITr0GoITBNKp6IFWky17XTZR4m3LPbUuktpkljY-UB6lwjNscRUIidquxJLnpWrgVVlRlR0KknS0UpadXKYLAs7Wshc1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/taipei_city.svg" width="100%" class="vipstop-city" alt="臺北市">                
 <span class="stationlist-title">小3 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0151000300" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0151000300" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">臺北市公共運輸處公車申訴服務電話02-27291181</a>                </div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">捷運昆陽站 - 翠柏新村</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0545 - 2310 <br>
                        [假日] 0615 - 2300
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 班表:0545 0610 0630 0715 0750 0810 0855 0930 1000 1030 1100 1145 1230 1300 1330 1400 1440 1500 1530 1600 1630 1710 1740 1810 1925 2015 2100 2145 2310<br>
[假日]<br /> 班表:0615 0630 0745 0810 0920 1000 1120 1210 1300 1330 1430 1500 1600 1630 1730 1930 2130 2300<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">東南客運內湖站:02-8791-7712</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 翠柏新村</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 捷運昆陽站</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">捷運昆陽站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1155800022" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.050052" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.59306" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">南港高中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1155100400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.052951" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5952331" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">南港分局(向陽)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1155100300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.055334" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5944152" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">石潭公園(成功)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147000400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.061289" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.591281" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">上灣仔</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146700000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.066818" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5907148" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">湖興</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146700100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067861" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5908537" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">國防醫學中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147200100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.07121" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5900311" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">將軍嶺</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147200200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.073809" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5900167" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">方濟中學</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146200000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076884" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5902313" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">成功路三段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146000200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.079617" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5899398" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">內湖派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147200060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.081987" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.590028" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">國立臺灣戲曲學院</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146400540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.08164" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.58736" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">內湖派出所一</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146000040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.081339" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.590447" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">湖光市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145900100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.081699" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5920088" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">捷運內湖站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145700300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.08334" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.594132" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">秀湖</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145700120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.084596" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5983" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">大湖</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145800020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.084602" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6001" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">大湖山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145600200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.084517" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.602057" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">大湖區民活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145600400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.086012" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.601691" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">大湖山莊街169巷</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145600300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.087774" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.601404" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">大湖國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145600060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.088189" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5996591" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">大邱田</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148100000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.101705" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.606821" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">興善宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217601700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106378" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.609711" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">老爺山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217600300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.114774" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6075407" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">翠柏新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215400420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.113334" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.604607" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">長青路214巷</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217601430" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.113527" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.605698" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">長青派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215300040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.111109" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6053195" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">國家公園別墅</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215400320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.109902" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6051666" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">興善宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217601740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106704" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.609657" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">大邱田</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148100040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.101745" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.606758" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">大湖國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145600020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.0881" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.59955" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">大湖山莊街169巷</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145800340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.087521" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6012971" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">大湖</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145700060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.084786" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6000154" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">金龍里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145800160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.08456" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5963847" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">金龍路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1145500160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.084686" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5943834" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">碧湖國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146400960" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.0838" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5924824" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">內湖派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147200060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.081987" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.590028" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">國立臺灣戲曲學院</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146400540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.08164" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.58736" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">內湖派出所一</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146000040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.081339" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.590447" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">成功路三段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146000260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.079854" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.589838" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">方濟中學</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146000140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076435" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5900771" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">將軍嶺</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147200240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.073372" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.58972" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">國防醫學中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147200140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.071037" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5898699" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">湖興</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146700140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06803" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5906611" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">上灣仔</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146700040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5905214" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">石潭公園(成功)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1146700240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.061041" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.591015" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">南港分局(向陽)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1155100340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.055748" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5937887" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">南港高中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1155100440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.053019" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5949802" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">捷運昆陽站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1155700261" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.050667" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.594406" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0151000300";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 25;
        var existBackNum = 24;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0151000300',
                        url: './StopStatusRecent3OfRoute?routeid=0151000300&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0151000300',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0151000300',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0151000300');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0151000300","Name":"小3","BeginStop":"捷運昆陽站","GoDirStops":[{"UniStopId":"1155800022","Name":"捷運昆陽站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.59306,"Latitude":25.050052,"PublicId":"1155800022"},{"UniStopId":"1155100400","Name":"南港高中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5952331,"Latitude":25.052951,"PublicId":"1155100400"},{"UniStopId":"1155100300","Name":"南港分局(向陽)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5944152,"Latitude":25.055334,"PublicId":"1155100300"},{"UniStopId":"1147000400","Name":"石潭公園(成功)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.591281,"Latitude":25.061289,"PublicId":"1147000400"},{"UniStopId":"1146700000","Name":"上灣仔","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5907148,"Latitude":25.066818,"PublicId":"1146700000"},{"UniStopId":"1146700100","Name":"湖興","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5908537,"Latitude":25.067861,"PublicId":"1146700100"},{"UniStopId":"1147200100","Name":"國防醫學中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5900311,"Latitude":25.07121,"PublicId":"1147200100"},{"UniStopId":"1147200200","Name":"將軍嶺","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5900167,"Latitude":25.073809,"PublicId":"1147200200"},{"UniStopId":"1146200000","Name":"方濟中學","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5902313,"Latitude":25.076884,"PublicId":"1146200000"},{"UniStopId":"1146000200","Name":"成功路三段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5899398,"Latitude":25.079617,"PublicId":"1146000200"},{"UniStopId":"1147200060","Name":"內湖派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.590028,"Latitude":25.081987,"PublicId":"1147200060"},{"UniStopId":"1146400540","Name":"國立臺灣戲曲學院","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.58736,"Latitude":25.08164,"PublicId":"1146400540"},{"UniStopId":"1146000040","Name":"內湖派出所一","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.590447,"Latitude":25.081339,"PublicId":"1146000040"},{"UniStopId":"1145900100","Name":"湖光市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5920088,"Latitude":25.081699,"PublicId":"1145900100"},{"UniStopId":"1145700300","Name":"捷運內湖站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.594132,"Latitude":25.08334,"PublicId":"1145700300"},{"UniStopId":"1145700120","Name":"秀湖","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5983,"Latitude":25.084596,"PublicId":"1145700120"},{"UniStopId":"1145800020","Name":"大湖","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6001,"Latitude":25.084602,"PublicId":"1145800020"},{"UniStopId":"1145600200","Name":"大湖山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.602057,"Latitude":25.084517,"PublicId":"1145600200"},{"UniStopId":"1145600400","Name":"大湖區民活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.601691,"Latitude":25.086012,"PublicId":"1145600400"},{"UniStopId":"1145600300","Name":"大湖山莊街169巷","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.601404,"Latitude":25.087774,"PublicId":"1145600300"},{"UniStopId":"1145600060","Name":"大湖國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5996591,"Latitude":25.088189,"PublicId":"1145600060"},{"UniStopId":"1148100000","Name":"大邱田","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.606821,"Latitude":25.101705,"PublicId":"1148100000"},{"UniStopId":"2217601700","Name":"興善宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.609711,"Latitude":25.106378,"PublicId":"2217601700"},{"UniStopId":"2217600300","Name":"老爺山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6075407,"Latitude":25.114774,"PublicId":"2217600300"},{"UniStopId":"2215400420","Name":"翠柏新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.604607,"Latitude":25.113334,"PublicId":"2215400420"}],"LastStop":"翠柏新村","BackDirStops":[{"UniStopId":"2217601430","Name":"長青路214巷","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.605698,"Latitude":25.113527,"PublicId":"2217601430"},{"UniStopId":"2215300040","Name":"長青派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6053195,"Latitude":25.111109,"PublicId":"2215300040"},{"UniStopId":"2215400320","Name":"國家公園別墅","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6051666,"Latitude":25.109902,"PublicId":"2215400320"},{"UniStopId":"2217601740","Name":"興善宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.609657,"Latitude":25.106704,"PublicId":"2217601740"},{"UniStopId":"1148100040","Name":"大邱田","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.606758,"Latitude":25.101745,"PublicId":"1148100040"},{"UniStopId":"1145600020","Name":"大湖國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.59955,"Latitude":25.0881,"PublicId":"1145600020"},{"UniStopId":"1145800340","Name":"大湖山莊街169巷","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6012971,"Latitude":25.087521,"PublicId":"1145800340"},{"UniStopId":"1145700060","Name":"大湖","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6000154,"Latitude":25.084786,"PublicId":"1145700060"},{"UniStopId":"1145800160","Name":"金龍里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5963847,"Latitude":25.08456,"PublicId":"1145800160"},{"UniStopId":"1145500160","Name":"金龍路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5943834,"Latitude":25.084686,"PublicId":"1145500160"},{"UniStopId":"1146400960","Name":"碧湖國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5924824,"Latitude":25.0838,"PublicId":"1146400960"},{"UniStopId":"1147200060","Name":"內湖派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.590028,"Latitude":25.081987,"PublicId":"1147200060"},{"UniStopId":"1146400540","Name":"國立臺灣戲曲學院","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.58736,"Latitude":25.08164,"PublicId":"1146400540"},{"UniStopId":"1146000040","Name":"內湖派出所一","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.590447,"Latitude":25.081339,"PublicId":"1146000040"},{"UniStopId":"1146000260","Name":"成功路三段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.589838,"Latitude":25.079854,"PublicId":"1146000260"},{"UniStopId":"1146000140","Name":"方濟中學","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5900771,"Latitude":25.076435,"PublicId":"1146000140"},{"UniStopId":"1147200240","Name":"將軍嶺","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.58972,"Latitude":25.073372,"PublicId":"1147200240"},{"UniStopId":"1147200140","Name":"國防醫學中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5898699,"Latitude":25.071037,"PublicId":"1147200140"},{"UniStopId":"1146700140","Name":"湖興","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5906611,"Latitude":25.06803,"PublicId":"1146700140"},{"UniStopId":"1146700040","Name":"上灣仔","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5905214,"Latitude":25.067,"PublicId":"1146700040"},{"UniStopId":"1146700240","Name":"石潭公園(成功)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.591015,"Latitude":25.061041,"PublicId":"1146700240"},{"UniStopId":"1155100340","Name":"南港分局(向陽)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5937887,"Latitude":25.055748,"PublicId":"1155100340"},{"UniStopId":"1155100440","Name":"南港高中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5949802,"Latitude":25.053019,"PublicId":"1155100440"},{"UniStopId":"1155700261","Name":"捷運昆陽站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.594406,"Latitude":25.050667,"PublicId":"1155700261"}],"RouteMapUrl":"../MapOverview?nid=0151000300","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0545 - 2310","HeadwayDesc":"班表:0545 0610 0630 0715 0750 0810 0855 0930 1000 1030 1100 1145 1230 1300 1330 1400 1440 1500 1530 1600 1630 1710 1740 1810 1925 2015 2100 2145 2310","HolidayBusTimeDesc":"0615 - 2300","HolidayHeadwayDesc":"班表:0615 0630 0745 0810 0920 1000 1120 1210 1300 1330 1430 1500 1600 1630 1730 1930 2130 2300","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"東南客運內湖站:02-8791-7712","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.591250163545 25.0497039502842, 121.592709731444 25.0500541424536, 121.595734905793 25.0507358554618, 121.595702452896 25.0509136503423, 121.595133734932 25.0533670379399, 121.594833679345 25.0543776801531, 121.594666356203 25.0548412161002, 121.593142947044 25.0574098075455, 121.591673832212 25.0599906012974, 121.591514335368 25.0602996570581, 121.591366839672 25.0606376792435, 121.591262733664 25.0609751764709, 121.591097729021 25.0616466125494, 121.590978186317 25.0622803169601, 121.590824646284 25.06371, 121.590817686583 25.0639332965589, 121.590862936366 25.0642212144754, 121.590992005279 25.064673520562, 121.591007806612 25.0648977859745, 121.59093854959 25.0650793928365, 121.590700259509 25.0654197858777, 121.590619534265 25.065578442741, 121.590585613224 25.0657835357003, 121.59058 25.06606, 121.590928466936 25.068674102952, 121.590964646284 25.06892, 121.590941294727 25.0690563419089, 121.590895129754 25.0691847492188, 121.589953443832 25.0712678715822, 121.589881823056 25.0714428343165, 121.589832358378 25.0715842236619, 121.589825129754 25.0717441421133, 121.590031330831 25.0743102520014, 121.590073903306 25.0747808028758, 121.590129676185 25.0752060364839, 121.590331839082 25.0759302148115, 121.590365129754 25.0761955576865, 121.590342735803 25.076419971403, 121.590195353716 25.0769352552401, 121.589631541368 25.0788108409508, 121.589610447677 25.0789578741617, 121.589608173949 25.0790489705244, 121.58964254257 25.079169902535, 121.58969369183 25.07929448984, 121.589803589211 25.0794692186181, 121.589922362763 25.0796184797975, 121.5909994751 25.0807166453471, 121.590949065625 25.0806681200419, 121.590717930434 25.0807460651385, 121.590293351804 25.0819918266083, 121.587533635956 25.0813307625154, 121.587436478901 25.0817108764431, 121.587517121282 25.0817330290193, 121.587609199869 25.0817262691398, 121.587686061225 25.0816821154411, 121.587746012847 25.0816172966575, 121.587805586884 25.0814365917018, 121.590282715407 25.0820224728256, 121.590324408556 25.0820382037807, 121.590762061509 25.0808000120932, 121.590999455174 25.0807164325744, 121.592456616681 25.0821449879617, 121.592915394007 25.0824679684127, 121.594181898332 25.083426927917, 121.595049811586 25.0840458778219, 121.595172936366 25.0841076759324, 121.59638354501 25.0843826297693, 121.597078413369 25.0844909772798, 121.59779 25.08458, 121.598754116963 25.0846321916488, 121.599826993285 25.0846257093614, 121.600197738028 25.084605723796, 121.600653926312 25.0845358651749, 121.601016372785 25.0844243843211, 121.601209025738 25.0843419282042, 121.601476041282 25.0842045273368, 121.601553386662 25.0842476543003, 121.601662516632 25.0843065153445, 121.601792532002 25.0843515606378, 121.602028280523 25.0844112167811, 121.602011226448 25.0844971680586, 121.601457399721 25.0870469023864, 121.601293924667 25.0879391280282, 121.6012196629 25.0880822698356, 121.60113903306 25.0881676752719, 121.600984670017 25.0882655947043, 121.600829133578 25.088308885555, 121.600710932097 25.0883132439347, 121.599400742978 25.0881294907841, 121.599765353716 25.0890914335749, 121.599883347227 25.0893793197094, 121.599979250258 25.0895560441671, 121.600484623358 25.0902669374312, 121.600608828768 25.0903771336941, 121.600758818658 25.0904563828273, 121.600904752023 25.0905189630591, 121.601052213016 25.0905612136555, 121.601321416157 25.0906421038751, 121.601550275275 25.0907283131425, 121.601777806612 25.09083697535, 121.601915056469 25.0909461564222, 121.601983296392 25.0910917012052, 121.602028267386 25.0912792735537, 121.602059438193 25.0914351227224, 121.602119133578 25.0915294398285, 121.602171897388 25.0915813257469, 121.602241498241 25.091613343625, 121.602330777862 25.0916241523194, 121.602597058542 25.091640648866, 121.602790246486 25.0916554336791, 121.602982440196 25.0916872472388, 121.603172547257 25.0917320806779, 121.603370532405 25.0917879581415, 121.60352014637 25.0918705043337, 121.603632001499 25.0919789118377, 121.604126985297 25.0924662257956, 121.604418751784 25.0928380398571, 121.604722339758 25.0932352752245, 121.604823973441 25.0933510601939, 121.604905458872 25.0934359837244, 121.605064105576 25.093537752003, 121.605188573876 25.0936104581947, 121.605390582306 25.0937633822095, 121.605448194344 25.0937958735697, 121.605517831092 25.0938358381983, 121.605550755548 25.0938702576167, 121.605567824012 25.0939306381302, 121.605564725049 25.0940057231303, 121.60551676662 25.0940712272059, 121.605436951277 25.0941284038816, 121.605318972869 25.0941917209641, 121.60510478382 25.0943225700198, 121.604952228935 25.0944499071771, 121.604894716158 25.0945255983139, 121.604863490994 25.0946066788876, 121.60485903306 25.0948386982157, 121.604889060158 25.0949772434024, 121.604935613224 25.0951023257284, 121.605011526079 25.0951858364793, 121.605127576227 25.0952685812126, 121.605367361728 25.0953930274511, 121.605500610041 25.0954568937875, 121.605601709918 25.0955187909479, 121.605674215637 25.095585334819, 121.605778076425 25.0957440538717, 121.605866839672 25.0959028382395, 121.605888019835 25.0959863150904, 121.605857251726 25.0960633617827, 121.60576390738 25.0961518760967, 121.605635613224 25.0961953482281, 121.605515872733 25.0962224178676, 121.60538445787 25.0962189750301, 121.605181521504 25.0962206964501, 121.605100082977 25.0962286986664, 121.605019068607 25.0962476741062, 121.604924979812 25.0962849482264, 121.604828192685 25.096333294527, 121.604761735265 25.0963809222606, 121.60472291344 25.0964733886927, 121.604734531426 25.0965645214981, 121.604766062722 25.0966524977393, 121.604845613224 25.0967528387053, 121.604898066121 25.096848095146, 121.604885025511 25.0969411957422, 121.604822799608 25.0970287073566, 121.604565659225 25.0973386297008, 121.604374860682 25.097571889261, 121.604194781603 25.0977102651001, 121.604123967977 25.0978372929304, 121.604096034596 25.0979556927209, 121.604095129754 25.0980752566268, 121.604130582713 25.098167785387, 121.604200910515 25.0982442062669, 121.604296597198 25.0983235742976, 121.60441 25.0983799091067, 121.604513007019 25.0984089531247, 121.604613566488 25.0984066804701, 121.604750852939 25.0984008336348, 121.60485291344 25.0984024934867, 121.605008082122 25.0984624199337, 121.605118965028 25.0985217428309, 121.605173983282 25.0985973453524, 121.605173104916 25.0986829235336, 121.605140761679 25.0987956538434, 121.605039492001 25.0991283993282, 121.605026479646 25.099217541125, 121.605052344962 25.0993509439771, 121.605119097199 25.0996833373487, 121.60512903306 25.0997729305631, 121.605109583862 25.0998712148352, 121.605012608334 25.1000986416744, 121.604989438193 25.100164716765, 121.604993127827 25.1002322283612, 121.605058394434 25.1003300841541, 121.605435639006 25.1006786689456, 121.605513421656 25.1007165011349, 121.605585834264 25.1007457747859, 121.605656344962 25.1007754894956, 121.605726169454 25.1008079708329, 121.605784884369 25.1008632203569, 121.605949776039 25.1011023265928, 121.606031651001 25.1012664716515, 121.606105759594 25.1014482527453, 121.60613668477 25.1014823369127, 121.606196238784 25.101498977894, 121.606382083799 25.1014873352263, 121.606517248283 25.1014940994319, 121.606637806612 25.101524653325, 121.606712193388 25.101563445338, 121.606802475676 25.1016482066067, 121.606856171829 25.1017501766846, 121.606911583867 25.1019039110239, 121.607058925583 25.102373476507, 121.60716128186 25.1027766698783, 121.607275837185 25.103053872781, 121.607356388851 25.1031360747026, 121.607433655891 25.103189975077, 121.607542508308 25.10323880697, 121.607615570068 25.1032905459638, 121.607667868344 25.1033814961036, 121.607692653297 25.1034856887672, 121.607750907326 25.103592277529, 121.60780500631 25.1036394109205, 121.607900159227 25.1036579153983, 121.607994629764 25.1036983561075, 121.608067323142 25.1037446539615, 121.608132102525 25.1038373592395, 121.608164601874 25.1039536502199, 121.608214715482 25.1040635732226, 121.608261683003 25.1041403518084, 121.60830934798 25.1042610898339, 121.608357849893 25.1044466682282, 121.608372404114 25.1046547696026, 121.60834854959 25.1048623271409, 121.608363419836 25.1049534469088, 121.608413241962 25.1050190423537, 121.608743903306 25.105229912477, 121.609029802374 25.1054913529765, 121.609319908243 25.1057667892397, 121.609463824969 25.1058812374688, 121.609617491692 25.1060582194619, 121.609690098915 25.1062220206111, 121.609697664613 25.1064281750636, 121.609708289517 25.1066089692978, 121.609737999044 25.1068052867858, 121.609740041591 25.1069150263144, 121.609709809269 25.1070016322041, 121.60965907702 25.1070658170877, 121.609434709391 25.107277940139, 121.609394540932 25.1073438494186, 121.609351755806 25.1074080150945, 121.609313763441 25.1074391156002, 121.609238773552 25.1074600864549, 121.609107449579 25.1074698836584, 121.608907429851 25.1074795340418, 121.608758533648 25.1074832974629, 121.60864854959 25.1075106034844, 121.60850678158 25.107546897434, 121.608320811011 25.1076181510908, 121.608020808809 25.1077625223174, 121.607658217419 25.1079883171849, 121.607477067718 25.1081519556537, 121.607362452896 25.1082253447472, 121.607228793504 25.1082696525331, 121.607001672797 25.1083376963619, 121.606779677063 25.1083442446027, 121.606553165742 25.1083652172735, 121.60637275401 25.1084247115199, 121.606221226448 25.108477068916, 121.606100096697 25.1085144440585, 121.60595 25.108555258746, 121.605882193388 25.1086069830548, 121.605863210622 25.1086687696098, 121.605854080592 25.1088582610911, 121.605788967892 25.1090403940958, 121.6057 25.1092, 121.605530697872 25.1094718256415, 121.605404533377 25.1095948050087, 121.605301991607 25.1096573418012, 121.605234344557 25.1101110240276, 121.605232936366 25.1104935344093, 121.605235833633 25.1106909162985, 121.605250597624 25.1108033505446, 121.605281226448 25.1108952592188, 121.605360648511 25.111011677754, 121.605612296844 25.1112753275057, 121.605844779758 25.1115639976666, 121.605943150023 25.1117186371325, 121.605990783691 25.1120123811992, 121.606081168163 25.1123323798324, 121.606125298304 25.1124140534078, 121.606184384419 25.1124828952384, 121.606343676588 25.112634246792, 121.606456886009 25.1127728886821, 121.60675354328 25.1130539374107, 121.606889552608 25.1132231549747, 121.607077006545 25.1135146627708, 121.60723337473 25.113777085026, 121.607378517038 25.1140913782913, 121.607509166021 25.1143082691268, 121.607599279991 25.1144479482795, 121.607666222659 25.1145358004684, 121.607703796136 25.1145948703291, 121.607713412329 25.1146552560107, 121.607670506396 25.114727068573, 121.607583554781 25.1147524152208, 121.607495613224 25.1147518085761, 121.607422028145 25.1147161520992, 121.607161692936 25.1144117769746, 121.606999163886 25.1142114573781, 121.606835826881 25.1140562838383, 121.606745870551 25.1140088587068, 121.606641540224 25.1139815036446, 121.606517947783 25.1139815277084, 121.606402080995 25.1139356245887, 121.605986615711 25.1136289609432, 121.605877291706 25.1135688252339, 121.605790358847 25.1135604584561, 121.605710259509 25.1135999999877, 121.605652473648 25.1136704462191, 121.605602915265 25.1137394072083, 121.605501912469 25.1138926557492, 121.605419904671 25.1139732676805, 121.605309408494 25.1140185199099, 121.605199886411 25.1140121378068, 121.60508652416 25.1139675945348, 121.604989509738 25.1139140252477, 121.604882973855 25.1138409459835, 121.604745001548 25.1137476037058, 121.60465376029 25.1136801714614, 121.604566594568 25.1135924761834, 121.604518921365 25.1134869001466, 121.604507468154 25.1132454260089, 121.604582736368 25.1132300016855, 121.604587094046 25.1134577185059, 121.604638135296 25.113567593943, 121.604726807594 25.1136433707066, 121.604831320094 25.1137181727382, 121.604929250183 25.1137895290468, 121.605026378611 25.1138528518562, 121.605103957196 25.1138954759442, 121.605212183034 25.113939995795, 121.605309125174 25.1139440526671, 121.605381627035 25.1139135241344, 121.605447348123 25.1138526737478, 121.605534089274 25.1137217290451, 121.60558145041 25.113660083434, 121.605637024208 25.1135848448283, 121.605719119043 25.1135253015464, 121.605808342826 25.1135008566978, 121.605896839672 25.1135087940696, 121.606020764261 25.1135871615836, 121.6064329193 25.1138829191435, 121.606531361767 25.1139170768182, 121.606662023824 25.1139223769991, 121.606777747373 25.1139489720097, 121.606871485211 25.1140003460844, 121.607022590776 25.1141346423814, 121.60719518008 25.1143408816134, 121.607472193388 25.1146705199812, 121.607527287595 25.1146952599821, 121.607609557717 25.1146829680692, 121.60764167698 25.1146369053102, 121.607609574741 25.1145703506151, 121.607537088655 25.114481030786, 121.607442650387 25.1143334069699, 121.607316597945 25.1141056027035, 121.607167164897 25.1137920984894, 121.607016206916 25.113544399668, 121.606831061156 25.1132533587855, 121.60670145041 25.1130952596655, 121.606412646725 25.1128132010486, 121.606290303515 25.1126753524929, 121.606135566986 25.112531936156, 121.606078312263 25.1124637478963, 121.606020050977 25.1123634674099, 121.60593380506 25.1120336819989, 121.605876793821 25.1117293727853, 121.605785155016 25.111588528902, 121.605557282425 25.1113040780418, 121.605304274846 25.1110397850336, 121.605205860112 25.1109053837942, 121.605172745299 25.1108009217223, 121.605159834995 25.1107082245851, 121.60515096694 25.1104970688182, 121.605160767583 25.1101091783918, 121.605231203522 25.1096095606915, 121.605352297377 25.1095455921374, 121.60547065202 25.1094317244857, 121.605635668636 25.1091640443672, 121.60571226234 25.1090189485948, 121.605774658786 25.1088393180774, 121.605779357539 25.1086398830241, 121.605824670131 25.1085573330833, 121.605913666724 25.1084974849566, 121.606050979593 25.1084564891634, 121.606178290082 25.1084205174455, 121.606344421523 25.1083592933332, 121.606531816957 25.1083037199499, 121.606771842222 25.1082799550246, 121.606987636485 25.1082731065781, 121.607182791268 25.1082113214384, 121.607366356202 25.1081440518076, 121.607472248504 25.1080721632959, 121.607630113068 25.1079321796759, 121.607989869726 25.1077137506194, 121.608305872733 25.1075575860965, 121.608482404191 25.1074827711114, 121.608617469512 25.1074499058764, 121.608746941489 25.1074210694179, 121.608892236449 25.1074145314288, 121.609090005699 25.1074112606209, 121.609238896855 25.1073929558235, 121.609284059408 25.1073708890284, 121.609314352808 25.1073254446818, 121.609359776039 25.1072480164917, 121.609607123374 25.1070199896153, 121.609646455394 25.1069669287263, 121.609673551238 25.1068854476922, 121.609675736668 25.1068193249854, 121.609639801856 25.1066307399073, 121.60962635974 25.1064116118395, 121.609615276043 25.1062363426041, 121.609555038796 25.1060923424781, 121.609398290082 25.1059176727037, 121.609265596422 25.1058072669183, 121.608967347251 25.1055305596628, 121.608692895862 25.1052876306101, 121.608394646284 25.1050877604585, 121.608324739469 25.1050338756643, 121.608274127993 25.104945492438, 121.608266580164 25.1048658617126, 121.608297113476 25.1046335030131, 121.608281395868 25.1044515375051, 121.608244870246 25.1042953458843, 121.608192414198 25.1041694508294, 121.608149340428 25.1041006757928, 121.608100533616 25.1039951243096, 121.608063419836 25.103864830443, 121.608035668676 25.1037978426487, 121.607972181848 25.1037429799233, 121.607902219127 25.103720005824, 121.60776861998 25.1036838255496, 121.607695038796 25.1036254050395, 121.607632776142 25.1035228526741, 121.607608644993 25.1034186507501, 121.607568481558 25.1033366864072, 121.607483168439 25.1032728009617, 121.607381480435 25.1032314740569, 121.607282293905 25.103171126493, 121.607203908399 25.1030717997137, 121.607088322567 25.1027914195599, 121.606981737924 25.1023850422681, 121.606822307272 25.1018796503823, 121.606757719014 25.1017135785962, 121.606697205419 25.1016358249941, 121.606612948926 25.1015826477696, 121.60651116872 25.1015582989533, 121.606373613664 25.1015522695698, 121.606233094647 25.1015522695698, 121.60613953092 25.1015504827094, 121.606074386776 25.1015240493412, 121.606039230517 25.1014765240123, 121.605975850667 25.1012827054582, 121.605895129754 25.10113060404, 121.605751392238 25.1009128147407, 121.605694709315 25.1008596513952, 121.605629547057 25.1008235086867, 121.605552725456 25.100787042807, 121.605487563196 25.1007640362234, 121.605424891456 25.100734205943, 121.604989141138 25.1003588044592, 121.604924285513 25.1002755960851, 121.604903592839 25.1001965738215, 121.604927758646 25.100111180263, 121.605030885368 25.0998715958011, 121.605058098606 25.099772319352, 121.605042220021 25.0996838749882, 121.604970378173 25.099345440724, 121.60495079717 25.0992135747736, 121.604966580164 25.0991222357792, 121.605070944013 25.0987848200251, 121.605095779918 25.0986784925453, 121.605102102121 25.0986030194292, 121.605055837185 25.0985517219866, 121.604983275119 25.0985145163176, 121.604832193388 25.0984558609895, 121.604744413232 25.0984560167716, 121.604613435866 25.0984702932681, 121.604498605111 25.0984665278729, 121.60439048347 25.0984329304947, 121.604282668711 25.0983738438833, 121.604153356175 25.0982888345224, 121.604080279192 25.0982057173456, 121.604028773552 25.0980929304651, 121.604036618836 25.097954893135, 121.604064946312 25.0978257374845, 121.604148616877 25.0976736948827, 121.604327366667 25.0975369674707, 121.604531926487 25.0972876619198, 121.604814380039 25.0969519346158, 121.60483788592 25.0968738783073, 121.604816521731 25.0968068515701, 121.604730223961 25.096703168114, 121.604673867759 25.0966079115785, 121.604650459168 25.096503404778, 121.604658998707 25.0964198707262, 121.604717806612 25.0963333510402, 121.604784870246 25.0962794874871, 121.604884870246 25.0962383705613, 121.60498347042 25.0961923702523, 121.605090317004 25.0961675675384, 121.605181824589 25.096164674935, 121.605374737107 25.0961705043115, 121.605509241852 25.0961693055988, 121.605629903147 25.0961399756948, 121.605720142189 25.0961093955164, 121.605777394237 25.0960562811345, 121.60581719014 25.0959897171478, 121.605796580164 25.0959134427268, 121.605721933879 25.0957835482955, 121.605623534177 25.0956129928757, 121.605542485382 25.0955540068137, 121.605468035479 25.0955038124239, 121.605320699318 25.0954409036734, 121.605085619654 25.0953261470514, 121.604964285928 25.0952414604195, 121.604892676858 25.0951624182365, 121.604821928899 25.095012188361, 121.60480048347 25.0948422330717, 121.604811184433 25.0946051608426, 121.604834720795 25.0945141598707, 121.604882400909 25.0944474350582, 121.604940519017 25.0943968840779, 121.605082990413 25.0942852809678, 121.605305648771 25.0941422326436, 121.605414039088 25.0940838277743, 121.605482512408 25.0940372360923, 121.605514750626 25.0939788722295, 121.605511974206 25.0939240470121, 121.605505504164 25.09388864219, 121.605473688714 25.0938572131524, 121.605427327922 25.093838052921, 121.605349626654 25.0937989576216, 121.605163959697 25.0936630723888, 121.605027762527 25.0935788987331, 121.604865417925 25.0934839536789, 121.604776201195 25.0933943312381, 121.604675353716 25.0932758603846, 121.604363369255 25.0928649095275, 121.604077063634 25.0924993952054, 121.60357906636 25.0920106072647, 121.603485691561 25.0919253623051, 121.603355761224 25.0918504338526, 121.603173250981 25.0917953715235, 121.603000989041 25.0917484313603, 121.602813269312 25.0917156741474, 121.602592509104 25.0916941725071, 121.602320584124 25.091679262485, 121.602221436029 25.0916569443558, 121.602129105421 25.0916264110071, 121.602060730358 25.091565879334, 121.602004770168 25.0914640615133, 121.601968605002 25.0913047783493, 121.60192677164 25.0911147447952, 121.601868402564 25.0909872342464, 121.60175048347 25.0908864650198, 121.601523034438 25.0907895678933, 121.601291812889 25.0906982884359, 121.601060946971 25.0906198186002, 121.600866614965 25.0905624324369, 121.600716893352 25.0905026373103, 121.600553633897 25.090413129791, 121.600428773552 25.090301197398, 121.599925644574 25.0895860027265, 121.599819478051 25.0894049969053, 121.599702900819 25.0891126437325, 121.599318762297 25.0881137689493, 121.599307884949 25.0880347880888, 121.599432518328 25.0880604137247, 121.600711381585 25.0882565200819, 121.600822676858 25.0882523247422, 121.600962942175 25.0882131027946, 121.601108415974 25.0881190515338, 121.601177391175 25.0880399345397, 121.60123903306 25.0879004131281, 121.601404045052 25.0870411730968, 121.601948773552 25.0844547461259, 121.60174773586 25.0844026815621, 121.601580561807 25.0843376816186, 121.601294721292 25.0844707547184, 121.601074048851 25.0845528715983, 121.600695939956 25.0846627280495, 121.600244711841 25.0847373640638, 121.599808031319 25.0847670469964, 121.59875 25.0847776757605, 121.597747806612 25.0847212109239, 121.597085725257 25.0846513496147, 121.596376804125 25.0845347635437, 121.595082452896 25.0842559571807, 121.594963938853 25.0843428318842, 121.594650295056 25.0845475782503, 121.59436084962 25.0846710157023, 121.59405087653 25.0847561449667, 121.593779109021 25.0848062595253, 121.593415741222 25.0844857428022, 121.592533231422 25.0837980116989, 121.591716746313 25.0831492622744, 121.590323416887 25.0820376296078, 121.590282464536 25.0820232634277, 121.590720385433 25.0807424132599, 121.589784468861 25.079692744299, 121.589651810436 25.0795292345275, 121.589537895221 25.0793469044302, 121.589472014533 25.0792133920361, 121.589433119128 25.0790870651628, 121.589431334897 25.0789560338142, 121.589469275158 25.0787735012334, 121.590026397102 25.0769455933902, 121.590188909415 25.0764072913902, 121.590213903306 25.076201615044, 121.59019951653 25.0760032349739, 121.589994386776 25.0752247479992, 121.589913372139 25.0747795379287, 121.589872488444 25.0743067494803, 121.589646096694 25.0717436395283, 121.58965362586 25.0715570362138, 121.589708122042 25.0713742396507, 121.589768949816 25.0712440462414, 121.590722436511 25.0691205151631, 121.590758771021 25.0690045861511, 121.590776096694 25.0688840370617, 121.590756339872 25.0686818410958, 121.590432511841 25.0660891164785, 121.590385895941 25.0657132805316, 121.590309257022 25.0653368572216, 121.590223949158 25.0647481700392, 121.590226795312 25.0645801788298, 121.590303589132 25.0644110735211, 121.59059951653 25.0639196084031, 121.590679740491 25.0636595416572, 121.590851933637 25.0622403989217, 121.590964870246 25.0616297194819, 121.591128958484 25.0609402832845, 121.591242823228 25.060593535851, 121.591389260928 25.0602523757447, 121.591567421343 25.0599348975467, 121.59301830076 25.0573592000825, 121.594501586474 25.0548075474869, 121.594655769899 25.0543622480882, 121.594962121827 25.053320197411, 121.59551951653 25.0508724335762, 121.592652170733 25.0502008541471, 121.592583233464 25.0504391464592, 121.59112113272 25.0500645589042, 121.591245517261 25.0497020102871)","wkt0":"LINESTRING (121.593049139015 25.0500924319926, 121.595734905793 25.0507358554618, 121.595702452896 25.0509136503423, 121.595133734932 25.0533670379399, 121.594833679345 25.0543776801531, 121.594666356203 25.0548412161002, 121.593142947044 25.0574098075455, 121.591673832212 25.0599906012974, 121.591514335368 25.0602996570581, 121.591366839672 25.0606376792435, 121.591262733664 25.0609751764709, 121.591097729021 25.0616466125494, 121.590978186317 25.0622803169601, 121.590824646284 25.06371, 121.590817686583 25.0639332965589, 121.590862936366 25.0642212144754, 121.590992005279 25.064673520562, 121.591007806612 25.0648977859745, 121.59093854959 25.0650793928365, 121.590700259509 25.0654197858777, 121.590619534265 25.065578442741, 121.590585613224 25.0657835357003, 121.59058 25.06606, 121.590928466936 25.068674102952, 121.590964646284 25.06892, 121.590941294727 25.0690563419089, 121.590895129754 25.0691847492188, 121.589953443832 25.0712678715822, 121.589881823056 25.0714428343165, 121.589832358378 25.0715842236619, 121.589825129754 25.0717441421133, 121.590031330831 25.0743102520014, 121.590073903306 25.0747808028758, 121.590129676185 25.0752060364839, 121.590331839082 25.0759302148115, 121.590365129754 25.0761955576865, 121.590342735803 25.076419971403, 121.590195353716 25.0769352552401, 121.589631541368 25.0788108409508, 121.589610447677 25.0789578741617, 121.589608173949 25.0790489705244, 121.58964254257 25.079169902535, 121.58969369183 25.07929448984, 121.589803589211 25.0794692186181, 121.589922362763 25.0796184797975, 121.5909994751 25.0807166453471, 121.590751538107 25.0808658115126, 121.590346153643 25.0820007414827, 121.590227240867 25.0820456162833, 121.590033388439 25.0819849292933, 121.58988131279 25.0819436280764, 121.58787330841 25.0814655062298, 121.587827364837 25.0814769289578, 121.587764305032 25.0816392947621, 121.587624672605 25.0817110946471, 121.587526479479 25.0817282287043, 121.587470626508 25.0816417424861, 121.587509363246 25.0814083925738, 121.587533686314 25.0813121152076, 121.58897325159 25.0816556129215, 121.590229042576 25.0819566825717, 121.590326334847 25.0819118077385, 121.590700189409 25.0808225681065, 121.590907695581 25.0806226181493, 121.591000173912 25.0807160913528, 121.591399843582 25.0810717019306, 121.591621453756 25.0812919979201, 121.592318715035 25.0819847038371, 121.592945709673 25.0824636395585, 121.593653781205 25.0829866319622, 121.594396085202 25.0835226764597, 121.594955515763 25.0839477572614, 121.59547080446 25.0841982360445, 121.596513993816 25.0844103675121, 121.597695914743 25.0845637546519, 121.598775138273 25.0846371845977, 121.60038406417 25.084568649983, 121.601110152789 25.0843891543819, 121.601549769719 25.0841639686191, 121.601700212398 25.0843377533204, 121.601956955892 25.0843875226025, 121.602022718261 25.0844813498826, 121.60175741665 25.0856762136077, 121.601519591098 25.0868804482088, 121.60133221339 25.0877844322508, 121.601301510768 25.087942197817, 121.601245731371 25.0880536680846, 121.601109702362 25.0881972602872, 121.600841247761 25.0883065860557, 121.600674589703 25.0883082177829, 121.599496272193 25.088125464207, 121.599445824348 25.0881556512004, 121.599438617513 25.0881972602872, 121.599630499493 25.0887161488874, 121.599795355842 25.089123262774, 121.599892648114 25.0893843370987, 121.600001651492 25.0895344545833, 121.600378208617 25.0901014727682, 121.600556577781 25.090353570657, 121.600836743489 25.0905322416618, 121.601099792963 25.0905958778471, 121.601234020264 25.09063503856, 121.601775433738 25.0908496064106, 121.60189344566 25.0909328227381, 121.601984431951 25.0910576471232, 121.602014160145 25.0912877152641, 121.602053797737 25.0914206977156, 121.602096137892 25.0915145196037, 121.60220514127 25.091595287954, 121.602385312143 25.0916466859674, 121.602753761579 25.0916605552689, 121.602842946161 25.0916719770454, 121.603026720451 25.0917250067082, 121.603286166509 25.0917935373152, 121.603435708333 25.0918196442031, 121.603528496333 25.0918800163598, 121.603945591904 25.0922871197204, 121.604144680719 25.0924331544635, 121.604523940407 25.0929699734179, 121.604610422426 25.0930899007348, 121.604821222348 25.0933428082966, 121.60500319493 25.0934676302232, 121.605169852987 25.0935671613413, 121.605389661452 25.093762960026, 121.605515781064 25.0938274103578, 121.605565328054 25.0938934923083, 121.605566228908 25.0940289194041, 121.605514880209 25.0940958170707, 121.60525092988 25.0942124799873, 121.605035625687 25.0943617757253, 121.604908605221 25.0944914915464, 121.604885183008 25.0946228388729, 121.604913109493 25.0949589568552, 121.604955449648 25.0951115149551, 121.605023013726 25.0951808594831, 121.605206788016 25.095269783585, 121.605497763976 25.0954362101708, 121.605636495549 25.0955390029489, 121.605742796364 25.0956630068203, 121.605886032208 25.0958865397972, 121.605895941606 25.0960121749407, 121.605804054461 25.0961304676527, 121.605617577607 25.0962038906578, 121.605444613569 25.0962153120102, 121.605165348715 25.0962063380905, 121.605022112871 25.0962226543076, 121.604816718076 25.0963181041337, 121.604741046309 25.0964445546433, 121.604736542037 25.0965277671654, 121.604777981338 25.0966321906425, 121.604916712911 25.0968443005559, 121.604892389843 25.0969226179694, 121.604455475475 25.0974749174725, 121.604359084058 25.0975703663215, 121.604187921729 25.097705789347, 121.604138374739 25.097784106209, 121.60411585338 25.0979097394037, 121.604139275593 25.0979676611578, 121.604123060214 25.0981071627347, 121.604153689263 25.0981887425305, 121.604340166117 25.0983388492126, 121.604435656679 25.0983665862967, 121.604794196717 25.0983951391709, 121.60486085994 25.098411455096, 121.605139223939 25.0985240349199, 121.605170753842 25.0986031670529, 121.605157241026 25.0987230888477, 121.605059747368 25.0990488486293, 121.605031121415 25.0992256169947, 121.605061750463 25.099419775044, 121.605142827356 25.099755064059, 121.605053642774 25.1000259051227, 121.604986078697 25.1001906936692, 121.605000492367 25.1002608511018, 121.605113099162 25.1003848501866, 121.605477044326 25.1007030051581, 121.605561724636 25.1007584782479, 121.605756309179 25.1008090566313, 121.605828377529 25.1009273447045, 121.605904049295 25.1010415537701, 121.606055392829 25.101255287592, 121.606101336401 25.1014682052646, 121.606164396207 25.1015236780073, 121.606240968828 25.1015310199861, 121.606478794381 25.101509809824, 121.606681486613 25.1015457039423, 121.606750852399 25.1015881242504, 121.606857153214 25.1017855416443, 121.60690579935 25.1019193284574, 121.606972462573 25.1020384312288, 121.607057142883 25.1023777919141, 121.607100383893 25.1026029441568, 121.60716164199 25.1028403324855, 121.607263438533 25.1030834307089, 121.60732469663 25.1031397184836, 121.607597655503 25.1032922663806, 121.607635491386 25.1033151077606, 121.607673327269 25.1034717342511, 121.607704857172 25.1035639153732, 121.607812058842 25.1036585437093, 121.607937277598 25.1036960687189, 121.608023759618 25.1037074893717, 121.608092224549 25.103755619254, 121.608125556161 25.1038233273613, 121.608157986918 25.1039946368632, 121.608230055267 25.1041292370177, 121.608321041558 25.104199392191, 121.608334554374 25.1044180150312, 121.60835437317 25.1045159057284, 121.608348067189 25.1046684519088, 121.608324644976 25.1047957095393, 121.608343562917 25.1049262300484, 121.608394911616 25.1050118840568, 121.608627332042 25.105146483101, 121.608830925129 25.1053096332379, 121.609046229322 25.1054988871358, 121.609225499341 25.1056824305065, 121.609353420661 25.1057966351315, 121.60950386334 25.1059214443497, 121.609643495767 25.1060968296371, 121.609698447883 25.1062151125958, 121.609711059844 25.1063782613167, 121.609698447883 25.1065161218162, 121.609740788038 25.1068717848722, 121.609735382912 25.106968857866, 121.609666017126 25.1070430901034, 121.609496656505 25.1071891072301, 121.609423687302 25.1072780226017, 121.609342610409 25.1074207765034, 121.609277748894 25.1074689049242, 121.608922812274 25.1074901140527, 121.60863724144 25.1075594515627, 121.608353472315 25.1076548925415, 121.608291313364 25.1076818117785, 121.608090422841 25.1077429918404, 121.608049884394 25.1077527806475, 121.607770619541 25.1079208217134, 121.607706658881 25.1079444779614, 121.607490453833 25.1081753300725, 121.607439105134 25.108212853696, 121.607071556553 25.1083376604479, 121.606713016516 25.1083360289879, 121.606256283352 25.108455941239, 121.605959001412 25.1085538287037, 121.605913057839 25.1085929836676, 121.605864411703 25.1088972499392, 121.605692348519 25.1092243557298, 121.605545509258 25.1094739670411, 121.605438307588 25.1095955096193, 121.605332006773 25.1096730031464, 121.605258136715 25.1100751529769, 121.605223003395 25.1107685116471, 121.605312187977 25.11095286282, 121.605408579394 25.1110336183347, 121.605555418656 25.111196760626, 121.605767119432 25.1114561564208, 121.605892788616 25.1116105292859, 121.605954046713 25.1117377796913, 121.605998188577 25.1119637304052, 121.606033321897 25.1121537897075, 121.606140523566 25.1124384702557, 121.606241419255 25.1125233032994, 121.606339612381 25.1126097676873, 121.606408978167 25.1127076518261, 121.606511675565 25.1128373481894, 121.606590950749 25.1129123925631, 121.606726078904 25.1130216962425, 121.606878323292 25.1131987027398, 121.606963904456 25.1133390026385, 121.607109842864 25.1135429266228, 121.607275600067 25.1138121057612, 121.607308931678 25.1139719815749, 121.607393611989 25.114141645475, 121.607478292299 25.1142778658398, 121.60771161358 25.1146702122696, 121.607647089886 25.1147803300642, 121.607543716847 25.1147854281078, 121.607465680338 25.1147212947033, 121.607180559931 25.1144158193928, 121.606838235272 25.1140414173702, 121.60667878405 25.1139916601523, 121.606513026846 25.1139802404601, 121.606422716196 25.1139533226414, 121.606348170498 25.1139100908988, 121.606148631256 25.1137453208408, 121.605852475383 25.1135520012422, 121.605805405742 25.1135589346412, 121.605776127975 25.1135936016801, 121.605723427995 25.1136600807979, 121.605623433161 25.1137330854316, 121.605491007569 25.1139235498294, 121.605367140094 25.1140132759953, 121.60529417089 25.1140218407623, 121.605173906832 25.1139892130755, 121.604842842853 25.1137967095461, 121.604596909611 25.1136111391196, 121.604505472893 25.1135446599752, 121.604529795961 25.1134349489155, 121.604516283145 25.1132926098846, 121.604518084854 25.1132511112964, 121.604588000024 25.1132520000004)","wkt1":"LINESTRING (121.604588000024 25.1132520000004, 121.604619231365 25.1133097362258, 121.604646256887 25.1135844207074, 121.604684092617 25.1136290798187, 121.605168525092 25.113938022539, 121.605294869406 25.1139783991537, 121.605356352467 25.1139643285168, 121.605449590517 25.1138970341439, 121.605506344112 25.1138101631713, 121.605522559425 25.1137110567751, 121.605617824389 25.1136162326788, 121.605692144574 25.1135250791234, 121.605743493065 25.1134877612052, 121.60579686847 25.1134785846662, 121.605891457795 25.1135116202034, 121.606386024841 25.1138303515014, 121.606554258713 25.1139172224596, 121.606583311149 25.1139245636645, 121.6066623608 25.1138236220584, 121.606718438757 25.1138505398282, 121.606788029475 25.1139013165142, 121.606949506967 25.1140487523141, 121.607101525526 25.1142451291822, 121.607421777957 25.1145889408832, 121.607515691645 25.1146898818573, 121.607560283755 25.1147033406476, 121.607615686075 25.1146837642249, 121.607617712989 25.1146372702085, 121.607578525982 25.1145448938865, 121.607469748258 25.1143766586838, 121.607322459165 25.1141154348374, 121.607233274944 25.1138890811701, 121.607176521348 25.1137606099832, 121.606946128777 25.1134027252508, 121.606846134347 25.1132305119677, 121.606657293514 25.1130506512993, 121.60646575013 25.1128784375202, 121.606429603495 25.1128450959257, 121.606304610457 25.1126838937763, 121.606222520435 25.112579280503, 121.606081649904 25.1124703847199, 121.606060029487 25.1124449960823, 121.605925577516 25.111843620307, 121.605885039234 25.1116955700692, 121.605528302349 25.1112850661994, 121.605406011863 25.1111608747422, 121.605294531587 25.1110177179305, 121.605194537157 25.1108451953963, 121.605178997482 25.1107821817858, 121.605162106531 25.1103924755317, 121.605158052703 25.110320896697, 121.605187105138 25.1100486520281, 121.605241156181 25.1096834149694, 121.605247236924 25.1096002117348, 121.605362095391 25.1095641161963, 121.605434388661 25.1095243499127, 121.605487764066 25.1094613356215, 121.605532356177 25.1094007684566, 121.605778288424 25.1089511022031, 121.605803962669 25.1088507682827, 121.605832339467 25.1086292992159, 121.605861391903 25.1085589429367, 121.605912064756 25.1085222352967, 121.606594459177 25.1083050482011, 121.606675535741 25.1082934240921, 121.607006598381 25.1082897533207, 121.607366713457 25.1081735121669, 121.607435628537 25.108117838733, 121.607577512525 25.1079667249991, 121.607650481434 25.1078994273247, 121.608047080963 25.1076889689038, 121.608321390008 25.1075898575453, 121.608523405782 25.1075182770697, 121.608815957053 25.1074326251635, 121.608975407631 25.1074075413797, 121.609233501363 25.1073971407848, 121.609267958903 25.10738429299, 121.609481460523 25.1071328430187, 121.609680098107 25.1069493025686, 121.609676044279 25.1068410135731, 121.609650370033 25.1066470720254, 121.60962739834 25.1065143105993, 121.609639559825 25.1063625830787, 121.609608480475 25.1061515102067, 121.609540578852 25.1060438323113, 121.609474704143 25.1059740863512, 121.609343292544 25.105857842996, 121.609267958903 25.1057975799499, 121.609222691154 25.105760565577, 121.609142965865 25.1056828659477, 121.609006149162 25.1055458208119, 121.608884196496 25.1054139759047, 121.608784539885 25.1053234280438, 121.608566984436 25.105167110464, 121.608386926898 25.1050808450996, 121.60834841553 25.1050523958703, 121.608300783048 25.1050062040968, 121.60828287864 25.1049737780733, 121.608271054974 25.104938598887, 121.608261258222 25.1048948543196, 121.608265987689 25.1048128714517, 121.608307877247 25.1045855828404, 121.608307539428 25.1045106356283, 121.608303823419 25.1044931989234, 121.608250785833 25.1042530615941, 121.608230516691 25.1041992218224, 121.60816903363 25.104102248992, 121.608143359384 25.1040682931878, 121.608115658225 25.1039973224675, 121.608086943608 25.10384895682, 121.60808288978 25.1038278491153, 121.608046743144 25.1037841041506, 121.608024784908 25.1037620787078, 121.607977152426 25.1037421946242, 121.607742030388 25.1036755064431, 121.607725815075 25.1036605168928, 121.607641698139 25.1035372354196, 121.607634266121 25.1035225517619, 121.607625820645 25.1034665703008, 121.607618050808 25.1034243547558, 121.607600822038 25.1033738796285, 121.607556905565 25.1033200394698, 121.607471099534 25.1032603869935, 121.607365362181 25.1032096058882, 121.607264016475 25.1031829916861, 121.607230910211 25.103112020452, 121.607195101394 25.103044414195, 121.607147131094 25.1029153197905, 121.607113687011 25.1028223227891, 121.607078216013 25.1026868040059, 121.607020448961 25.1024176014628, 121.607003220191 25.1023328637215, 121.606940385853 25.1021104651104, 121.606920116712 25.1020483647382, 121.606873497687 25.1019214106773, 121.606794448037 25.1017920091735, 121.606761341773 25.1017598882117, 121.606719452214 25.1016592424766, 121.606714384929 25.1016414994508, 121.606689386321 25.1016066252204, 121.606579257321 25.1015757278675, 121.606466763587 25.1015659386056, 121.606269477279 25.1015824579846, 121.606207656398 25.1015836816423, 121.606140768232 25.1015650208622, 121.606098203036 25.1015384063022, 121.60605867821 25.1015020024693, 121.606040435983 25.1014637631374, 121.606030977051 25.1014343953223, 121.606013748281 25.1013160062464, 121.605997532968 25.1012713426376, 121.605970845265 25.1012260671819, 121.605918483317 25.1011486705871, 121.605900578909 25.1011293979096, 121.605840109304 25.1010342581398, 121.60580700304 25.100984087942, 121.605753965454 25.1009134213479, 121.605701941325 25.1008675339273, 121.605657687033 25.1008387778017, 121.605438442489 25.1007384372251, 121.605329664765 25.1006332018978, 121.605197915347 25.1005071641192, 121.605071571033 25.1004129416174, 121.605026978923 25.1003719486881, 121.604940159434 25.100282314847, 121.604925295398 25.1002514171596, 121.604925633217 25.1002101182583, 121.604939821615 25.1001587240506, 121.605045896788 25.0998953283971, 121.605070557576 25.0998011054239, 121.605067855024 25.0997347210128, 121.605063125558 25.0996551820397, 121.604978670803 25.0992764534506, 121.60497259006 25.0992480028711, 121.604971238784 25.0992174108427, 121.605013466162 25.0990568025684, 121.605118865696 25.098700710328, 121.605124946439 25.0986376904593, 121.605070219757 25.0985563152409, 121.604862123241 25.0984584201697, 121.604750642964 25.0984449595913, 121.604595246215 25.0984474069693, 121.604481063386 25.0984217094978, 121.604365529281 25.0983868343493, 121.604258102833 25.0983280972346, 121.604174999354 25.0982577350288, 121.604134461071 25.0982149058402, 121.604087842046 25.0981298592642, 121.604066897267 25.0980533784799, 121.604058113973 25.0979964767453, 121.60407297801 25.0979108181703, 121.604091895875 25.0978282187732, 121.604106084274 25.0977554088881, 121.604110138102 25.0977089084346, 121.604147973832 25.0976617961149, 121.604268913041 25.0975730780612, 121.604368231833 25.0974929258332, 121.604430390533 25.0974250105455, 121.604829692615 25.0969190098724, 121.604846583566 25.0968731209534, 121.604849961756 25.096824172754, 121.604819558044 25.0967715534179, 121.604721590528 25.0966136952737, 121.604695240645 25.0965574047234, 121.604688484264 25.0965047852726, 121.604685106074 25.0964619554703, 121.604699970111 25.0963940396102, 121.604739832755 25.0963346896835, 121.604768209553 25.0962961428085, 121.604862798879 25.0962380165455, 121.604973603517 25.0961927392267, 121.605104001659 25.0961603108665, 121.60515197196 25.0961529685951, 121.60527966755 25.0961658175698, 121.605387769636 25.0961737716963, 121.605527626711 25.0961774428315, 121.605654646662 25.0961309417781, 121.60578301789 25.0960544597441, 121.605812070326 25.0960110179274, 121.605834366381 25.0959577863846, 121.605830988191 25.0958892583873, 121.605741803969 25.0957589327151, 121.605614784018 25.0955845530774, 121.605553300956 25.0955245908989, 121.60541749771 25.095456062659, 121.605340474973 25.0954040545941, 121.604981711174 25.0951911272274, 121.604939821615 25.0951654290718, 121.60491076918 25.0951232106617, 121.604879014192 25.0950516228896, 121.604835773357 25.0946520766912, 121.604834422081 25.0945884428729, 121.604859420689 25.0944942158121, 121.604962793309 25.0943675598432, 121.605164133445 25.0942103104628, 121.605257371495 25.0941430052187, 121.605435064299 25.0940573439454, 121.605522221606 25.0939863674164, 121.605528302349 25.0939319112584, 121.605519519054 25.0938915280246, 121.605501952465 25.0938780669436, 121.60537966198 25.0938119852521, 121.605334394231 25.0937771087895, 121.6051864295 25.0936308722851, 121.604926308855 25.0934748456965, 121.604881716744 25.093446087833, 121.604842529738 25.0934173299627, 121.604789154332 25.093365932901, 121.604747940412 25.09332371387, 121.604537141343 25.0930765180914, 121.604239860606 25.0926769654429, 121.604131758519 25.0925282801273, 121.603930418383 25.0923281971334, 121.603851368732 25.0922590552276, 121.603761508873 25.0921788995181, 121.603631786369 25.0920461223875, 121.603468957601 25.0919004956914, 121.603383827208 25.0918411435849, 121.603292616073 25.0918233991351, 121.602785211904 25.0917022473057, 121.602416989172 25.0916887859839, 121.602208217018 25.091653908916, 121.602082548342 25.0915804834774, 121.602044712612 25.0915480538947, 121.601971743704 25.0913950840489, 121.601955528391 25.0913130921329, 121.601924449041 25.0911172903201, 121.601890667139 25.0910291794021, 121.60180756366 25.0909257713688, 121.601719055077 25.090871925731, 121.601059632349 25.0906290081844, 121.60083532052 25.0905837287899, 121.600544120524 25.090372628689, 121.600463043959 25.0903126639562, 121.600388723775 25.0902257762301, 121.600198869486 25.0899271756868, 121.599998880626 25.0896426478519, 121.599904966938 25.0895098679692, 121.59986983376 25.0894590811556, 121.599779973901 25.0892339056322, 121.59972862541 25.0891060204358, 121.599596200354 25.0887468397674, 121.599423237015 25.0883240209687, 121.599362429592 25.0881453474627, 121.599406346064 25.0880511154401, 121.600681950685 25.0882499816365, 121.600821807759 25.0882524292185, 121.601048822141 25.0881630924458, 121.601140033276 25.0880731437116, 121.601228541859 25.0879513762722, 121.601243405896 25.087873053433, 121.601450826775 25.0869062517592, 121.601637978512 25.0859877830949, 121.601888640225 25.0847676348487, 121.601957555305 25.0844671852448, 121.601923097765 25.0844420967516, 121.60153865972 25.0843735623051, 121.60134204905 25.084461678015, 121.601123142325 25.0845534651454, 121.600712354396 25.0846782955324, 121.600281972965 25.0847535608512, 121.599901588748 25.0847694705874, 121.599309054186 25.0847976185773, 121.598823270435 25.0847994543156, 121.598511801299 25.0847866041473, 121.597807110822 25.0847462178953, 121.596853109909 25.0846342377633, 121.596386919661 25.0845620319408, 121.596019372567 25.0844886022471, 121.595451160975 25.0843552048575, 121.5952633336 25.084334399747, 121.59505321017 25.0843649954966, 121.594577560989 25.0846018063398, 121.594168124337 25.0847535608512, 121.593741121095 25.0848331095118, 121.593601939659 25.0846421926394, 121.593020890944 25.0841820328001, 121.592219584228 25.0835542055481, 121.590411576832 25.0821174113768, 121.590227233215 25.0820450988947, 121.590033367325 25.0819846902594, 121.589881380436 25.0819434999287, 121.587873099145 25.0814650676771, 121.587827303554 25.0814768664405, 121.587763878033 25.0816388746296, 121.587624696597 25.0817107379669, 121.587526813536 25.0817279484459, 121.587471073397 25.0816424314642, 121.587510767132 25.0814077566497, 121.587533907735 25.0813127545271, 121.588973185671 25.0816592594975, 121.590227845512 25.081961245811, 121.590329191218 25.0819144333918, 121.590700707685 25.0808229034429, 121.590765653392 25.0807669115952, 121.590693360122 25.0806824648255, 121.589883945749 25.0798526804255, 121.589617744361 25.0796030096823, 121.589456942508 25.0792799056118, 121.589392081256 25.079026562051, 121.58942180933 25.0789127408603, 121.589496129514 25.0786349187998, 121.58985962278 25.0774722205172, 121.590146093309 25.0765236953195, 121.590198793076 25.0763303176678, 121.590196090524 25.07609899843, 121.590100149922 25.0757073458144, 121.589982588903 25.0752373610219, 121.589913673823 25.0749179172036, 121.589832597258 25.073957132881, 121.589760979626 25.073205635176, 121.589706928583 25.0724333257264, 121.589660985196 25.0719523127837, 121.589650174987 25.0716463239235, 121.589671795405 25.0715067927495, 121.589881243197 25.0710478075029, 121.590252844119 25.0701922544119, 121.590608229729 25.0693795346388, 121.590758221374 25.0690710913855, 121.59079740838 25.0688373104658, 121.590693360122 25.0679743979723, 121.590567691446 25.0669499109915, 121.590460940636 25.0661445137772, 121.590393376832 25.0657259009756, 121.590337974512 25.065445600961, 121.590117716511 25.0649339599792, 121.590073124401 25.0648372620415, 121.590113662683 25.0646046970689, 121.590358243654 25.0642289201013, 121.590551476133 25.0638984312618, 121.590616337385 25.0636462799181, 121.590771734134 25.0624981279177, 121.590837946662 25.0619938189474, 121.590971722994 25.0615568310979, 121.591047394455 25.0611247379385, 121.591187927167 25.0606546971905, 121.591290624149 25.0604453815896, 121.591358187954 25.0603743855736, 121.59159736382 25.0598835326825, 121.591851403723 25.0594306242807, 121.592302729934 25.0586349703323, 121.592771622734 25.0578221738877, 121.593206733632 25.0570779218128, 121.59356617307 25.0564707654567, 121.593740487684 25.0561231181244, 121.593893181881 25.0558268826476, 121.594386397651 25.0549969298539, 121.594571522474 25.054507279552, 121.594722865395 25.0541926782009, 121.594830967481 25.0538572657543, 121.595070143348 25.052857143631, 121.595391747055 25.0515228186675, 121.59553498232 25.0509082898084, 121.595360667705 25.0508274949484, 121.594402612964 25.0506169383964)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0151000300'=='0100020200' || '0151000300'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
