
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231493021</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454081570">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454081570">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454081570" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454081570" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454081570" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454081570',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="2IbCvQNfXsCdQKgd3nYJYM5hrzI2k33R1kM_UD9RW-EtnGeCZ2sU3Zcl3C-A7Q7Tljo52ZLyJeEVBgjLx0TbmgH7_EM1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">F815嶺頭觀目 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454081570" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454081570" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">雙溪火車站 - 灣潭</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0610 - 0610 <br>
                        [假日] 停駛
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 班表:0610<br>
[假日]<br /> <br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">雙溪區公所雙溪區公所站:(02)2493-1111</span>
                </li>

                    <li>
                        <span class="stationlist-move-route-bus-item">備註 :</span>
                        <span class="stationlist-move-route-bus-content">例假日停駛</span>
                    </li>
            </ul>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">嶺頭觀日</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274100370" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.056164" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.88868" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">三港8鄰</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274100070" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.053842" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.883907" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">慈安宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274100250" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.053334" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.879446" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">水尾</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274100140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.047969" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8691575" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">雙溪火車站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274400620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.038525" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.866128" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">綜合市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274400960" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.035368" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8644612" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">泰和樓</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274400360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.031031" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.85812" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">辭職嶺</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274301920" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.9981" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8458333" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">芊蓁坑路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274302450" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.982419" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.845593" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">泰平里3鄰</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274302550" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.981344" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.840198" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">後寮子路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274302650" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.978867" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.832013" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">虎豹潭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274301340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.972703" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.827578" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">壽山宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274801850" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.968532" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.821303" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">太平8鄰(雜貨店)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274302260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.970034" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.82389" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">料角坑</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274302320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.970401" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.813024" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">保成坑口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274301440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.966016" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.819684" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">聖寶宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274301730" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.940068" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.832817" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">坪溪頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274302750" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.929586" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.83062" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">灣潭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2274302060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.928783" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8114" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454081570";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 19;
        var existBackNum = 0;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454081570',
                        url: './StopStatusRecent3OfRoute?routeid=0454081570&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454081570',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454081570',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454081570');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454081570","Name":"F815嶺頭觀目","BeginStop":"雙溪火車站","GoDirStops":[{"UniStopId":"2274100370","Name":"嶺頭觀日","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.88868,"Latitude":25.056164,"PublicId":"2274100370"},{"UniStopId":"2274100070","Name":"三港8鄰","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.883907,"Latitude":25.053842,"PublicId":"2274100070"},{"UniStopId":"2274100250","Name":"慈安宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.879446,"Latitude":25.053334,"PublicId":"2274100250"},{"UniStopId":"2274100140","Name":"水尾","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8691575,"Latitude":25.047969,"PublicId":"2274100140"},{"UniStopId":"2274400620","Name":"雙溪火車站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.866128,"Latitude":25.038525,"PublicId":"2274400620"},{"UniStopId":"2274400960","Name":"綜合市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8644612,"Latitude":25.035368,"PublicId":"2274400960"},{"UniStopId":"2274400360","Name":"泰和樓","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.85812,"Latitude":25.031031,"PublicId":"2274400360"},{"UniStopId":"2274301920","Name":"辭職嶺","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8458333,"Latitude":24.9981,"PublicId":"2274301920"},{"UniStopId":"2274302450","Name":"芊蓁坑路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.845593,"Latitude":24.982419,"PublicId":"2274302450"},{"UniStopId":"2274302550","Name":"泰平里3鄰","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.840198,"Latitude":24.981344,"PublicId":"2274302550"},{"UniStopId":"2274302650","Name":"後寮子路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.832013,"Latitude":24.978867,"PublicId":"2274302650"},{"UniStopId":"2274301340","Name":"虎豹潭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.827578,"Latitude":24.972703,"PublicId":"2274301340"},{"UniStopId":"2274801850","Name":"壽山宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.821303,"Latitude":24.968532,"PublicId":"2274801850"},{"UniStopId":"2274302260","Name":"太平8鄰(雜貨店)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.82389,"Latitude":24.970034,"PublicId":"2274302260"},{"UniStopId":"2274302320","Name":"料角坑","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.813024,"Latitude":24.970401,"PublicId":"2274302320"},{"UniStopId":"2274301440","Name":"保成坑口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.819684,"Latitude":24.966016,"PublicId":"2274301440"},{"UniStopId":"2274301730","Name":"聖寶宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.832817,"Latitude":24.940068,"PublicId":"2274301730"},{"UniStopId":"2274302750","Name":"坪溪頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.83062,"Latitude":24.929586,"PublicId":"2274302750"},{"UniStopId":"2274302060","Name":"灣潭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8114,"Latitude":24.928783,"PublicId":"2274302060"}],"LastStop":"灣潭","BackDirStops":null,"RouteMapUrl":"../MapOverview?nid=0454081570","RouteTracks":null,"StopDirection":null,"TicketPrice":"","BusTimeDesc":"0610 - 0610","HeadwayDesc":"班表:0610","HolidayBusTimeDesc":"停駛","HolidayHeadwayDesc":"","RouteNote":"例假日停駛","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"雙溪區公所雙溪區公所站:(02)2493-1111","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.88908075436 25.0558788230659, 121.888792019797 25.0560416831061, 121.888318310196 25.056322019211, 121.88806207951 25.0566825856005, 121.8876320083 25.0567795478421, 121.887284124022 25.0567930587742, 121.887186566018 25.0569753133998, 121.887159080308 25.0573747383942, 121.88705147186 25.0575330368292, 121.88670363204 25.0577314194126, 121.886383682406 25.0576201371879, 121.885957904257 25.0576893494467, 121.885608987436 25.0578053659764, 121.885380579987 25.057596796036, 121.885439960983 25.057364682791, 121.885926303847 25.056933429308, 121.886215316805 25.0566158812737, 121.886423007642 25.0557975486753, 121.886514521852 25.0551867606883, 121.886405222256 25.0549678411721, 121.885930675718 25.0546934816814, 121.88531736233 25.054397521823, 121.884741393219 25.0540202172811, 121.884263480866 25.0536458935427, 121.883477833223 25.0540333235236, 121.882809185398 25.054402644785, 121.88236051698 25.0546064351139, 121.881455396609 25.0543965748481, 121.881192693267 25.0541435306287, 121.880814791603 25.0535753332146, 121.880602568536 25.0535148939068, 121.879776704745 25.0536149719445, 121.879565434799 25.0533505882401, 121.879177107774 25.0529532569211, 121.87860442562 25.0526420852276, 121.878116273233 25.0524716266662, 121.877507879297 25.0523713569435, 121.8767683552 25.0522373574724, 121.875349555798 25.0517494151654, 121.874943656467 25.0516039570943, 121.874219278497 25.0517303024374, 121.873168898365 25.0516308842902, 121.872601927433 25.0514728429449, 121.872248684871 25.0512615210508, 121.871221195073 25.0502888914373, 121.870032386645 25.0489198374939, 121.869187513806 25.0479118788775, 121.8688075835 25.0471068702242, 121.868980183717 25.04688190134, 121.869279721055 25.046474310691, 121.869369885676 25.0461793577421, 121.869156488689 25.0459610235725, 121.868705346741 25.0456517255782, 121.868722829165 25.0451554285859, 121.868633130905 25.0448546787136, 121.868548741083 25.0444604628654, 121.868605750116 25.0440728310239, 121.86772192354 25.0427932121007, 121.867414352319 25.0421509664424, 121.867198151712 25.0409619937644, 121.867006856373 25.0403591661775, 121.866440139885 25.0395558235461, 121.866290768 25.039327034982, 121.866028287403 25.0390890351773, 121.86588550254 25.0387696035682, 121.865864258338 25.0386411084806, 121.866193344773 25.0386042020104, 121.866196364471 25.0385809687243, 121.865865996933 25.0386084169429, 121.865862662683 25.0381830099378, 121.865869073841 25.0377723683385, 121.866014509705 25.0365810291067, 121.866036415824 25.0365153020766, 121.865773928269 25.0363313554893, 121.865460707256 25.0361713210984, 121.864570807912 25.0353747484581, 121.864479540078 25.035233651337, 121.865209793811 25.0345246712101, 121.865797126152 25.0338864656107, 121.867306475465 25.0328891843399, 121.868117987471 25.0326232917184, 121.86758337184 25.0316587229483, 121.86769244639 25.0316432537347, 121.86635255454 25.0321899056294, 121.865120854202 25.0327786536392, 121.863923006669 25.0334239619014, 121.863280090438 25.0338829923475, 121.862740303955 25.0339067929526, 121.862395998805 25.0338081118705, 121.862153108249 25.0334731630799, 121.861872383746 25.0333760830912, 121.860806849224 25.0332754204855, 121.860456895699 25.0331403210541, 121.859740184303 25.0330008177278, 121.859492837692 25.0329099731031, 121.858823309012 25.0323530602336, 121.858554445878 25.0318233766147, 121.858549690468 25.0314179972205, 121.858075115287 25.0309038361619, 121.857795175414 25.0302116420771, 121.857532396446 25.0293747215856, 121.857229710771 25.0286672205389, 121.856572139907 25.0281194173072, 121.855974207658 25.0276153859267, 121.855816983145 25.0273078703488, 121.855825668642 25.0265488024324, 121.855881349398 25.0261637041407, 121.856092518387 25.0259242969089, 121.857217950289 25.0256056079143, 121.857575365441 25.0252537640884, 121.857737644048 25.0253697502688, 121.857702037688 25.0255069987237, 121.857325055455 25.025839715953, 121.856865024739 25.0260448418187, 121.8566777503 25.0261750094306, 121.856790942572 25.0262923696264, 121.857309017793 25.0261648085301, 121.857839378711 25.0258677767652, 121.857872215758 25.0260139886427, 121.85766442402 25.0262119577762, 121.857314046463 25.0264221204529, 121.856883139959 25.0266003414299, 121.856636322778 25.026692547521, 121.856670468513 25.0267671253358, 121.857010476367 25.0266953856784, 121.857406497744 25.0266084272036, 121.857867091287 25.0264622423541, 121.858580300142 25.025972731332, 121.858894705951 25.0257404086404, 121.859222671318 25.0253040353011, 121.859430549518 25.0247505946682, 121.85956792143 25.0247894059819, 121.859518317845 25.0251360970544, 121.859481909205 25.0253905655686, 121.859437220293 25.0257029068418, 121.85928886627 25.0260263060794, 121.859355064813 25.0261054532824, 121.859516132021 25.0259297406074, 121.859896977283 25.0248563573443, 121.860075844986 25.0240817732822, 121.860279735518 25.0231989216901, 121.860281212939 25.0226565263645, 121.860005527778 25.0220776531979, 121.859843721872 25.0218651590569, 121.859811810009 25.0215694100418, 121.860042836812 25.0212990689205, 121.86089510665 25.0208252532387, 121.860967159405 25.0206274620663, 121.860896465776 25.0204989650899, 121.860712491392 25.019981437754, 121.860586504979 25.0192479096852, 121.860738117962 25.0192322739031, 121.861025991761 25.0199819860953, 121.861146229842 25.0199855393989, 121.861066249615 25.0196826370782, 121.860803654315 25.018953839119, 121.860687170294 25.0187575272449, 121.860524004539 25.0186245615638, 121.860420222807 25.0183549120644, 121.860102003536 25.018315580608, 121.859674381474 25.0181991327842, 121.859180542517 25.0182794600895, 121.858927660298 25.0181942594756, 121.858592906196 25.0180559398266, 121.858368321392 25.0179709224895, 121.85830812067 25.0178156861227, 121.85835529796 25.0175233688681, 121.858251074171 25.0174529156793, 121.858037895614 25.0176586972193, 121.857835123999 25.0176704703632, 121.85780223637 25.0173018792949, 121.857805103075 25.0170708490766, 121.857476068807 25.0169684819758, 121.85725272856 25.0168643252159, 121.857031263284 25.0166259106802, 121.8568384873 25.0160689646795, 121.856479865871 25.0154615710619, 121.856484222468 25.0146687483455, 121.856430010245 25.0144282870261, 121.856304911181 25.0142944363208, 121.856084141153 25.0142936859629, 121.856043232289 25.0141363468771, 121.85630444217 25.0137943350722, 121.856137963817 25.0132702519292, 121.856123693536 25.0130253051045, 121.855845464726 25.0126694089368, 121.855677082923 25.0122534255172, 121.855517779158 25.0115871076442, 121.855343087532 25.0111755327541, 121.855151941402 25.0109635199868, 121.854991345869 25.0106842481083, 121.854960235319 25.0104192968117, 121.853957306385 25.0095550651076, 121.853702262798 25.0092805787419, 121.853810810436 25.0088540861203, 121.853608401195 25.0083989867066, 121.853548564016 25.0080928066483, 121.853372990612 25.008010866605, 121.853047103683 25.0082449975335, 121.852135393751 25.008506848261, 121.851884791376 25.0083563189646, 121.851726966486 25.0081528666516, 121.851296904317 25.0079148138869, 121.851137661085 25.0079106916234, 121.851127799304 25.0081392060855, 121.851317085631 25.0084584067495, 121.851669530262 25.0088609549328, 121.852072777545 25.0091405873323, 121.852542672323 25.0092034019061, 121.852528916281 25.0093695758247, 121.851773623014 25.0093138206467, 121.851429360678 25.0091013158501, 121.851035225425 25.0089819677732, 121.850601608439 25.0088274010126, 121.84990128356 25.0084286298785, 121.849508298508 25.0082852942909, 121.84905153628 25.0079972634441, 121.848756225951 25.0074611179761, 121.848599100438 25.007083832354, 121.848549778048 25.0066364235433, 121.848175759924 25.0059580652663, 121.847784717264 25.0055804349058, 121.847269998977 25.0050651311517, 121.847412585664 25.004879780686, 121.847627576295 25.0045846795906, 121.847921849127 25.0043664847013, 121.848178226596 25.0039997258354, 121.848461133513 25.0037867489251, 121.848838871714 25.0036690420756, 121.848823128831 25.0034131820389, 121.84855541362 25.0033712928509, 121.848374823357 25.0032508473584, 121.847728488438 25.0025349111601, 121.847384899119 25.0019838967194, 121.847230259554 25.0014830945745, 121.846860951187 25.0012214064486, 121.846716394307 25.0010492784666, 121.846458956634 25.0006947280728, 121.846066362252 25.0004231925497, 121.845818490331 25.0000215452578, 121.845878428535 24.999420034686, 121.845918672613 24.9984780023737, 121.845845260736 24.9979409808852, 121.845984727339 24.9974821316947, 121.846311915242 24.9971068547363, 121.846718753078 24.9970828959481, 121.846896817053 24.9970480599475, 121.847076286089 24.9969122426187, 121.847066428898 24.9967387843433, 121.846966928358 24.9961676393862, 121.847010641762 24.9957972865881, 121.847268489856 24.9954179303383, 121.847561686091 24.9946990323664, 121.847533238447 24.9942730547405, 121.847500654073 24.993994559149, 121.847555097001 24.993766061873, 121.847630036222 24.9935264250967, 121.847546173533 24.9932207432991, 121.84748237907 24.9928902144202, 121.847546173533 24.9924696877851, 121.847828949881 24.991760728171, 121.847736569565 24.9914764202222, 121.847895078722 24.9912047418089, 121.848106102091 24.9910071815864, 121.848065778701 24.9908060422364, 121.848062640658 24.9904371123476, 121.847940110108 24.9903465732407, 121.847673678187 24.9906199900417, 121.84741611862 24.991175986831, 121.847269484179 24.9911677829379, 121.847239687087 24.9906937170368, 121.847220874155 24.9903944069713, 121.846934585259 24.9898861923218, 121.846237779074 24.9893072984371, 121.845410345639 24.9889617409115, 121.845289961694 24.9887602195012, 121.845349448403 24.9881847889919, 121.845381767455 24.987807475963, 121.84526652986 24.9876891133431, 121.844867008388 24.9875071800663, 121.844796079527 24.9872524690922, 121.845288094094 24.9868530666339, 121.845504362874 24.986628577305, 121.845627957875 24.985658539868, 121.845868064701 24.9848243371318, 121.8459957794 24.9845848808107, 121.846557681982 24.9844403659069, 121.846709102336 24.9843281109064, 121.846716936644 24.9837466477795, 121.846576844653 24.9833210594203, 121.846171042697 24.9828985125951, 121.845939490168 24.9823769676167, 121.845714490061 24.982341418801, 121.845249757737 24.9823750294342, 121.845016610911 24.9822311576211, 121.844792484624 24.9819715005221, 121.844686770114 24.9817337292835, 121.844314959866 24.9815498064032, 121.843730421587 24.9815121576988, 121.843379741025 24.9815107055143, 121.842486546194 24.9816003742332, 121.841860703027 24.9816372773698, 121.841546322096 24.9815516548755, 121.841292877466 24.9812893509817, 121.841205264837 24.9811817524337, 121.841004201236 24.9811835379213, 121.840872301463 24.9814793630567, 121.840614017276 24.9814866503891, 121.840461121176 24.9813785217259, 121.839978231389 24.9811470201633, 121.839564553286 24.9808286507319, 121.839086315225 24.9807289777672, 121.83858069807 24.9803204877557, 121.837894991598 24.9797152911119, 121.837695259491 24.9797227119091, 121.837136283844 24.9801776724555, 121.836888248905 24.980516933377, 121.836713659233 24.9807064355799, 121.83633759433 24.9808277405213, 121.835464119592 24.9805685987004, 121.834860488187 24.9803907738915, 121.834772189735 24.9801884061241, 121.834770598216 24.9799885787718, 121.834673705592 24.9797620828157, 121.834453725977 24.9797209770298, 121.833546221316 24.9798339862695, 121.833054434194 24.979613243485, 121.832384849192 24.9791792876326, 121.831373274886 24.9779654898857, 121.831021872996 24.9776161431223, 121.830717805799 24.9774953244656, 121.829903646288 24.9773384508279, 121.829752008884 24.9771115728244, 121.829735670723 24.9767911794394, 121.829792581212 24.9765562302167, 121.829742169274 24.9763527850712, 121.829372945223 24.9762718688855, 121.829153205708 24.9761527935447, 121.828932282528 24.9759229669974, 121.828710629141 24.9755895218753, 121.828340875569 24.9752942673741, 121.827964145757 24.975283858704, 121.827697798714 24.9751879517143, 121.827646905857 24.974952435144, 121.827693962264 24.9746683355641, 121.828018828836 24.9742454906218, 121.827982389228 24.9736297050247, 121.827813166728 24.9729960681189, 121.827628577123 24.9725594331819, 121.827590330369 24.9722460985756, 121.827364957599 24.9721416416855, 121.827078014591 24.9721144273141, 121.826655082403 24.9722914909923, 121.826364474451 24.9722227064597, 121.826108685712 24.9720257929148, 121.826038163983 24.9718402883337, 121.826044891249 24.971697183487, 121.826265700987 24.9714258807602, 121.826250783004 24.9710717842759, 121.826109113975 24.9705872828797, 121.825914216308 24.9703599365035, 121.825475999983 24.9700340874198, 121.825198405459 24.9697727422431, 121.824771533208 24.9695341234763, 121.824553627686 24.9694442796608, 121.824352114092 24.9694788605256, 121.824165624242 24.9695817362602, 121.824036909229 24.9697354293146, 121.824064288914 24.9698532229424, 121.824038223885 24.9699912513367, 121.823959244315 24.9699674198408, 121.823818788863 24.9699600996376, 121.823734163084 24.9699880346362, 121.823551067621 24.9700163935111, 121.823078343141 24.9701620953378, 121.822424743957 24.9701683306658, 121.821796890869 24.9704312987057, 121.821382076182 24.9705342373219, 121.820783373371 24.9710410128941, 121.820307959387 24.9710316062867, 121.820051043865 24.9706663312643, 121.819669520859 24.9704537281623, 121.819031576056 24.9704668789513, 121.818428599906 24.9702000961544, 121.817697470951 24.9706313340394, 121.817789901292 24.9711109388357, 121.817615929386 24.9716413467503, 121.817201565544 24.9718288209162, 121.81746257052 24.9727061122418, 121.817022543456 24.973063518547, 121.816598384831 24.9733388657541, 121.815988422246 24.9732834971892, 121.815394174132 24.9730545988001, 121.814840681908 24.9736078077249, 121.814094726641 24.9741793635873, 121.813382177081 24.974436416808, 121.812680756667 24.9741408582502, 121.812529435206 24.9746699691708, 121.812543786689 24.9747838681208, 121.81210130637 24.9745208785508, 121.811805226071 24.9741481908903, 121.812003077694 24.9736377698867, 121.812215519465 24.9730984141195, 121.812060984607 24.9726623866514, 121.812348315707 24.9722581185627, 121.811862642981 24.9718193134055, 121.811641344476 24.9711857696475, 121.811604710209 24.9705311279625, 121.81215351599 24.9703372985028, 121.812761714179 24.9704552070351, 121.813232721676 24.9701879980583, 121.813621777588 24.9704646787468, 121.813565388775 24.9711440914973, 121.813429827339 24.9717004758564, 121.813579547875 24.9720981715691, 121.813801965663 24.9725122808505, 121.814506555817 24.9724591511973, 121.815340151468 24.9722609471575, 121.816115926545 24.9717236503009, 121.816119569823 24.9709672852279, 121.816063600854 24.9704096461533, 121.816230826335 24.9698007475056, 121.816622312676 24.9695453193474, 121.817081070548 24.9693743148016, 121.817466199699 24.9689652522305, 121.817929559031 24.9694446776464, 121.818533808582 24.9694082274467, 121.818880181527 24.9690990415159, 121.819132231801 24.9686685869471, 121.819003491279 24.9683239585299, 121.819347879569 24.9678171908974, 121.819604357529 24.96746089442, 121.819350126467 24.9667534395526, 121.819804980174 24.9660990648837, 121.819983016024 24.9664958592661, 121.820371527729 24.966489002855, 121.820639685893 24.9669306206956, 121.820572562985 24.9678729947001, 121.820939746029 24.9680493104408, 121.821456731692 24.9684455092826, 121.821348370572 24.9690335566396, 121.822125843212 24.9695704260731, 121.82344219665 24.969800146883, 121.823069541959 24.9698174176708, 121.822507771293 24.9696870987541, 121.821988868424 24.9694614486456, 121.821371695253 24.9689972123216, 121.821393091406 24.9686693567963, 121.821470148745 24.9685056802715, 121.820517279216 24.9678671911545, 121.8205729258 24.9675896249679, 121.820638572502 24.9672496960235, 121.820613066986 24.9668215119705, 121.820522450069 24.966625805751, 121.820068933212 24.9664939031628, 121.819828392306 24.9662351161343, 121.819644539841 24.9658858681, 121.819113171719 24.9658604679403, 121.818912516184 24.9656849877869, 121.818767311033 24.9653198856568, 121.818788567699 24.9649808034362, 121.818902676576 24.9647135446159, 121.81945088443 24.9641705349355, 121.819503264542 24.9639032693129, 121.819538353961 24.9634329129017, 121.819770684837 24.9629074141554, 121.819879224449 24.9621303991106, 121.819862832188 24.9618954628942, 121.820092907672 24.961685105488, 121.820546755253 24.9618369140894, 121.820945491427 24.9615447893894, 121.820896800516 24.9613602383276, 121.820680473965 24.9609904073955, 121.821297145039 24.9595958023877, 121.821642405332 24.9594474047841, 121.82189280671 24.959066432683, 121.822291412042 24.9585294257654, 121.822512226208 24.9584104295344, 121.822834319498 24.9581814184373, 121.822948357694 24.9575009991616, 121.823110000818 24.9572170589579, 121.8233570205 24.9569543214537, 121.823476076528 24.956522873133, 121.823803777924 24.9562820390225, 121.824308313254 24.9562219715588, 121.824537194123 24.9561570667373, 121.824655468062 24.9559090050571, 121.824597401254 24.9557376396755, 121.824365491949 24.9555183688944, 121.824322378899 24.9552233486547, 121.824538298264 24.9551580787717, 121.82496675895 24.9552781997794, 121.825193223635 24.9552267509198, 121.825606759723 24.9546815555467, 121.825844672442 24.954298169141, 121.825749039412 24.9536482185409, 121.82570123477 24.9530896770155, 121.825862519379 24.9525051737785, 121.826132117546 24.9518663351483, 121.826132117546 24.9514801755833, 121.826150880623 24.9510300475522, 121.826618415305 24.9502049433648, 121.827424999447 24.9494465892307, 121.82738553688 24.9492677308347, 121.827059231879 24.9490427279859, 121.827051746283 24.9488610755767, 121.827295640816 24.9485698896513, 121.828097747629 24.9478846844749, 121.828489561952 24.9474341034938, 121.828494995334 24.947190032169, 121.828530448376 24.9468497043095, 121.828705293316 24.9464489062889, 121.82883362314 24.946320877269, 121.829165960079 24.9464011183219, 121.829315877397 24.9462907296032, 121.829441871231 24.9460105816119, 121.829338149436 24.9455871890757, 121.829342943366 24.9450003395726, 121.829384082649 24.9447396393597, 121.829372785557 24.944352484219, 121.829441545991 24.9440799587325, 121.829978789353 24.9432367207673, 121.830074728114 24.9427061171887, 121.830225164429 24.9424738787286, 121.830568484721 24.9419772555974, 121.83074483043 24.9414989462862, 121.83085217721 24.9411973800874, 121.83112437504 24.9409935868619, 121.83138923327 24.940945737538, 121.831612363814 24.9409911840472, 121.831822623052 24.9408171353303, 121.832398968642 24.9403682546757, 121.833070753672 24.9399493635562, 121.833325952694 24.9397333449001, 121.833693359658 24.9398905642053, 121.833900428858 24.9398709261714, 121.834314546748 24.9391811691481, 121.834235945639 24.9389347566716, 121.83383379792 24.9384017312141, 121.833872679593 24.9381638089285, 121.833916895392 24.937983596091, 121.833882581922 24.9376668995395, 121.833990065441 24.9374658151741, 121.833938871154 24.9372051153449, 121.83398390254 24.937039685976, 121.834460484708 24.936850476836, 121.834480075875 24.9366829102211, 121.83438971362 24.9363653201758, 121.834379784361 24.9356241995153, 121.834393765718 24.9354204180937, 121.834602796807 24.9352768926533, 121.834967067117 24.9351012590221, 121.835130106444 24.9347569481981, 121.8348847682 24.9343644959734, 121.834563856843 24.9340023239483, 121.83444711924 24.9338458947589, 121.834417665229 24.9337199005397, 121.833835178109 24.933127932156, 121.833704570344 24.9329573559833, 121.833349384529 24.9327251711051, 121.83297968605 24.932625896702, 121.832723313185 24.9326002087724, 121.832351722166 24.9327031145929, 121.832028313986 24.9325758994009, 121.83189676924 24.9323478716927, 121.831878414169 24.9320205049372, 121.831911564591 24.9317407162315, 121.831781645556 24.931484262178, 121.831699785898 24.9313265607903, 121.831278051151 24.9309826803297, 121.830905832276 24.9306491485742, 121.83073505484 24.9305471440411, 121.830489679795 24.9304981066675, 121.830470699583 24.9303228922411, 121.830530358447 24.9300781349167, 121.830528247928 24.9298458160474, 121.83062879321 24.9297337323057, 121.830777030689 24.9297147735124, 121.830987286007 24.9295386060199, 121.830895716728 24.9294709993156, 121.830561393534 24.9295663908259, 121.830360006669 24.9297132600345, 121.829926461478 24.9298886822167, 121.829776920615 24.9301351808782, 121.829800792885 24.9303798342519, 121.829724412876 24.9304891886698, 121.829311208641 24.9306282493234, 121.829193022241 24.9305918471041, 121.829110609972 24.9304586605814, 121.82905282966 24.9304635575007, 121.82886240107 24.9306520699052, 121.828735552345 24.9306660051377, 121.828629885325 24.9305608750227, 121.828779372598 24.9300944806816, 121.828878706467 24.9298833904359, 121.828729429109 24.9296663257532, 121.828484835224 24.9297437189381, 121.828351049926 24.9297136573985, 121.828198778276 24.9295767354388, 121.828060521651 24.9293646248316, 121.827852554031 24.9292948499764, 121.827654446534 24.9292140861623, 121.827644237413 24.929061802106, 121.827660745985 24.9289078708484, 121.827329595471 24.928645898532, 121.827101446426 24.92843667898, 121.826842101911 24.9283002631053, 121.826719507084 24.928214734046, 121.82653055331 24.9279569596535, 121.826375192436 24.9279525719223, 121.826108685712 24.9278656679383, 121.825893594609 24.9278637129056, 121.825733667018 24.9277204037912, 121.825543548721 24.9277192177572, 121.825329655077 24.9277383697536, 121.825121829974 24.9276476958694, 121.82492220723 24.9275305899393, 121.824713981096 24.9276156656082, 121.824473937356 24.9276116366367, 121.82435231283 24.927741570298, 121.824266591763 24.9280077638667, 121.824133540277 24.9279724583423, 121.824002995241 24.9278058076919, 121.823919606908 24.9277011166894, 121.823772296246 24.927724479392, 121.823665882328 24.9278988783949, 121.823533175563 24.9279648107668, 121.82325380856 24.9279570476107, 121.822971381559 24.9277078098655, 121.822888544277 24.9275277023421, 121.822803926024 24.9274821167379, 121.822649081145 24.9275207402411, 121.822525340764 24.9276813558507, 121.82236686358 24.9276922486661, 121.821896039519 24.9275357914333, 121.821674150819 24.9273532568935, 121.821397902502 24.9271584502037, 121.821191155665 24.9270163561882, 121.821070512602 24.9267906790304, 121.820849306524 24.9268158551528, 121.820638745131 24.9267747759423, 121.820428099852 24.9264219427665, 121.820014077838 24.9259304925618, 121.819984325077 24.9257627579986, 121.820035425748 24.9255571236277, 121.820322700275 24.9253091709015, 121.820233069414 24.9248346160306, 121.820052572303 24.9246564865548, 121.819852891926 24.924725151078, 121.819938219443 24.9249656724388, 121.819843243232 24.9251123138468, 121.819679855259 24.9251776039024, 121.819401701478 24.9251817690122, 121.819229145817 24.9250911831144, 121.819078851477 24.9250018545557, 121.818835310475 24.9250348454259, 121.81860619422 24.9250753250221, 121.818525419407 24.9251668136021, 121.818528406647 24.9252891041588, 121.818655152961 24.9254796976105, 121.818380735707 24.9261295646504, 121.818296243121 24.9263105808222, 121.817954286198 24.9267158542343, 121.817858563064 24.9267388078969, 121.817676880352 24.9265342655787, 121.817590110611 24.9265630049653, 121.817442495104 24.9270273959116, 121.817492554155 24.9272741440084, 121.817366194589 24.927779440746, 121.817306094861 24.9278600014483, 121.8171929902 24.9278272442797, 121.817002787105 24.927582681966, 121.816699537249 24.9274177478232, 121.816612318874 24.9271238845452, 121.81636532898 24.9271411447591, 121.815815639188 24.9271857588111, 121.815591258967 24.927238447981, 121.815424480686 24.9276223724756, 121.815078318023 24.9287830968987, 121.815046934396 24.9291832203717, 121.814803190492 24.9291359540653, 121.813815274638 24.9288369464971, 121.813583173053 24.9288972912359, 121.813420509974 24.929055193063, 121.813282106053 24.9291845434504, 121.813137908383 24.9292236121046, 121.812876556831 24.9291414741738, 121.812631208892 24.9291189179963, 121.812452748818 24.9290680718041, 121.81216165136 24.9288505658266, 121.81182883707 24.9287387149877, 121.811616058857 24.9287368439616, 121.811288636543 24.928819556037)","wkt0":"LINESTRING (121.88878213381 25.0560489987998, 121.888452119254 25.0562436227683, 121.888278650065 25.0564207940441, 121.888136913044 25.0566133025347, 121.887976136722 25.0567460487741, 121.887834399702 25.0567883583325, 121.887411304118 25.0567883583325, 121.887233603973 25.0568835548389, 121.887189178936 25.0570062525582, 121.887176486069 25.0573357382441, 121.887127830077 25.0574520895296, 121.886935321586 25.0576551754098, 121.886795700044 25.0577144087916, 121.886632808244 25.0577271016591, 121.886326063946 25.0576530599319, 121.886154710234 25.0576403670644, 121.885729499172 25.0577863350408, 121.885600455019 25.0577926814746, 121.885424870352 25.0577207552253, 121.885331789324 25.0575774315963, 121.885342366713 25.0574737731783, 121.885473526344 25.0573045349448, 121.886061629206 25.0567571550332, 121.886156825712 25.0566032540146, 121.886478378356 25.0553011773554, 121.886491071223 25.0551975189374, 121.886459339054 25.0550668881759, 121.886376835416 25.0549611142799, 121.885037737893 25.0542719973478, 121.88427828132 25.0536632685766, 121.884132313343 25.0536696150103, 121.883905957206 25.0537923127296, 121.882537242992 25.054553355911, 121.882363773803 25.0546125892927, 121.882099339063 25.0545956654694, 121.88140123135 25.0543931084586, 121.881202376426 25.0542111773576, 121.880893516649 25.053663797446, 121.880798320143 25.0535775917208, 121.88070947007 25.0535247047729, 121.880546578271 25.0535183583391, 121.87992674324 25.0536093238896, 121.879823084822 25.0535543214637, 121.879294215343 25.0529286688692, 121.879124977109 25.0528165485395, 121.878458601565 25.052501871199, 121.87827032403 25.0524637925964, 121.877521444846 25.052370711568, 121.876550440482 25.0522035888124, 121.876410818939 25.0521316625632, 121.875397505016 25.0517053937625, 121.875073836894 25.0516207746457, 121.87485382719 25.0515975043886, 121.874231876682 25.0517307794975, 121.873669159556 25.0516800080274, 121.872655845633 25.0515044233601, 121.872380833503 25.051312443739, 121.87099096451 25.0500907552407, 121.870531905802 25.0495058255961, 121.869224540448 25.047952535934, 121.868852216334 25.047274525261, 121.868835292511 25.0470910075515, 121.868886063981 25.0469513860088, 121.869165307066 25.0466573345781, 121.869275311918 25.0464838653887, 121.869332429822 25.0462263059521, 121.869288004785 25.0461401002269, 121.868759135306 25.045744505856, 121.868702017402 25.0456260390925, 121.868752788872 25.0452098188119, 121.868706248358 25.0450236567551, 121.86855181847 25.0447089794146, 121.868498931522 25.0445254617051, 121.868560280381 25.0442255927101, 121.868568742293 25.044096548557, 121.868513739867 25.0439823127494, 121.868340270678 25.0437057140115, 121.867724666603 25.0427754325966, 121.867487733076 25.0423169027576, 121.867371381791 25.0418250541414, 121.867180988778 25.0409376111544, 121.86702655889 25.0404579265362, 121.866324220221 25.0394139381832, 121.866028053312 25.0390759905856, 121.865924324066 25.0388465333399, 121.86586493576 25.0386267966071, 121.8663964611 25.0385481071014, 121.866451395283 25.0388405945093, 121.866354889285 25.0389415546298, 121.866062401878 25.0390603312421, 121.865961441757 25.0388688039547, 121.865885647938 25.0386331515744, 121.865822234789 25.038323219807, 121.865857112021 25.0380699635417, 121.865903879219 25.0374596119792, 121.866014509705 25.0365810291067, 121.865960951053 25.0364814641505, 121.865451069699 25.0361897636635, 121.865039875059 25.0358231563938, 121.864439035469 25.0352698766657, 121.863982064461 25.0350693325809, 121.863351103625 25.0348537278731, 121.863379639542 25.0346793417123, 121.863412931446 25.034583429324, 121.863751795463 25.0339207619132, 121.863527075114 25.0338819213593, 121.863095469367 25.0339001526397, 121.862581822857 25.0339112499408, 121.86242447898 25.0338589340926, 121.862315091298 25.0337574730537, 121.862205703615 25.0336496706998, 121.862097504929 25.0334792478609, 121.861905680152 25.0334158347115, 121.860873234814 25.0333096176864, 121.860651288791 25.0332541311807, 121.860454708028 25.0331637674429, 121.859648172035 25.0330004785833, 121.859492837692 25.0329099731031, 121.85884678836 25.0324329308966, 121.858662890227 25.0321729369842, 121.858527740953 25.0318336766352, 121.858507131679 25.0316989236929, 121.85853091161 25.0315435614769, 121.85851822898 25.0313771019599, 121.858096135205 25.030953819188, 121.857795175414 25.0302116420771, 121.857532396446 25.0293747215856, 121.857374414299 25.0289444150179, 121.857154053605 25.0286638118321, 121.856782690349 25.0283467460853, 121.856113285291 25.027827550925, 121.855929387158 25.0276341408195, 121.855819999475 25.0274597546588, 121.855737562381 25.0271973827533, 121.855793048887 25.0261883210143, 121.855846950064 25.0260274101478, 121.855949996431 25.0259100958215, 121.85608950536 25.0258482680009, 121.857017715334 25.0256017493828, 121.857136614989 25.025528824261, 121.857233320041 25.0254162659209, 121.857399779558 25.0252767569924, 121.857517093885 25.0252418797602, 121.857605872294 25.02526724502, 121.857681968073 25.0253259021831, 121.857659773471 25.0254321192083, 121.857534532501 25.0255906520816, 121.857309415821 25.0258141834331, 121.856865024739 25.0260448418187, 121.85672125886 25.0260900306328, 121.85667211367 25.0261891136786, 121.856779916024 25.0262382588694, 121.857304659834 25.0261003352695, 121.857499655269 25.0259465583824, 121.857702577347 25.0258387560285, 121.857792941084 25.0258466826721, 121.857864743971 25.0259042393261, 121.857853183576 25.025978264957, 121.857656602813 25.0261891136786, 121.857288806547 25.0264356322967, 121.856943204883 25.026552946623, 121.856700649587 25.0265909945126, 121.856636322778 25.026692547521, 121.856836987858 25.0266908702229, 121.857057348552 25.0266147744436, 121.857734283921 25.0265196547196, 121.857878548836 25.0264720948576, 121.858312136245 25.0261344198373, 121.858741760332 25.0258696699388, 121.858885232582 25.0257277830171, 121.859348148572 25.0250936515236, 121.859344977915 25.0248051216941, 121.859454365597 25.0246957340114, 121.859546314664 25.0247147579562, 121.859593874526 25.0250064584432, 121.859495584144 25.025582725438, 121.859318027326 25.0259164371364, 121.85928886627 25.0260263060794, 121.859355064813 25.0261054532824, 121.859517778747 25.0259029618422, 121.859896977283 25.0248563573443, 121.860075844986 25.0240817732822, 121.860279735518 25.0231989216901, 121.860315991764 25.0227529136482, 121.860239895985 25.0224334699083, 121.859808290237 25.0217597051965, 121.859859020757 25.0214450174428, 121.860057186848 25.0212238640845, 121.860545864431 25.0209646628365, 121.860832808931 25.0208536898251, 121.860940611285 25.0207252781977, 121.86095963523 25.0205825986117, 121.860660008099 25.0197986535528, 121.860652081456 25.0195537202634, 121.860577571005 25.0193714074591, 121.860586504979 25.0192479096852, 121.860653666785 25.0191922653121, 121.86070915329 25.0191795826823, 121.860810614329 25.0192239718868, 121.860999664781 25.0196076214404, 121.861026615369 25.0198224334838, 121.861094784505 25.0199651130699, 121.861189904229 25.019946089125, 121.861112223121 25.0196860952127, 121.860983811493 25.0192501298109, 121.860831223603 25.0188308103608, 121.860685373359 25.0187119107058, 121.860544279102 25.018591425722, 121.860477695295 25.0183464924327, 121.860344527681 25.0182830792833, 121.860176482836 25.0183084445431, 121.860017949962 25.0182989325707, 121.859752803732 25.0181816182444, 121.859562564283 25.0181800329156, 121.859248272862 25.0182751526397, 121.859116690577 25.0182656406673, 121.858832124069 25.0181071077939, 121.858721745556 25.0180496396273, 121.858530713444 25.0180337863399, 121.858390213685 25.0179961347825, 121.85831491057 25.0179033930516, 121.858306983926 25.0177630914587, 121.85835529796 25.0175233688681, 121.85833314185 25.0174626716636, 121.858259424064 25.0174420623901, 121.858196010915 25.0174785249509, 121.858071562609 25.0176544964404, 121.857972479564 25.0177099829461, 121.857885880981 25.0177060196242, 121.85780582188 25.0176192228761, 121.857774115306 25.0172843221811, 121.857775700634 25.0171230149824, 121.857740823402 25.0170564311756, 121.857486972639 25.0170286879227, 121.857336168243 25.0169482324895, 121.85725272856 25.0168643252159, 121.857114024054 25.0167615600311, 121.857031263284 25.0166259106802, 121.85680647028 25.0160941366342, 121.856479865871 25.0154615710619, 121.856437485017 25.0149277310183, 121.856425595052 25.0145884706693, 121.856393095813 25.0144703636786, 121.85628925678 25.0143685063075, 121.856084141153 25.0142936859629, 121.856038576674 25.0142151257525, 121.856064734599 25.0140764094883, 121.856204243527 25.0139313519091, 121.856274790656 25.0137696483783, 121.856258937368 25.013637273429, 121.856147964357 25.013397492458, 121.856132905346 25.0130379831984, 121.855908877875 25.0127708699758, 121.855578435009 25.012135570786, 121.855348364177 25.0112608656571, 121.855016237807 25.0108387718817, 121.854965507288 25.0104796949235, 121.854505365623 25.0100342175493, 121.854215250464 25.0097995888967, 121.853820107278 25.0095086810741, 121.853690110321 25.0093620381662, 121.853693280979 25.0092066759503, 121.853777303402 25.0090100951873, 121.853767791429 25.0087810151853, 121.853534748106 25.0084726687466, 121.853509382846 25.0082126748342, 121.853458652326 25.008136579055, 121.853377800561 25.0080985311654, 121.853247803605 25.0081397497125, 121.852894275297 25.008363281064, 121.852191182004 25.0085360818959, 121.852024722487 25.0085519351833, 121.851897896188 25.0084980340063, 121.851738966982 25.0082570640388, 121.851279023483 25.0079681378771, 121.851138721891 25.0079451506104, 121.851093540022 25.008030758362, 121.851111771302 25.008203559194, 121.851279816148 25.0084532484696, 121.851669530262 25.0088609549328, 121.852030072971 25.0091777437009, 121.85238201595 25.0091840850159, 121.852488232975 25.009218962248, 121.852553231453 25.009296643356, 121.852528916281 25.0093695758247, 121.852459697058 25.009415543011, 121.852258360309 25.0094313962983, 121.851740552311 25.009361641834, 121.851372359713 25.009132561832, 121.850701369326 25.0089320177472, 121.849863919422 25.0084857477086, 121.849091467997 25.0081211220999, 121.848786292216 25.0076257068706, 121.848586540795 25.0071580348941, 121.848502518372 25.006619815789, 121.848291669651 25.0063249446445, 121.848202891242 25.0060911086563, 121.848023749095 25.005872333291, 121.847244956354 25.0051684473332, 121.847235444382 25.0050749129379, 121.847281418915 25.0049829638714, 121.847462146391 25.0048014437313, 121.847668239126 25.0045129139018, 121.847853722588 25.0044288914789, 121.847953598298 25.0043226744537, 121.848178226596 25.0039997258354, 121.848461133513 25.0037867489251, 121.84873080571 25.0037091522338, 121.848844949379 25.0036235444822, 121.848811657475 25.0035014741697, 121.84871812308 25.0034412316778, 121.848477153113 25.0034111104318, 121.84834240017 25.0033009300848, 121.84770153103 25.0025304603202, 121.847358703691 25.0020501057139, 121.847292119884 25.0019018774773, 121.847255657323 25.0015903603811, 121.847132001682 25.0013699996871, 121.846910055659 25.0012431733884, 121.846752711782 25.0010775065357, 121.846551771365 25.0007564774671, 121.84635479427 25.0005955666007, 121.846066362252 25.0004231925497, 121.845918828868 25.0001984417529, 121.845837580771 24.9999400331692, 121.845872458003 24.9989079841636, 121.845942212467 24.9975810640134, 121.845992942987 24.9974336284412, 121.846162969493 24.9972806442183, 121.846340526312 24.9970713808255, 121.846967127494 24.9969944923819, 121.847049564588 24.9969136406165, 121.847066428898 24.9967387843433, 121.846976639466 24.9959886013003, 121.847003590055 24.9957452533397, 121.847430043484 24.9950033194923, 121.847561686091 24.9946990323664, 121.8475509248 24.9941932165093, 121.847541412827 24.9940109037049, 121.847630191237 24.9934861598941, 121.847510895249 24.9931072663267, 121.84748552999 24.9928092245248, 121.847566381755 24.9923653324793, 121.847777626809 24.9919840609188, 121.847804577397 24.9917668708823, 121.847758602864 24.9914585244436, 121.847793480096 24.9912825529541, 121.847871161204 24.991169994614, 121.848072497953 24.9910098764119, 121.848083595254 24.990902074058, 121.848005914146 24.9906515921181, 121.848028108749 24.9904621453344, 121.847966280928 24.9904066588287, 121.847864819889 24.9904367800747, 121.847653068913 24.9906469406302, 121.847453823415 24.991146214683, 121.847395509346 24.9912029374195, 121.847317485144 24.9911890185588, 121.847254071995 24.9910764602187, 121.847239687087 24.9906937170368, 121.847220874155 24.9903944069713, 121.847127642028 24.990145872252, 121.846934585259 24.9898861923218, 121.846684938979 24.9896829562618, 121.846378574201 24.9893777804805, 121.846172481466 24.9892636368117, 121.845384176753 24.9889560830373, 121.845325123258 24.9888799872581, 121.845283904711 24.9887547462881, 121.845268051423 24.9884662164586, 121.845352073846 24.9881554920268, 121.845366341805 24.9878558648961, 121.845314025957 24.987695746694, 121.844978695438 24.987596893164, 121.844867008388 24.9875071800663, 121.844790867474 24.9873826442691, 121.844824159378 24.9871876488348, 121.845288094094 24.9868530666339, 121.845456793448 24.9866837118623, 121.845508975236 24.9865497315941, 121.84560136679 24.9857870108985, 121.84582648347 24.9849404453547, 121.846011966932 24.9845203332402, 121.846557681982 24.9844403659069, 121.846662348045 24.9843855802979, 121.846757467769 24.984271436629, 121.846760638426 24.9839179083214, 121.846660762716 24.9833884085243, 121.846250162574 24.9829191512191, 121.846113824303 24.9827368384147, 121.846036143195 24.9824649545369, 121.84586651302 24.9823270309371, 121.845591854817 24.9822794710751, 121.845303658914 24.9823084456274, 121.84509683592 24.9822667884452, 121.844874493565 24.9820614883742, 121.844686770114 24.9817337292835, 121.84461767031 24.9816302789586, 121.844303775221 24.9814875993725, 121.843674003381 24.981466990099, 121.842522262056 24.9815589391656, 121.841673714852 24.9815985723839, 121.841546322096 24.9815516548755, 121.841292877466 24.9812893509817, 121.841189793256 24.9812165081591, 121.841064552286 24.9812133375016, 121.840864800865 24.9815034526599, 121.840755413183 24.981544671207, 121.840614017276 24.9814866503891, 121.840448652073 24.9813409564647, 121.840117318367 24.9812109595085, 121.839650835387 24.9808011520308, 121.839069019742 24.9806132905758, 121.838777319255 24.9803485406773, 121.838052427692 24.9797548350665, 121.837894991598 24.9797152911119, 121.837695259491 24.9797227119091, 121.837473386372 24.9799751957605, 121.837136283844 24.9801776724555, 121.836957758201 24.9804848789484, 121.836705690932 24.9807409095389, 121.836543591069 24.9807979813733, 121.836347010306 24.9807916400584, 121.835415629675 24.9805276828242, 121.834840948009 24.980356467321, 121.834772189735 24.9801884061241, 121.834770598216 24.9799885787718, 121.834712536382 24.9797770296688, 121.834495346345 24.979710445862, 121.834190566896 24.979734225793, 121.833713779279 24.9798333088388, 121.8333390472 24.9797572130596, 121.832561839788 24.9792205792832, 121.832390624285 24.9790675950604, 121.832114380753 24.978876562948, 121.831378391888 24.9779348776802, 121.831181414793 24.9777168949793, 121.830991175345 24.9775789713794, 121.830689566554 24.977441840444, 121.830007478866 24.9772999535223, 121.829844586339 24.9772143457707, 121.829752008884 24.9771115728244, 121.829720930697 24.9770193503364, 121.82973044267 24.9767530151091, 121.829790685162 24.9764628999508, 121.829742169274 24.9763527850712, 121.829611543015 24.9762734531672, 121.82945102848 24.976262355866, 121.829051525639 24.9760610191168, 121.828932282528 24.9759229669974, 121.828795891381 24.975678954892, 121.828421357468 24.9753151219476, 121.828285019197 24.9752390261684, 121.827831218847 24.9752049416006, 121.82767744196 24.9751336018076, 121.827615614139 24.9750400674123, 121.827623540783 24.9748593399366, 121.827782073656 24.9744463618015, 121.827943777187 24.9743076455373, 121.828000849021 24.9741657586156, 121.827982389228 24.9736297050247, 121.827866096079 24.9731265756306, 121.827609553178 24.9726085783726, 121.827612443481 24.9724916514728, 121.82758866355 24.9723465938936, 121.827521287079 24.9722158042731, 121.827369888185 24.9721682444111, 121.827134268702 24.9721381231651, 121.826790846865 24.9722744614362, 121.82662835067 24.9723061680109, 121.82648943624 24.9722871440661, 121.826340415339 24.9722427548616, 121.826179306306 24.9721107762445, 121.826038163983 24.9718402883337, 121.826046931357 24.9716744145105, 121.826265700987 24.9714258807602, 121.826279974681 24.9713018622581, 121.826250783004 24.9710717842759, 121.826101625198 24.9705333741544, 121.825914216308 24.9703599365035, 121.825490877303 24.9700042706895, 121.824514711136 24.9694731855637, 121.824314959715 24.9694605029338, 121.824175007956 24.9695715405046, 121.824050767724 24.9697236992086, 121.823875427324 24.9698580241138, 121.823747015696 24.9699000353252, 121.823661407945 24.9698944866747, 121.823325120087 24.9698160129023, 121.823088906106 24.9698469268126, 121.822934138388 24.9698318661897, 121.822049128622 24.9695449216889, 121.821811725644 24.9694014494385, 121.821308780104 24.9689821299884, 121.821307194775 24.9688489623747, 121.821427679759 24.9685501279084, 121.821310900529 24.9684535740369, 121.821340594682 24.9684283340068, 121.821494263566 24.9685532985659, 121.821356736298 24.9688465843816, 121.821347224325 24.9689868859746, 121.821840261562 24.9693887668086, 121.822082816858 24.9695282757372, 121.822958314651 24.9697922329713, 121.82309782358 24.9698080862587, 121.823328092578 24.9697779650127, 121.82366418227 24.9698588167781, 121.823752960679 24.9698683287506, 121.823970547048 24.9697415024518, 121.824014242671 24.9698639690965, 121.824020980318 24.9699765274366, 121.823889001701 24.9699606741493, 121.82346770059 24.9700347882676, 121.82311020896 24.9701568585801, 121.822968123873 24.9701750898605, 121.822523240997 24.9701683522134, 121.82239225321 24.9701905468157, 121.822239070821 24.9702820995501, 121.821955296978 24.9704295351223, 121.821767237357 24.9705155392061, 121.821641996387 24.9705147465417, 121.821477716697 24.9704671866797, 121.821341378426 24.9704941372682, 121.821134493026 24.9707949533954, 121.820897882712 24.9709622055769, 121.820748069147 24.9710089727745, 121.820537022259 24.9710256187262, 121.82020231973 24.9710129360963, 121.820185673779 24.9708215076517, 121.820085798069 24.9707283695886, 121.819832739969 24.9705662697256, 121.81905949588 24.9704988932544, 121.818954864183 24.9704782839809, 121.818831604874 24.9703494760213, 121.818395639472 24.9702234423869, 121.818260093866 24.9702599049478, 121.818129898743 24.9703922798971, 121.817959277738 24.9704925519395, 121.817802102647 24.9706638332784, 121.817765867633 24.9708143736724, 121.817751599674 24.9710981475158, 121.817797574207 24.9713260385213, 121.817755562996 24.9715991113956, 121.817674513065 24.9716526162404, 121.817350115172 24.9716946274519, 121.817270848736 24.9717592295978, 121.817183655655 24.9719673039941, 121.81738419974 24.9723093386684, 121.817384992404 24.9725998501588, 121.817367553788 24.9727377737587, 121.817207435586 24.9729506041412, 121.817098047904 24.9730627661491, 121.81696943811 24.9731487702329, 121.816727477312 24.9732264513409, 121.816171621425 24.9732629139017, 121.81572515322 24.9730920947307, 121.815571970831 24.9730825827583, 121.815455449169 24.9730920947307, 121.815285620829 24.9731967264271, 121.814802690063 24.9736247651852, 121.814231575387 24.9741316740478, 121.814140418985 24.9742299644293, 121.813894494865 24.9742969445683, 121.81368840213 24.9744206002096, 121.813432173373 24.9744649894141, 121.81315751517 24.9744110882372, 121.812589967483 24.974242250727, 121.812603244611 24.9746255039484, 121.812553901254 24.9746893134299, 121.812503963399 24.9747051667173, 121.812263786096 24.9746861427725, 121.812099506406 24.9745957790347, 121.811983777409 24.9744911473382, 121.81177887367 24.9741764595846, 121.811934235886 24.9739481722469, 121.812019249139 24.973682629684, 121.812136563465 24.9734563240073, 121.812182736165 24.9732216953547, 121.811982984744 24.9727274691219, 121.812004386682 24.9726371053841, 121.812086031112 24.9725768628922, 121.812257246615 24.9724999744486, 121.812321452429 24.9723687884959, 121.812289745854 24.9722990340316, 121.811985164571 24.972118306556, 121.811846448307 24.9718242280758, 121.811711893531 24.9713430808051, 121.811480435536 24.9708191296586, 121.811470130899 24.9706463288267, 121.811622322457 24.9705008749153, 121.811996460038 24.9702745692386, 121.812206714262 24.9703046904845, 121.812416968485 24.9704973079257, 121.812765938973 24.9704703573372, 121.813015282099 24.9704438246474, 121.813263970631 24.9704490211242, 121.813212005863 24.97031242802, 121.81305288817 24.9702486007123, 121.813085805713 24.9701825161003, 121.813309579267 24.9701754735973, 121.813412554184 24.9702859104649, 121.813446879157 24.9704724592277, 121.813769055729 24.9706213598991, 121.813774208047 24.9708504399011, 121.813617260503 24.9710577216331, 121.813452386314 24.971193663572, 121.813391351158 24.9714798154084, 121.813416716418 24.9716189280048, 121.813493604861 24.9717925215012, 121.813517384792 24.9720180345135, 121.813715550884 24.9723311369385, 121.813813841266 24.9723723554855, 121.81397078881 24.9724104033752, 121.814113468396 24.9723961354165, 121.814251391996 24.9723010156925, 121.814486416981 24.9722455291868, 121.814809824043 24.9722217492558, 121.814939820999 24.9721805307088, 121.815036526051 24.9721916280099, 121.815195058925 24.9722708944466, 121.815325452213 24.972256626488, 121.815483985087 24.9721361415042, 121.815682151178 24.9720743136836, 121.815686907164 24.9719007201872, 121.815747942321 24.9718729769344, 121.815923121146 24.9719284634401, 121.816005756406 24.9719145918137, 121.816192825197 24.9717505102897, 121.816204715162 24.9715626488348, 121.816045389624 24.9709701322205, 121.816104839452 24.9706598041209, 121.816056486926 24.9703910909005, 121.816079474192 24.9702044184421, 121.816193617861 24.9698944866747, 121.816342638762 24.9696543093715, 121.816586184889 24.969417699058, 121.816756013229 24.969355078573, 121.816903448802 24.9693534932443, 121.81703740908 24.9692694708214, 121.817146202264 24.9692508432087, 121.817212786071 24.9692127953191, 121.817202481434 24.9690229522033, 121.817236566002 24.9689508197459, 121.817355465657 24.9689088085344, 121.817458512024 24.968923076493, 121.817575231852 24.9689722216838, 121.817863167184 24.9692468798869, 121.817983057669 24.9693285243167, 121.818377210026 24.9693974861166, 121.818499280338 24.9693792548362, 121.818889469373 24.9689555757321, 121.819093580447 24.9686666495703, 121.819102299755 24.9685560728912, 121.819037301277 24.9684462888763, 121.819022240654 24.9683210479064, 121.819153822939 24.9680737366239, 121.819380524948 24.967730512953, 121.819496452112 24.9676246922601, 121.819582059863 24.9675715837475, 121.819605839794 24.96751213392, 121.819590779171 24.9674376234695, 121.819530536679 24.9672049764778, 121.819349809204 24.9667888276852, 121.819359321176 24.9666841959888, 121.819424319654 24.9665391384096, 121.819564621247 24.9664194460902, 121.819710471491 24.9661027766756, 121.819690853048 24.965993388993, 121.819620305919 24.9659109518989, 121.819185925846 24.965898269269, 121.818976662453 24.9658221734898, 121.818838342521 24.965662847952, 121.818735296153 24.96543376795, 121.818708345565 24.9652149925847, 121.818713101551 24.965044966078, 121.818762246742 24.9648792992254, 121.818893036362 24.9647080837221, 121.819364275328 24.9642645880088, 121.819447505087 24.9641052624711, 121.819463358374 24.9635789333315, 121.819538353961 24.9634329129017, 121.819640915193 24.9631750708366, 121.819820057339 24.9624339296535, 121.819835910627 24.9620970472976, 121.819862832188 24.9618954628942, 121.820095904539 24.9617252877095, 121.820221145509 24.9617173610659, 121.820527510287 24.9618267487485, 121.820587752779 24.9617902861876, 121.820870980977 24.9615796666215, 121.820866770636 24.9614248679145, 121.820663848558 24.9610737175999, 121.820652751257 24.9609405499863, 121.821220695276 24.9596730796637, 121.821299961712 24.9595890572408, 121.821617027459 24.9594574749559, 121.821861564416 24.9590405334989, 121.822291412042 24.9585294257654, 121.822512226208 24.9584104295344, 121.822760842141 24.9582359791665, 121.822822669961 24.9581218354977, 121.822930472315 24.9574932526547, 121.822976446848 24.9573656336917, 121.823110000818 24.9572170589579, 121.823282811626 24.95704222663, 121.82336524872 24.9568725964555, 121.823431832527 24.9565507747225, 121.823558658826 24.9563882785273, 121.823750483603 24.9562979147895, 121.823945875369 24.9562329163114, 121.824462692536 24.9561409672448, 121.824567324233 24.9560965780403, 121.824612109769 24.9559118872428, 121.824545525963 24.9557834756154, 121.824289891704 24.9555020797651, 121.824270867759 24.9553942774112, 121.824283550389 24.9552864750573, 121.824369158141 24.9551818433609, 121.824519764371 24.9551382468207, 121.824635493368 24.9551445881356, 121.824926004859 24.9552412931884, 121.825054416486 24.9552428785171, 121.825172523477 24.9551747093816, 121.825656048741 24.9545865524214, 121.825724217876 24.9544288122124, 121.825781289711 24.9542560113804, 121.825643366111 24.9533103627907, 121.825667146042 24.9530210402968, 121.825767021752 24.9527222058305, 121.825862519379 24.9525051737785, 121.826092014142 24.9519874059623, 121.826074575526 24.9514888200756, 121.826058722239 24.9513176045723, 121.826093599471 24.9510932805565, 121.826177621894 24.9508919438073, 121.826458621412 24.9504004918998, 121.826704743698 24.9500818408244, 121.827313509932 24.9495222197813, 121.827375337752 24.9494239293998, 121.827356313808 24.9493264316827, 121.827029736088 24.9490489991543, 121.826994858856 24.9489697327176, 121.827045589376 24.9488175411592, 121.827267931731 24.9485662665549, 121.82768170253 24.9482563347874, 121.828086357689 24.9478742705626, 121.828422447381 24.9474969623239, 121.828465251257 24.9473526974092, 121.828439885997 24.9470839841888, 121.828460495271 24.946939719274, 121.828668173335 24.9464522306884, 121.828751006761 24.9463404650127, 121.82883362314 24.946320877269, 121.828963440811 24.9463055877805, 121.829165960079 24.9464011183219, 121.829278921229 24.9463357090265, 121.829404558532 24.9461264456336, 121.829441871231 24.9460105816119, 121.829338149436 24.9455871890757, 121.829368095971 24.9449200104672, 121.829372785557 24.944352484219, 121.829441545991 24.9440799587325, 121.829991526495 24.9432355986876, 121.830016891755 24.9428337178536, 121.830074728114 24.9427061171887, 121.830225164429 24.9424738787286, 121.830568484721 24.9419772555974, 121.83074483043 24.9414989462862, 121.83085217721 24.9411973800874, 121.83112437504 24.9409935868619, 121.83138923327 24.940945737538, 121.831560209277 24.9409677859339, 121.831683864919 24.940937664688, 121.831836056477 24.9407696198422, 121.832460279666 24.9403035331945, 121.832937463615 24.9400689045419, 121.833184774897 24.9398976890386, 121.83330684521 24.9397597654388, 121.83340672092 24.9397264735354, 121.833498669987 24.939740741494, 121.833726957324 24.9398786650938, 121.833858539609 24.9398865917375, 121.833977439264 24.9398136666157, 121.834272706741 24.9392595942233, 121.834286182035 24.9391145366442, 121.834235945639 24.9389347566716, 121.833856359782 24.9385263796839, 121.833810385249 24.9384193699944, 121.833813555906 24.9383167199589, 121.833872679593 24.9381638089285, 121.833918187603 24.9380452324132, 121.833875383727 24.9378129817537, 121.833902334315 24.9376124376689, 121.834005380683 24.9374816480484, 121.834019648642 24.9373801870094, 121.833954650164 24.9371772649315, 121.833992698053 24.9370631212627, 121.834358908991 24.9368491018836, 121.834471467331 24.9367848960699, 121.834479393974 24.9366961176608, 121.834381103593 24.9364147218105, 121.834357323662 24.9357663223584, 121.834403298195 24.9353707828394, 121.834515856535 24.9352455418694, 121.834905494747 24.9351459099284, 121.834967067117 24.9351012590221, 121.835071117924 24.9348270150837, 121.835044167336 24.9346890914838, 121.8348847682 24.9343644959734, 121.834543203456 24.9339479503008, 121.834368420963 24.9336142386023, 121.834101689404 24.9333804026141, 121.833846451477 24.9330887021271, 121.833625694451 24.932874682748, 121.833437040332 24.9327755997022, 121.832915467179 24.9326638340264, 121.832656860429 24.9326138961713, 121.832395083022 24.9326646266908, 121.832188990286 24.9326487734035, 121.83198190672 24.9325580133335, 121.831870141045 24.9324002731245, 121.831908981599 24.9319163515285, 121.831911564591 24.9317407162315, 121.831651762012 24.9312592327683, 121.831276039102 24.930932258717, 121.830873167437 24.930562877122, 121.830741386986 24.9305355302014, 121.830606634044 24.930519676914, 121.830474259095 24.9303999845946, 121.830489319718 24.9301146254225, 121.830486761907 24.9298708531848, 121.830520233628 24.9297912183609, 121.83062879321 24.9297337323057, 121.830737423665 24.9297143299173, 121.830904874012 24.9295700650025, 121.830928653943 24.9295169564899, 121.830776462385 24.9295114078394, 121.830561393534 24.9295663908259, 121.830347432796 24.9296790563529, 121.830260239716 24.9297060069414, 121.830026205561 24.9298245102643, 121.82977730895 24.9300290176709, 121.829765418985 24.9301491063225, 121.829834380785 24.9303357787809, 121.829797125559 24.9304923299934, 121.829709352253 24.9305113832721, 121.829513748048 24.9305771450806, 121.829398019051 24.9306286682645, 121.829283875382 24.9306310462576, 121.829165768391 24.9305501944921, 121.829150707768 24.9305089759451, 121.829075404653 24.9304986713083, 121.828922222264 24.9306671124862, 121.828798566623 24.9307305256356, 121.828654301708 24.9306758317943, 121.828730397488 24.9302014221707, 121.828836614513 24.9299640191928, 121.828844541156 24.9298839600918, 121.828777759183 24.9297171042425, 121.828699285411 24.9296790563529, 121.828500921153 24.9297480181528, 121.828402630772 24.929767834762, 121.828343973609 24.9297369208517, 121.828198778276 24.9295767354388, 121.828012441737 24.9293176014016, 121.827691412669 24.9292403166259, 121.827617694883 24.9291689768328, 121.827616109554 24.9290960517111, 121.827660745985 24.9289078708484, 121.827381282735 24.928624812745, 121.827101446426 24.92843667898, 121.826806204737 24.9282593944718, 121.826717426328 24.928175372049, 121.826609623974 24.9279922665802, 121.826513315253 24.9279268717699, 121.826170091582 24.9277944968207, 121.825844108362 24.9277774545368, 121.825687160817 24.9276522135668, 121.825599769571 24.9276216959887, 121.825402792475 24.927648250245, 121.825286072647 24.9276490429093, 121.825135070085 24.9276018793795, 121.824952757281 24.9274980403474, 121.824715552469 24.9275931600715, 121.824655309977 24.9276058427013, 121.824490237623 24.9275725507979, 121.8244062152 24.9276058427013, 121.82431188814 24.927888031216, 121.824277803573 24.9279879069262, 121.824204085787 24.9279910775836, 121.824133540277 24.9279724583423, 121.823905053154 24.9277199863702, 121.823832128032 24.9277057184116, 121.823772296246 24.927724479392, 121.823665882328 24.9278988783949, 121.823597301214 24.9279562003515, 121.823531510071 24.9279942482411, 121.823337109135 24.9279839436043, 121.823190268061 24.9279130001435, 121.822957224737 24.9277465406265, 121.822811176328 24.9274821870601, 121.822725568576 24.9274806017314, 121.822649081145 24.9275207402411, 121.822489156429 24.9277132487231, 121.822389280719 24.9277354433253, 121.822311599611 24.9277354433253, 121.822225199195 24.9277092854012, 121.82214632909 24.9276633108679, 121.82174524092 24.9273573424223, 121.821204445656 24.9270533556376, 121.821141627005 24.9269804305159, 121.821070512602 24.9267906790304, 121.820972591329 24.9267576918288, 121.820662659561 24.9267679964655, 121.820581807796 24.926747387192, 121.820419707933 24.9264426077429, 121.819949459797 24.9258540544505, 121.819952630455 24.9257093932036, 121.820050920836 24.9255631466279, 121.820208661045 24.9253491272488, 121.820255428243 24.9252413248949, 121.820230062983 24.9248081338184, 121.820127016615 24.9247209407381, 121.819922974965 24.9247084944554, 121.819887631977 24.924742342676, 121.819921716544 24.9248691689747, 121.819916167894 24.9250273055159, 121.8197875581 24.925152942818, 121.81965676848 24.9251886127145, 121.819334748581 24.9251315408801, 121.81890175567 24.925003921917, 121.81870656207 24.9250070925745, 121.818591625737 24.9250768470388, 121.818525419407 24.9251668136021, 121.818498091342 24.9252714461409, 121.818530590581 24.9253764741695, 121.81861223501 24.9255084527866, 121.818480652725 24.92590478497, 121.818329253831 24.9262832822052, 121.818071439746 24.9265448614463, 121.817954286198 24.9267158542343, 121.817853060713 24.9267882094069, 121.817773794276 24.9267493688529, 121.81765647995 24.9266391885059, 121.817583554828 24.9266360178485, 121.817530446316 24.9266930896829, 121.817439289913 24.9270608859491, 121.817494776419 24.9273085935638, 121.817383010743 24.9276648961967, 121.817321975587 24.927790929831, 121.817256778943 24.9278424530149, 121.817190987801 24.9278369043643, 121.817134510464 24.9278067831183, 121.816879867037 24.9275083449842, 121.816622251117 24.9273589277511, 121.816587373885 24.927293929273, 121.816595300529 24.9271385670571, 121.816556459975 24.9270989338387, 121.816243159384 24.927136189064, 121.815881506266 24.927112409133, 121.815785593878 24.9271353963996, 121.81570236412 24.9271314330778, 121.815636572977 24.927168688303, 121.815575339655 24.9272689603454, 121.815496073218 24.9274465171636, 121.815101524529 24.9288634047194, 121.815079726259 24.9291257766248, 121.814937046673 24.9291321179398, 121.814529220857 24.9290274862433, 121.813991794416 24.9288531000826, 121.813815822926 24.9288261494942, 121.813583173053 24.9288972912359, 121.813419490743 24.9289894383537, 121.813343394964 24.9291535198777, 121.813243915586 24.929212573373, 121.81303782285 24.9292036558989, 121.812772082121 24.9291077435105, 121.812444711738 24.9291307307771, 121.812374164609 24.9290815855864, 121.812312138622 24.9290241174198, 121.812159947064 24.9288314999786, 121.811807607753 24.928702692019, 121.811590417716 24.9286844607386, 121.811433470172 24.9287684831615, 121.811281278613 24.9288184210166)","wkt1":null,"CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454081570'=='0100020200' || '0454081570'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
