
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231493123</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454084000">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454084000">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454084000" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454084000" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454084000" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454084000',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="Fp5pbfxqCZaDw2QlJEWM1T9p3ftm-4OdJMAfsjUUWKjJVP0vXLaoiRy2xvjKtFl1DTKTXG9cyh8QYvRqlmGlYtiYd701" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">吉林線 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454084000" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454084000" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">貢寮火車站 - 貢寮火車站</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0750 - 1410 <br>
                        [假日] 0750 - 1410
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 幸福小黃吉林線班表:1410<br/>幸福巴士吉林線班表:0750 1130<br>
[假日]<br /> 幸福小黃吉林線班表:1410<br/>幸福巴士吉林線班表:0750 1130<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">免費</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">貢寮區公所貢寮區公所站:(02)2494-1601~5</span>
                </li>

            </ul>


            <p> 
<a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454084002" >①幸福小黃吉林線</a> <a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454084001" >②幸福巴士吉林線</a> </p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">貢寮火車站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284301420" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.022102" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.908576" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">貢寮行政大樓</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304960" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.020968" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.906106" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">吉林派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284300960" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00455" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.887036" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">吉林3號橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284300860" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.986928" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.886564" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">大嶺路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304250" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.982696" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.883334" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">下厝</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.978111" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.881294" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">桃源山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.976182" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.883027" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">鹿窟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284305040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.97341" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.877285" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">桃源山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.976182" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.883027" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">內寮街81號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.971414" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.888682" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">內寮-內坑(桃源谷)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304610" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.973022" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.891486" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">桃源谷牛埔</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284301200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.977574" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.89174" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">下坪內坑交叉口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284300120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.978189" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.892795" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">五叉路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284303800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.98546" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.901862" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">戲棚地</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284302920" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.989497" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.910435" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">嵩陽街18號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304810" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.006079" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.899821" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">龍吉市民活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284302820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.013789" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.905252" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">貢寮國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284301700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.017093" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.908096" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">貢寮行政大樓</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284304960" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.020968" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.906106" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">貢寮火車站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2284301460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.022231" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.90861" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454084000";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 20;
        var existBackNum = 0;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454084000',
                        url: './StopStatusRecent3OfRoute?routeid=0454084000&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454084000',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454084000',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454084000');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454084000","Name":"吉林線","BeginStop":"貢寮火車站","GoDirStops":[{"UniStopId":"2284301420","Name":"貢寮火車站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.908576,"Latitude":25.022102,"PublicId":"2284301420"},{"UniStopId":"2284304960","Name":"貢寮行政大樓","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.906106,"Latitude":25.020968,"PublicId":"2284304960"},{"UniStopId":"2284300960","Name":"吉林派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.887036,"Latitude":25.00455,"PublicId":"2284300960"},{"UniStopId":"2284300860","Name":"吉林3號橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.886564,"Latitude":24.986928,"PublicId":"2284300860"},{"UniStopId":"2284304250","Name":"大嶺路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.883334,"Latitude":24.982696,"PublicId":"2284304250"},{"UniStopId":"2284304340","Name":"下厝","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.881294,"Latitude":24.978111,"PublicId":"2284304340"},{"UniStopId":"2284304440","Name":"桃源山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.883027,"Latitude":24.976182,"PublicId":"2284304440"},{"UniStopId":"2284305040","Name":"鹿窟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.877285,"Latitude":24.97341,"PublicId":"2284305040"},{"UniStopId":"2284304440","Name":"桃源山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.883027,"Latitude":24.976182,"PublicId":"2284304440"},{"UniStopId":"2284304520","Name":"內寮街81號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.888682,"Latitude":24.971414,"PublicId":"2284304520"},{"UniStopId":"2284304610","Name":"內寮-內坑(桃源谷)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.891486,"Latitude":24.973022,"PublicId":"2284304610"},{"UniStopId":"2284301200","Name":"桃源谷牛埔","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.89174,"Latitude":24.977574,"PublicId":"2284301200"},{"UniStopId":"2284300120","Name":"下坪內坑交叉口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.892795,"Latitude":24.978189,"PublicId":"2284300120"},{"UniStopId":"2284303800","Name":"五叉路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.901862,"Latitude":24.98546,"PublicId":"2284303800"},{"UniStopId":"2284302920","Name":"戲棚地","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.910435,"Latitude":24.989497,"PublicId":"2284302920"},{"UniStopId":"2284304810","Name":"嵩陽街18號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.899821,"Latitude":25.006079,"PublicId":"2284304810"},{"UniStopId":"2284302820","Name":"龍吉市民活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.905252,"Latitude":25.013789,"PublicId":"2284302820"},{"UniStopId":"2284301700","Name":"貢寮國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.908096,"Latitude":25.017093,"PublicId":"2284301700"},{"UniStopId":"2284304960","Name":"貢寮行政大樓","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.906106,"Latitude":25.020968,"PublicId":"2284304960"},{"UniStopId":"2284301460","Name":"貢寮火車站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.90861,"Latitude":25.022231,"PublicId":"2284301460"}],"LastStop":"貢寮火車站","BackDirStops":null,"RouteMapUrl":"../MapOverview?nid=0454084000","RouteTracks":null,"StopDirection":null,"TicketPrice":"免費","BusTimeDesc":"0750 - 1410","HeadwayDesc":"幸福小黃吉林線班表:1410;幸福巴士吉林線班表:0750 1130","HolidayBusTimeDesc":"0750 - 1410","HolidayHeadwayDesc":"幸福小黃吉林線班表:1410;幸福巴士吉林線班表:0750 1130","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"貢寮區公所貢寮區公所站:(02)2494-1601~5","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.908540605841 25.0222097513537, 121.90952676812 25.0219868725725, 121.909771782122 25.021858640945, 121.910509113981 25.0217105639465, 121.91169640146 25.0216266027618, 121.91252570898 25.0216495012667, 121.912499757341 25.0213350284659, 121.912379158549 25.0212510672812, 121.911959352625 25.0212815986211, 121.911219730916 25.0212785454871, 121.910249597591 25.0212174828073, 121.909501198123 25.0209930774592, 121.907512081329 25.0203236778322, 121.907398957986 25.0203271437482, 121.907061707863 25.0204936069501, 121.906080223529 25.0207357352438, 121.905820485086 25.0207643348469, 121.905821926326 25.0208255875403, 121.906060766792 25.0208027528965, 121.907040089265 25.0205541390235, 121.90726708454 25.0204827976513, 121.907511374694 25.0203206581689, 121.907580776844 25.0201694945657, 121.907574098113 25.0198294517677, 121.907515325284 25.0193451483888, 121.907535170655 25.0190612069278, 121.907704619591 25.0182101458285, 121.908147324019 25.0168858489609, 121.908219072668 25.0167267043518, 121.907897539495 25.0166011442164, 121.907542231027 25.0166041973505, 121.907345113064 25.0165492409386, 121.907069376901 25.0164935212434, 121.906801082751 25.0163530770798, 121.906640029933 25.0163294152914, 121.90645817764 25.0162320966455, 121.906337578847 25.0161031017345, 121.90628567557 25.0158512181805, 121.906105349843 25.0156512379042, 121.905953074786 25.0153875234559, 121.905823889054 25.0152131131768, 121.905703290261 25.0150925143842, 121.905236733224 25.0149535967878, 121.905166701963 25.0148994036595, 121.90515735174 25.0148459738147, 121.905171854127 25.0147707903903, 121.905249709043 25.0144349456515, 121.905193989348 25.0140601734544, 121.905210781585 25.0138701158636, 121.905197042482 25.0136625027524, 121.905127583684 25.0135788277992, 121.904805478048 25.0134505961716, 121.904735255966 25.0133803740899, 121.904637174037 25.0131658914272, 121.9046203818 25.0129704908519, 121.904624961501 25.0127376893853, 121.904736400892 25.012408714198, 121.904739454026 25.0123079607764, 121.904655492841 25.0122514777976, 121.904174242596 25.0122194198907, 121.903955561874 25.0122316324266, 121.903721615482 25.0122835357045, 121.9036513934 25.0122728497355, 121.903465152227 25.0120202028979, 121.903445306856 25.0119347151462, 121.903495683567 25.0117248121845, 121.903477364763 25.0115507835472, 121.90314266495 25.0113393540184, 121.902640042767 25.0112233349269, 121.902186270728 25.0109355770484, 121.901921792996 25.0108455095958, 121.901685175112 25.0102119842931, 121.901680595411 25.0099898687954, 121.90170654705 25.0099028544767, 121.901982855676 25.0097265359889, 121.902244280273 25.0095028939242, 121.90233740086 25.0093441309568, 121.90232213519 25.0092242954478, 121.902101927901 25.0090334745735, 121.901813406739 25.0088228083282, 121.901753870626 25.0087350307261, 121.90173707839 25.0084503259816, 121.901686701679 25.0083297271891, 121.901422223947 25.0081518821342, 121.901063099062 25.0079534284249, 121.900919601764 25.0078557281373, 121.900843273414 25.0076313227891, 121.900831060878 25.0075000380276, 121.900721148055 25.0071115267276, 121.900485675096 25.0068268219831, 121.900435298385 25.0067352279634, 121.90042766555 25.0064322044151, 121.900311646459 25.0062810742826, 121.899937255903 25.0060864369908, 121.899720101748 25.0060910166918, 121.899536913709 25.0060803307229, 121.899425474318 25.0060009492392, 121.899433107153 25.006039113414, 121.899524701173 25.0061032292278, 121.899704836078 25.0061200214647, 121.899917410532 25.0061123886297, 121.900302487057 25.0063024462205, 121.900407820179 25.00643983725, 121.900406293612 25.0067367545304, 121.900459723457 25.006845140787, 121.900693669849 25.0071222126965, 121.900821901476 25.0076481150261, 121.900898229826 25.0078771000752, 121.901297045453 25.0080953991554, 121.901663803174 25.008352625694, 121.901714179885 25.0084503259816, 121.901723339287 25.0087319775921, 121.901814933306 25.0088640256371, 121.902167951924 25.0091296482941, 121.902293130417 25.0092456673857, 121.90230686952 25.0093487106578, 121.902244280273 25.0094525172134, 121.902131314316 25.0095838019749, 121.901927899264 25.0097372219579, 121.90167601571 25.0098936950748, 121.901654643772 25.0102043514581, 121.901899276133 25.0108714612347, 121.902187797295 25.0109737412233, 121.902656835004 25.0112584459677, 121.903128925847 25.0113576728224, 121.903449886557 25.0115752086191, 121.90347889133 25.0117232856175, 121.903411722382 25.0119408214142, 121.903455992825 25.0120492076708, 121.903633074597 25.0122942216734, 121.903732301451 25.0123140670443, 121.90398304008 25.0122575840656, 121.90420782707 25.0122438449626, 121.904638700604 25.0122774294365, 121.904705869552 25.0123171201783, 121.904693657016 25.012405661064, 121.904594430161 25.0127224237153, 121.904591377027 25.012959804883, 121.904611222398 25.0131781039632, 121.904719990296 25.0133925866259, 121.904819217151 25.0134918134805, 121.905126057117 25.0136108857061, 121.905211544869 25.0136452334634, 121.905309626798 25.0134266481518, 121.905304283813 25.0132190350405, 121.905203530392 25.0128782289591, 121.905415723204 25.0128026638928, 121.905702145336 25.0126198574953, 121.906058980371 25.0124359061725, 121.906620375383 25.012076781287, 121.906833713121 25.0118699314593, 121.906888669533 25.011752004159, 121.906911568038 25.0113238021171, 121.906896302368 25.0111532082555, 121.906897828935 25.0110482567746, 121.906958891614 25.010941397085, 121.907094183614 25.0108116388905, 121.907244741284 25.0104891516129, 121.907438615292 25.0102773404425, 121.907528110282 25.010135369712, 121.907612834751 25.00993195466, 121.907717595411 25.009868220488, 121.907788580776 25.0097621240819, 121.907792397193 25.009658699168, 121.907788580776 25.0094461247141, 121.90773496011 25.0092537772728, 121.907601194677 25.0090152511799, 121.907408083952 25.0088519085115, 121.907367629927 25.0087450488219, 121.907321832917 25.0083763828928, 121.907380605747 25.0082302141031, 121.907390528432 25.0080851902386, 121.907353890824 25.0078310168341, 121.907346257989 25.007440978967, 121.907295881278 25.0073280130094, 121.907233292032 25.0072394721238, 121.907218026362 25.0071524578051, 121.907240924867 25.0070051440901, 121.907190548156 25.0066937244233, 121.907251610835 25.0064418408692, 121.907580204381 25.0058869337668, 121.907632107659 25.0056991660265, 121.907700803174 25.005567881265, 121.907729807946 25.0053740072567, 121.9076672187 25.0050175538635, 121.907771025255 25.0049084043234, 121.90835035743 25.0048091774688, 121.908617888295 25.0044710428795, 121.908555299049 25.0037795080311, 121.908675897841 25.003274214356, 121.908743066789 25.002991799462, 121.90887435155 25.0026887759137, 121.909786093688 25.0023689601283, 121.909990653665 25.0019117533135, 121.909954016057 25.0014751551532, 121.909457881784 25.0011996098107, 121.909126616746 25.0007836203047, 121.909093032272 25.0006034853994, 121.909296065683 25.0004706740709, 121.909634963555 25.0003149642375, 121.910066218731 25.0002920657326, 121.910874535955 24.9999020278655, 121.911033298922 24.9997356320631, 121.911254651136 24.999374598969, 121.911455013054 24.9989815079679, 121.911372578437 24.9987082524759, 121.911337467396 24.9985189581686, 121.911519128868 24.9979449689788, 121.911668732434 24.9978991719689, 121.911641254228 24.9980915194102, 121.911580191548 24.9983403498303, 121.91171605601 24.9986342139767, 121.912087393432 24.9987105423264, 121.912820527231 24.9990097494573, 121.91295791826 24.9990128025913, 121.912989976167 24.9988830443968, 121.912614440687 24.9986677984506, 121.912341185195 24.9985174316016, 121.912171736258 24.9983434029643, 121.91218089566 24.9980289301635, 121.912246538041 24.9978289498872, 121.912393088472 24.9976442352809, 121.912603754718 24.9974763129115, 121.912608334419 24.9972824389032, 121.912376296235 24.9971374150388, 121.912167156557 24.9967405076202, 121.912354924298 24.9965924306218, 121.912554904574 24.9964267981029, 121.91258238278 24.996136750374, 121.91259764845 24.995872654284, 121.912480102791 24.9956146644619, 121.912483155925 24.9951215833228, 121.912585435914 24.9949109170775, 121.912855638272 24.9947315454557, 121.912851058571 24.9944796619016, 121.912713667541 24.9942789183419, 121.912362175491 24.9940003198654, 121.912334697285 24.9937675183988, 121.91217860581 24.9932210074148, 121.911812229731 24.9924913083915, 121.911674838702 24.9919028168152, 121.911726741979 24.9916081893853, 121.911659573032 24.9914036294081, 121.911523708569 24.9911670115239, 121.911382691943 24.9910372533293, 121.911376585675 24.9908907028979, 121.911318385308 24.9908052151463, 121.911167255176 24.9907548384355, 121.910689058065 24.9901167334318, 121.910634101653 24.989809893466, 121.910446333913 24.9897076134774, 121.910397483769 24.9895251887215, 121.910376111831 24.9892595660645, 121.91027535841 24.9891649189109, 121.910237766697 24.9890237114638, 121.910327261687 24.9888809774499, 121.910499382116 24.9886206977774, 121.910473430477 24.9885199443558, 121.91022307349 24.9883733939243, 121.910021566647 24.9883520219864, 121.909692973101 24.9881405924577, 121.90918844271 24.9876352987826, 121.908606820685 24.9872651062864, 121.908488893384 24.9871116863035, 121.908482787116 24.9869498702021, 121.908309712583 24.9865048759232, 121.907952305086 24.9865041126398, 121.9077065278 24.9864690015989, 121.907500441256 24.9863804607132, 121.907448537978 24.9862789440081, 121.907428692607 24.9861629249165, 121.90747296305 24.9861171279067, 121.907605774378 24.9860881231338, 121.907625619749 24.9858858530071, 121.907735532573 24.9857164040707, 121.907705001233 24.9856461819889, 121.907539750356 24.9855629840878, 121.907243596359 24.9856026748296, 121.906628008218 24.9854790229031, 121.906513515694 24.9854011679864, 121.906360477353 24.9851546274168, 121.90574450757 24.9850676130981, 121.905513995954 24.985095091304, 121.905258677624 24.9849729659444, 121.905087702121 24.9849607534085, 121.904972827955 24.9849485408725, 121.904811011853 24.9848050435751, 121.904362201157 24.9846722322466, 121.903871409868 24.9845699522579, 121.903730965705 24.9846493337416, 121.90366665907 24.9848256522294, 121.903476029017 24.9849531205735, 121.902785066631 24.985213400246, 121.902569629864 24.985230192483, 121.90216928767 24.9854698635011, 121.901836114423 24.9855645106547, 121.901801194203 24.9853591873939, 121.901715706451 24.9851485211487, 121.901715515631 24.9850836420515, 121.901771998609 24.984961516692, 121.901883438 24.9848653429713, 121.901939920979 24.9847432176118, 121.901905000759 24.9845149958461, 121.901750626671 24.9840661851498, 121.901746046971 24.9837478959315, 121.90169567026 24.9836593550458, 121.901402187755 24.9835853165466, 121.901307540601 24.9835456258047, 121.901188468376 24.9833196938896, 121.901014248917 24.9830586509335, 121.900849379682 24.98293347244, 121.900743474097 24.9829121005021, 121.900653406644 24.9828434049873, 121.900625928438 24.9825854151653, 121.900743474097 24.9822228555041, 121.900686991118 24.9821419474534, 121.900454571293 24.9819961603055, 121.900381296078 24.9819060928528, 121.900297334893 24.981459572007, 121.900288175491 24.9812313502413, 121.900193528337 24.9811321233867, 121.89998248045 24.9810596114545, 121.899872567627 24.9809634377338, 121.899592824225 24.9805779795678, 121.899417269021 24.9802810622874, 121.899527181844 24.9798513336785, 121.899548553782 24.9796108993768, 121.899531761545 24.9794017596986, 121.899472225432 24.979302532844, 121.89914210532 24.979161325397, 121.89901997996 24.978898755874, 121.898900907735 24.9788697511011, 121.898728405664 24.9789476060178, 121.898557430161 24.9790788907793, 121.898362792869 24.9791933833039, 121.898165865727 24.9792254412108, 121.898078660587 24.9792193349427, 121.897799108007 24.9788415096117, 121.897666487499 24.9787796836484, 121.89681981528 24.9785964956091, 121.896602661125 24.9786529785879, 121.89637672921 24.9786132878461, 121.896306507128 24.9785262735274, 121.896025618801 24.9784178872708, 121.895687484212 24.9783682738435, 121.895175893448 24.9781400520778, 121.89487306072 24.9780179267183, 121.894604957392 24.9777858885351, 121.894590645826 24.977546217517, 121.894468520467 24.9774729423013, 121.894305750261 24.9775172127441, 121.894028105889 24.977688951531, 121.893425111926 24.9777240625719, 121.893246503588 24.9778095503235, 121.893101288902 24.9780179267182, 121.892998436451 24.9781728732682, 121.892812195278 24.9782400422159, 121.892352316971 24.9784110177193, 121.892164549231 24.9786232105315, 121.892029829693 24.9787148045512, 121.891806950912 24.9787483890251, 121.89164055511 24.9787308335046, 121.891573386162 24.9786514520209, 121.891664980182 24.9783064478802, 121.891631395708 24.9781232598409, 121.891719936593 24.9773340247048, 121.891820690015 24.977027184739, 121.891820690015 24.976749349546, 121.891750467933 24.9763509155605, 121.891784052407 24.9757891389066, 121.891845115087 24.9756166368362, 121.89215348162 24.975393758055, 121.892293925783 24.9752090434487, 121.892312244587 24.9749647927296, 121.892556495306 24.9743648519009, 121.892916765117 24.9736427857125, 121.892880127509 24.973526766621, 121.892565654708 24.9731878687482, 121.892238206088 24.9731588639753, 121.891856564339 24.9733115206748, 121.89164284496 24.973247404861, 121.891392487973 24.972975675936, 121.891328372159 24.9727909613297, 121.891038324431 24.9725711356825, 121.891026111895 24.9723818413752, 121.890860479376 24.9720414169355, 121.89069561014 24.9719315041119, 121.890600962987 24.971635350115, 121.890462808674 24.9714704808796, 121.890328470778 24.9714033119319, 121.889986519771 24.9714185776018, 121.889668230553 24.9713391961181, 121.889536945792 24.9714094181998, 121.889289641938 24.9715651280333, 121.889066763157 24.9715926062391, 121.888828618706 24.9715803937032, 121.888305769511 24.9713132444792, 121.888045489838 24.9710415155542, 121.888002745962 24.970821689907, 121.887840929861 24.9704522606944, 121.88766384809 24.9703423478708, 121.887498978854 24.9703392947368, 121.887370747227 24.9704217293545, 121.886994448463 24.9705163765081, 121.886902854443 24.9705957579919, 121.886612806714 24.971354461788, 121.886570062838 24.971911658741, 121.886653260739 24.9720505763374, 121.886866980118 24.9721971267689, 121.887196718589 24.9728764490814, 121.887166187249 24.9730871153266, 121.887080699498 24.973253511129, 121.886918883396 24.9733878490245, 121.886854767583 24.9735527182599, 121.886912777128 24.9737206406292, 121.886863926984 24.9738580316587, 121.886702110883 24.9739557319464, 121.886668526409 24.9740412196981, 121.886656313873 24.9743984363747, 121.886567009704 24.974606049486, 121.886313599583 24.9748014500612, 121.886107513039 24.9751647730059, 121.885745335019 24.9753731494006, 121.885707170845 24.9754723762552, 121.885762127256 24.97594484874, 121.885708697412 24.9760379693266, 121.885230118659 24.9762249737834, 121.884681699466 24.9768050692413, 121.884554994406 24.9768325474472, 121.883774155388 24.9766027991145, 121.88366118943 24.9765173113629, 121.883384499163 24.97594484874, 121.883195204855 24.9758853126272, 121.883031862187 24.975932636204, 121.883030474717 24.9761063022582, 121.882954809625 24.9760565794836, 121.882595940904 24.9760133422883, 121.882507304654 24.9759830762516, 121.882420830263 24.9758955209311, 121.882362460049 24.9753528941302, 121.882291118677 24.975280471828, 121.882116008036 24.9752393964925, 121.881482583125 24.9753691080784, 121.88134854782 24.9753799173772, 121.881169113459 24.9753258708831, 121.880952927483 24.9752372346327, 121.880805921019 24.9751129276962, 121.880267617937 24.9750437481838, 121.879988738027 24.9749399789151, 121.879638516746 24.9744643697668, 121.879173716896 24.9742752070374, 121.878940236042 24.9741390098722, 121.878527320826 24.9737952741696, 121.877956589848 24.9735650361046, 121.877790126647 24.973396411043, 121.877690681097 24.9733466882684, 121.877351269114 24.9733791161648, 121.877217233809 24.9733531738477, 121.877148054296 24.9732775087559, 121.877091845943 24.9732893989846, 121.877212910089 24.973396411043, 121.877346945395 24.9734093822015, 121.877675548079 24.9733812780246, 121.877764184329 24.9734158677808, 121.877904705214 24.9735823309827, 121.878518673387 24.9738341876453, 121.878929426743 24.9741800852077, 121.879156422018 24.9742989874948, 121.879619060008 24.9745011213828, 121.87996279571 24.9749767305311, 121.880245999339 24.975069690501, 121.88079294986 24.9751540030318, 121.880937794464 24.975271824389, 121.881149656721 24.9753626224991, 121.881350709679 24.9754101834139, 121.881489068704 24.9754058596944, 121.882092227579 24.9752696625292, 121.882193834988 24.9752826336878, 121.882286794957 24.9753128997245, 121.882321384714 24.9753842410967, 121.882388402366 24.9758998446507, 121.882479200477 24.9760025329895, 121.882595940904 24.9760457701848, 121.882954809625 24.9761041403984, 121.883036960296 24.9761862910695, 121.882978432342 24.9763776304829, 121.882662051333 24.9769226148998, 121.882401008377 24.9773340247048, 121.882336510921 24.9775271354296, 121.882396047034 24.9778851153898, 121.882403679869 24.9780438783572, 121.882370095395 24.9781950084896, 121.882256747796 24.9783789598124, 121.882119356766 24.9784797132341, 121.882027762746 24.9784766601001, 121.881913270222 24.9784110177193, 121.881800304264 24.9781141004389, 121.881762140089 24.9778049706226, 121.881879685748 24.9775988840783, 121.881881212315 24.9775072900587, 121.881814043367 24.9775057634917, 121.881690391441 24.9775950676609, 121.881632381895 24.9777568837623, 121.881366759238 24.9781057043205, 121.881319435661 24.9782598875869, 121.881258372981 24.9783346893696, 121.881198836869 24.9784713171156, 121.881240054177 24.97863160665, 121.881443087588 24.9787109881337, 121.881582005184 24.9787964758854, 121.881636961596 24.9788979925905, 121.881629328761 24.979032330486, 121.881681232039 24.9792231513603, 121.881796106205 24.9793368806014, 121.882214385562 24.9795124358057, 121.882288042419 24.9796147157944, 121.882283462718 24.9797429474219, 121.882139965421 24.9799123963582, 121.88213538572 24.9800253623158, 121.882222400038 24.9802169464736, 121.882430394791 24.9804528010742, 121.882514355976 24.9806817861234, 121.882511302842 24.9807802496945, 121.882444133894 24.9811267804022, 121.882576945223 24.9813435529154, 121.882558626419 24.9815908567685, 121.882636481335 24.9817022961591, 121.882830355344 24.9818152621167, 121.883343663496 24.9825518306914, 121.883392513639 24.9830952885414, 121.883273441414 24.9834731138725, 121.883265808579 24.9835845532631, 121.884041304612 24.984419585409, 121.884415313526 24.9844852277898, 121.88474810513 24.9846256719532, 121.885942643803 24.9851950814421, 121.886202160192 24.9859369930014, 121.886240133546 24.986142316262, 121.886336307267 24.9862262774467, 121.886683219616 24.9864209147385, 121.88671680409 24.986550672933, 121.88655956769 24.9868552230484, 121.886785499605 24.9870407009382, 121.886942736005 24.9872948743428, 121.887098445839 24.9875398883454, 121.887210266871 24.9878474915947, 121.887283542087 24.9887329004514, 121.887350711035 24.9890046293764, 121.887375136107 24.9892214018896, 121.887491155198 24.9894992370826, 121.887723193381 24.9897205892968, 121.887885009483 24.9898610334602, 121.888373510921 24.9901174967153, 121.888551355976 24.9906350029264, 121.888804766097 24.9915997932668, 121.888908572652 24.9917585562342, 121.889210832917 24.9926592307609, 121.889241364257 24.9933721375472, 121.889642088093 24.9940392473237, 121.889837488668 24.9944453141442, 121.889969536713 24.9953291964339, 121.889884048962 24.9957383163884, 121.889667276449 24.9959276106957, 121.889184881278 24.9960619485912, 121.888809345798 24.9963397837842, 121.888598679553 24.9965107592875, 121.888519298069 24.9971015407144, 121.888589520151 24.997464863659, 121.888720804912 24.9975930952865, 121.888900939817 24.9981563985074, 121.888968108765 24.9983517990827, 121.88884903654 24.9989883775193, 121.888855142808 24.9995440479053, 121.888958949363 24.9997669266865, 121.889044437115 24.9998371487682, 121.889462716471 25.0000508681474, 121.889633691975 25.000157727837, 121.889734445396 25.0005103648127, 121.889734445396 25.0007607217998, 121.889626249961 25.0010408468433, 121.889068862187 25.0017255121402, 121.888945401081 25.0018774055562, 121.888685884692 25.0020758592654, 121.888169141765 25.0022575207378, 121.887124206657 25.0021445547802, 121.886693714765 25.0021689798521, 121.886385348232 25.0022880520776, 121.886088430951 25.0024300228081, 121.886024315138 25.0026467953213, 121.886073165281 25.0034085522515, 121.886250247053 25.0037413438562, 121.886417978601 25.0038306480254, 121.886861064671 25.0042161061914, 121.887059900022 25.0044176130347, 121.887573780637 25.0055014756007, 121.887662321523 25.0060037161418, 121.887695905996 25.0063395608806, 121.887674534059 25.0066555602484, 121.887430283339 25.0069333954414, 121.887320370516 25.0072692401801, 121.887198245156 25.0077378962474, 121.887189085754 25.0080966394911, 121.887234882764 25.0083469964781, 121.887366167526 25.0087133725568, 121.887650108987 25.0089362513379, 121.887995113127 25.008933198204, 121.888266842052 25.0087133725568, 121.888627875146 25.0086187254031, 121.888896550937 25.0084996531776, 121.88929651149 25.0082950932003, 121.889614800708 25.0080279439763, 121.890125437368 25.0077653744533, 121.890320837943 25.0077226305775, 121.890734728419 25.007838649669, 121.890811056769 25.0079546687605, 121.890995008092 25.0088080197104, 121.891111027184 25.0091041737073, 121.891286391567 25.0094797091879, 121.891523963556 25.0098140273596, 121.891815347031 25.0100216404709, 121.892343539211 25.0101010219546, 121.892688543351 25.0100277467389, 121.892908368999 25.0097773897518, 121.892984124886 25.0096705300622, 121.893122851661 25.0096735831962, 121.893467283339 25.0097743366178, 121.893586928028 25.0098903557094, 121.893684628315 25.010262838056, 121.893758094352 25.0106215812996, 121.893840528969 25.0108688851527, 121.893962654329 25.011059706027, 121.89434486854 25.0114672994145, 121.894622131271 25.0117313955045, 121.894863901318 25.0118000910193, 121.895074567564 25.0117848253494, 121.895417472675 25.0117970378853, 121.895640351456 25.0118550474311, 121.89600348358 25.0120535011404, 121.896470803901 25.0122244766437, 121.896620979929 25.0126503888352, 121.897262328887 25.0130671416246, 121.89730869836 25.0131938466851, 121.8974004832 25.0141784823964, 121.897439983121 25.0146929354736, 121.897568214749 25.0150669443872, 121.897742243386 25.0155417067224, 121.897992791194 25.0157142087927, 121.898491024497 25.0162332415708, 121.898750540886 25.0163309418585, 121.899288655751 25.0163156761885, 121.899906152101 25.0162118696329, 121.900082661409 25.0160973771083, 121.900315462876 25.0158393872862, 121.900455716219 25.0157203150608, 121.900657413883 25.015634827309, 121.900902237064 25.0157447401327, 121.901177019123 25.0158546529563, 121.901393982457 25.0158668654922, 121.901996022316 25.0158668654922, 121.902341026457 25.015924875038, 121.902946501091 25.016170652324, 121.903276812024 25.0164813087074, 121.903681543098 25.0168469215025, 121.903876752853 25.0171591044529, 121.903962622246 25.0177155381223, 121.904019677688 25.0179200980995, 121.904176723267 25.0181872473236, 121.904450932864 25.0184131792387, 121.904682971047 25.0184864544544, 121.904949547808 25.0185765219072, 121.905435568575 25.0188207726262, 121.905572959604 25.0188848884399, 121.905972156873 25.01886962277, 121.906082069697 25.0189062603779, 121.906372308247 25.0192108104933, 121.906645563739 25.019297824812, 121.906808715586 25.0192695833225, 121.907065751304 25.0190459412579, 121.907250847552 25.0188963376925, 121.907379460821 25.0188261156107, 121.907489373645 25.0188429078477, 121.907446629769 25.0190566272269, 121.907428310965 25.0193275928684, 121.907464948573 25.0197088529752, 121.907490709391 25.0201809438182, 121.907392472407 25.0203444386263, 121.907059546003 25.0205033353191, 121.90607157609 25.0207389780334, 121.905819764467 25.0207628936071, 121.905823367566 25.0208241463004, 121.906069414231 25.0208059956861, 121.906506109903 25.0206773650301, 121.907018470667 25.0205606246028, 121.907262760821 25.0204806357915, 121.907420576584 25.0203833521021, 121.908646320606 25.0208007300179, 121.909519516926 25.0210846714788, 121.91024043819 25.0212861783221, 121.911302165534 25.0213564004038, 121.911939507254 25.0213579269708, 121.912339467807 25.021315183095, 121.912417322723 25.0213304487649, 121.912428008692 25.021580805752, 121.911991410532 25.021582332319, 121.91168113579 25.0215533275461, 121.910492321744 25.0216418684318, 121.909642787211 25.021855587811, 121.909514555584 25.0219258098927, 121.908479543162 25.0221578480759)","wkt0":"LINESTRING (121.908504264342 25.0221709518928, 121.909522200976 25.021952822614, 121.909642787211 25.021855587811, 121.910492321744 25.0216418684318, 121.91168113579 25.0215533275461, 121.911991410532 25.021582332319, 121.912428008692 25.021580805752, 121.912417322723 25.0213304487649, 121.912339467807 25.021315183095, 121.911939507254 25.0213579269708, 121.911302165534 25.0213564004038, 121.91024043819 25.0212861783221, 121.909519516926 25.0210846714788, 121.908646320606 25.0208007300179, 121.907420576584 25.0203833521021, 121.907262760821 25.0204806357915, 121.907018470667 25.0205606246028, 121.906506109903 25.0206773650301, 121.906069414231 25.0208059956861, 121.905823367566 25.0208241463004, 121.905819764467 25.0207628936071, 121.90607157609 25.0207389780334, 121.907059546003 25.0205033353191, 121.907392472407 25.0203444386263, 121.907490709391 25.0201809438182, 121.907464948573 25.0197088529752, 121.907428310965 25.0193275928684, 121.907446629769 25.0190566272269, 121.90749635664 25.0188259895475, 121.907369741369 25.0188184678483, 121.907240618865 25.0188874167582, 121.90705006915 25.0190416115932, 121.906808715586 25.0192695833225, 121.906645563739 25.019297824812, 121.906372308247 25.0192108104933, 121.906082069697 25.0189062603779, 121.905972156873 25.01886962277, 121.905572959604 25.0188848884399, 121.905435568575 25.0188207726262, 121.904949547808 25.0185765219072, 121.904682971047 25.0184864544544, 121.904450932864 25.0184131792387, 121.904176723267 25.0181872473236, 121.904019677688 25.0179200980995, 121.903962622246 25.0177155381223, 121.903904745239 25.0171630672011, 121.903681543098 25.0168469215025, 121.903276812024 25.0164813087074, 121.902934446034 25.0161890071459, 121.902341026457 25.015924875038, 121.901996022316 25.0158668654922, 121.901396258534 25.0158746627973, 121.901177019123 25.0158546529563, 121.900815834073 25.0156844264867, 121.900644088607 25.0156405499076, 121.900455716219 25.0157203150608, 121.900298090441 25.01583015941, 121.900110047959 25.0160981199464, 121.899965882056 25.0161955886327, 121.899735216612 25.0162507477607, 121.899288655751 25.0163156761885, 121.898750540886 25.0163309418585, 121.898491024497 25.0162332415708, 121.897975138983 25.0156631150054, 121.897823451381 25.0155690937646, 121.897743219923 25.0154587755086, 121.897568214749 25.0150669443872, 121.897439983121 25.0146929354736, 121.8974004832 25.0141784823964, 121.89730869836 25.0131938466851, 121.897262328887 25.0130671416246, 121.896620979929 25.0126503888352, 121.896470803901 25.0122244766437, 121.89600348358 25.0120535011404, 121.895640351456 25.0118550474311, 121.895417472675 25.0117970378853, 121.895074567564 25.0117848253494, 121.894863901318 25.0118000910193, 121.894635504508 25.0117518313861, 121.894516410937 25.0116766143934, 121.89434486854 25.0114672994145, 121.893908406913 25.0110153316661, 121.893818146521 25.010869912147, 121.893758094352 25.0106215812996, 121.893684628315 25.010262838056, 121.893586928028 25.0098903557094, 121.893462119423 25.0097817729862, 121.893122851661 25.0096735831962, 121.892994520452 25.0096789764296, 121.89287542688 25.0098030844675, 121.892688543351 25.0100277467389, 121.892343539211 25.0101010219546, 121.891815347031 25.0100216404709, 121.891491434215 25.0097921153227, 121.891286391567 25.0094797091879, 121.891111027184 25.0091041737073, 121.891012552694 25.0088315316454, 121.89085459701 25.0080401862016, 121.890811056769 25.0079546687605, 121.890714191957 25.0078358467048, 121.890534924791 25.0077593760956, 121.890320837943 25.0077226305775, 121.890125437368 25.0077653744533, 121.889614800708 25.0080279439763, 121.88929651149 25.0082950932003, 121.888896550937 25.0084996531776, 121.888627875146 25.0086187254031, 121.888266842052 25.0087133725568, 121.887995113127 25.008933198204, 121.887650108987 25.0089362513379, 121.887366167526 25.0087133725568, 121.887234882764 25.0083469964781, 121.887189085754 25.0080966394911, 121.887198245156 25.0077378962474, 121.887331934519 25.0072704656432, 121.887444760008 25.0069445253416, 121.887674534059 25.0066555602484, 121.887695905996 25.0063395608806, 121.887662321523 25.0060037161418, 121.887573780637 25.0055014756007, 121.887043602714 25.0044316509778, 121.886820458969 25.0042150887197, 121.886400497427 25.0038343026943, 121.886250247053 25.0037413438562, 121.886073165281 25.0034085522515, 121.886011876298 25.0026659320747, 121.886099629456 25.002431819185, 121.886385348232 25.0022880520776, 121.886677546683 25.0021826628967, 121.887124206657 25.0021445547802, 121.888169141765 25.0022575207378, 121.888347363921 25.0022190177765, 121.888685884692 25.0020758592654, 121.888937817313 25.0018648711027, 121.88962479918 25.0010218139764, 121.889713805954 25.0007638823723, 121.889725088503 25.0004887135408, 121.889607248548 25.0001803238708, 121.889444278397 25.0000515147708, 121.889001751757 24.9998299380466, 121.888911491366 24.9997258878734, 121.888843796072 24.9995444268785, 121.888814962892 24.9989395568957, 121.888934056463 24.9983397013791, 121.888900939817 24.9981563985074, 121.888697122937 24.9975934861309, 121.888589520151 24.997464863659, 121.888500305139 24.9970951735544, 121.888549196184 24.9966357230908, 121.888598679553 24.9965107592875, 121.888970411343 24.9961884953885, 121.889213612953 24.996030853108, 121.889667276449 24.9959276106957, 121.889850450158 24.9957541172558, 121.889930681616 24.995335722734, 121.889811588045 24.9944591313652, 121.88961727748 24.9940401100351, 121.889189794239 24.9933136392475, 121.889176004457 24.9926652060898, 121.888900208817 24.9917647960066, 121.888779861629 24.9915808277787, 121.88852161662 24.9906293328213, 121.888373689868 24.9901319604572, 121.887885009483 24.9898610334602, 121.887656621205 24.9897138793396, 121.887468578723 24.9894998243146, 121.887334441753 24.9891879871991, 121.887344470685 24.988999004505, 121.887283542087 24.9887329004514, 121.887185261384 24.9878519453667, 121.887071182278 24.9875513908001, 121.886752763676 24.9870417956747, 121.886523351848 24.9868528129806, 121.886688829232 24.9865431696941, 121.886652474352 24.986439432925, 121.88629770087 24.9862316459827, 121.886209947712 24.9861376247419, 121.88612344817 24.9856355513157, 121.886026919696 24.9853929765143, 121.88588776826 24.9851898906341, 121.885005222213 24.9847768239827, 121.884721904874 24.9845937959671, 121.884394710955 24.9844859849443, 121.884141480413 24.9844549579348, 121.88404119109 24.9844023060399, 121.883265808579 24.9835845532631, 121.883261441599 24.9834580193777, 121.883392513639 24.9830952885414, 121.883343663496 24.9825518306914, 121.882830355344 24.9818152621167, 121.882636481335 24.9817022961591, 121.882558626419 24.9815908567685, 121.882576945223 24.9813435529154, 121.882554401868 24.9812557285129, 121.882444133894 24.9811267804022, 121.882511302842 24.9807802496945, 121.882514355976 24.9806817861234, 121.882430394791 24.9804528010742, 121.882222400038 24.9802169464736, 121.88213538572 24.9800253623158, 121.882139965421 24.9799123963582, 121.882283462718 24.9797429474219, 121.882288042419 24.9796147157944, 121.882214385562 24.9795124358057, 121.881796106205 24.9793368806014, 121.881681232039 24.9792231513603, 121.881629328761 24.979032330486, 121.881636961596 24.9788979925905, 121.881582005184 24.9787964758854, 121.881443087588 24.9787109881337, 121.881240054177 24.97863160665, 121.881198836869 24.9784713171156, 121.881258372981 24.9783346893696, 121.881319435661 24.9782598875869, 121.881366759238 24.9781057043205, 121.881632381895 24.9777568837623, 121.881690391441 24.9775950676609, 121.881814043367 24.9775057634917, 121.881881212315 24.9775072900587, 121.881879685748 24.9775988840783, 121.881762140089 24.9778049706226, 121.881800304264 24.9781141004389, 121.881913270222 24.9784110177193, 121.882027762746 24.9784766601001, 121.882119356766 24.9784797132341, 121.882256747796 24.9783789598124, 121.882370095395 24.9781950084896, 121.882403679869 24.9780438783572, 121.882396047034 24.9778851153898, 121.882336510921 24.9775271354296, 121.882401008377 24.9773340247048, 121.882662051333 24.9769226148998, 121.882978432342 24.9763776304829, 121.883036960296 24.9761862910695, 121.882954809625 24.9761041403984, 121.882595940904 24.9760457701848, 121.882479200477 24.9760025329895, 121.882388402366 24.9758998446507, 121.882321384714 24.9753842410967, 121.882286794957 24.9753128997245, 121.882193834988 24.9752826336878, 121.882092227579 24.9752696625292, 121.881489068704 24.9754058596944, 121.881350709679 24.9754101834139, 121.881149656721 24.9753626224991, 121.880937794464 24.975271824389, 121.88079294986 24.9751540030318, 121.880245999339 24.975069690501, 121.87996279571 24.9749767305311, 121.879619060008 24.9745011213828, 121.879156422018 24.9742989874948, 121.878929426743 24.9741800852077, 121.878518673387 24.9738341876453, 121.877904705214 24.9735823309827, 121.877764184329 24.9734158677808, 121.877675548079 24.9733812780246, 121.877346945395 24.9734093822015, 121.877212910089 24.973396411043, 121.877091845943 24.9732893989846, 121.877148054296 24.9732775087559, 121.877217233809 24.9733531738477, 121.877351269114 24.9733791161648, 121.877690681097 24.9733466882684, 121.877790126647 24.973396411043, 121.877956589848 24.9735650361046, 121.878527320826 24.9737952741696, 121.878940236042 24.9741390098722, 121.879173716896 24.9742752070374, 121.879638516746 24.9744643697668, 121.879988738027 24.9749399789151, 121.880267617937 24.9750437481838, 121.880805921019 24.9751129276962, 121.880952927483 24.9752372346327, 121.881169113459 24.9753258708831, 121.88134854782 24.9753799173772, 121.881482583125 24.9753691080784, 121.882116008036 24.9752393964925, 121.882291118677 24.975280471828, 121.882362460049 24.9753528941302, 121.882420830263 24.9758955209311, 121.882507304654 24.9759830762516, 121.882595940904 24.9760133422883, 121.882954809625 24.9760565794836, 121.883030474717 24.9761063022582, 121.883031862187 24.975932636204, 121.883195204855 24.9758853126272, 121.883384499163 24.97594484874, 121.88366118943 24.9765173113629, 121.883774155388 24.9766027991145, 121.884554994406 24.9768325474472, 121.884681699466 24.9768050692413, 121.885230118659 24.9762249737834, 121.885708697412 24.9760379693266, 121.885762127256 24.97594484874, 121.885707170845 24.9754723762552, 121.885745335019 24.9753731494006, 121.886107513039 24.9751647730059, 121.886313599583 24.9748014500612, 121.886567009704 24.974606049486, 121.886656313873 24.9743984363747, 121.886668526409 24.9740412196981, 121.886702110883 24.9739557319464, 121.886863926984 24.9738580316587, 121.886912777128 24.9737206406292, 121.886854767583 24.9735527182599, 121.886918883396 24.9733878490245, 121.887080699498 24.973253511129, 121.887166187249 24.9730871153266, 121.887196718589 24.9728764490814, 121.886866980118 24.9721971267689, 121.886653260739 24.9720505763374, 121.886570062838 24.971911658741, 121.886612806714 24.971354461788, 121.886902854443 24.9705957579919, 121.886994448463 24.9705163765081, 121.887370747227 24.9704217293545, 121.887498978854 24.9703392947368, 121.88766384809 24.9703423478708, 121.887840929861 24.9704522606944, 121.888002745962 24.970821689907, 121.888045489838 24.9710415155542, 121.888305769511 24.9713132444792, 121.888828618706 24.9715803937032, 121.889066763157 24.9715926062391, 121.889289641938 24.9715651280333, 121.889536945792 24.9714094181998, 121.889668230553 24.9713391961181, 121.889986519771 24.9714185776018, 121.890328470778 24.9714033119319, 121.890462808674 24.9714704808796, 121.890600962987 24.971635350115, 121.89069561014 24.9719315041119, 121.890860479376 24.9720414169355, 121.891026111895 24.9723818413752, 121.891038324431 24.9725711356825, 121.891328372159 24.9727909613297, 121.891392487973 24.972975675936, 121.89164284496 24.973247404861, 121.891856564339 24.9733115206748, 121.892238206088 24.9731588639753, 121.892565654708 24.9731878687482, 121.892880127509 24.973526766621, 121.892916765117 24.9736427857125, 121.892673594616 24.9741981807707, 121.892446690022 24.9746065463601, 121.892312244587 24.9749647927296, 121.892293925783 24.9752090434487, 121.89215348162 24.975393758055, 121.891845115087 24.9756166368362, 121.891784052407 24.9757891389066, 121.891749679223 24.9759535573373, 121.891750467933 24.9763509155605, 121.891820690015 24.976749349546, 121.891820690015 24.977027184739, 121.891719936593 24.9773340247048, 121.891631395708 24.9781232598409, 121.891664980182 24.9783064478802, 121.891554115042 24.9786334761056, 121.89164055511 24.9787308335046, 121.891806950912 24.9787483890251, 121.892029829693 24.9787148045512, 121.892164549231 24.9786232105315, 121.892352316971 24.9784110177193, 121.892807731586 24.9782589581629, 121.892998436451 24.9781728732682, 121.893101288902 24.9780179267182, 121.893246503588 24.9778095503235, 121.893425111926 24.9777240625719, 121.894028105889 24.977688951531, 121.894305803357 24.9775049078113, 121.894452476493 24.977481089097, 121.894590645826 24.977546217517, 121.894604957392 24.9777858885351, 121.89487306072 24.9780179267183, 121.895163277074 24.9781198067265, 121.895677259857 24.9783777383305, 121.896025618801 24.9784178872708, 121.896306507128 24.9785262735274, 121.89637672921 24.9786132878461, 121.896602661125 24.9786529785879, 121.89681981528 24.9785964956091, 121.897666487499 24.9787796836484, 121.897799108007 24.9788415096117, 121.898078660587 24.9792193349427, 121.898165865727 24.9792254412108, 121.898362792869 24.9791933833039, 121.898557430161 24.9790788907793, 121.898728405664 24.9789476060178, 121.898900907735 24.9788697511011, 121.89901997996 24.978898755874, 121.89914210532 24.979161325397, 121.899472225432 24.979302532844, 121.899531761545 24.9794017596986, 121.899548553782 24.9796108993768, 121.899527181844 24.9798513336785, 121.899417269021 24.9802810622874, 121.899592824225 24.9805779795678, 121.899861831883 24.9809699039407, 121.89998248045 24.9810596114545, 121.900193528337 24.9811321233867, 121.900262989177 24.9812325366068, 121.900297334893 24.981459572007, 121.900381296078 24.9819060928528, 121.900454571293 24.9819961603055, 121.900686991118 24.9821419474534, 121.900734348998 24.9822206998481, 121.900625928438 24.9825854151653, 121.900653406644 24.9828434049873, 121.900743474097 24.9829121005021, 121.900849379682 24.98293347244, 121.901014248917 24.9830586509335, 121.901188468376 24.9833196938896, 121.901307540601 24.9835456258047, 121.901402187755 24.9835853165466, 121.90169567026 24.9836593550458, 121.901746046971 24.9837478959315, 121.901750626671 24.9840661851498, 121.901905000759 24.9845149958461, 121.901939920979 24.9847432176118, 121.901883438 24.9848653429713, 121.901771998609 24.984961516692, 121.901715515631 24.9850836420515, 121.901715706451 24.9851485211487, 121.901801194203 24.9853591873939, 121.901836114423 24.9855645106547, 121.90216928767 24.9854698635011, 121.902569629864 24.985230192483, 121.902785066631 24.985213400246, 121.903476029017 24.9849531205735, 121.90366665907 24.9848256522294, 121.903730965705 24.9846493337416, 121.903871409868 24.9845699522579, 121.904362201157 24.9846722322466, 121.904811011853 24.9848050435751, 121.904972827955 24.9849485408725, 121.905087702121 24.9849607534085, 121.905258677624 24.9849729659444, 121.905513995954 24.985095091304, 121.90574450757 24.9850676130981, 121.906360477353 24.9851546274168, 121.906513515694 24.9854011679864, 121.906628008218 24.9854790229031, 121.907243596359 24.9856026748296, 121.907539750356 24.9855629840878, 121.907705001233 24.9856461819889, 121.907735532573 24.9857164040707, 121.907625619749 24.9858858530071, 121.907605774378 24.9860881231338, 121.90747296305 24.9861171279067, 121.907428692607 24.9861629249165, 121.907448537978 24.9862789440081, 121.907500441256 24.9863804607132, 121.907708217836 24.9864826826958, 121.907921332649 24.986531573741, 121.908292403146 24.9865121426845, 121.908370127371 24.9867428081288, 121.908482787116 24.9869498702021, 121.908488893384 24.9871116863035, 121.908606820685 24.9872651062864, 121.90918844271 24.9876352987826, 121.909692973101 24.9881405924577, 121.910021566647 24.9883520219864, 121.91022307349 24.9883733939243, 121.910473430477 24.9885199443558, 121.910499382116 24.9886206977774, 121.910327261687 24.9888809774499, 121.910237766697 24.9890237114638, 121.91027535841 24.9891649189109, 121.910376111831 24.9892595660645, 121.910397483769 24.9895251887215, 121.910446333913 24.9897076134774, 121.910634101653 24.989809893466, 121.910689058065 24.9901167334318, 121.911167255176 24.9907548384355, 121.911318385308 24.9908052151463, 121.91139635771 24.9908960397411, 121.911403879409 24.9910464737265, 121.911523708569 24.9911670115239, 121.911659573032 24.9914036294081, 121.911726741979 24.9916081893853, 121.911674838702 24.9919028168152, 121.911812229731 24.9924913083915, 121.91217860581 24.9932210074148, 121.912334697285 24.9937675183988, 121.912362175491 24.9940003198654, 121.912713667541 24.9942789183419, 121.912851058571 24.9944796619016, 121.912855638272 24.9947315454557, 121.912585435914 24.9949109170775, 121.912483155925 24.9951215833228, 121.912480102791 24.9956146644619, 121.91259764845 24.995872654284, 121.91258238278 24.996136750374, 121.912554904574 24.9964267981029, 121.912354924298 24.9965924306218, 121.912167156557 24.9967405076202, 121.912376296235 24.9971374150388, 121.912608334419 24.9972824389032, 121.912603754718 24.9974763129115, 121.912393088472 24.9976442352809, 121.912246538041 24.9978289498872, 121.91218089566 24.9980289301635, 121.912161063802 24.9983566252024, 121.912341185195 24.9985174316016, 121.912614440687 24.9986677984506, 121.912989976167 24.9988830443968, 121.91295791826 24.9990128025913, 121.912820527231 24.9990097494573, 121.912087393432 24.9987105423264, 121.91171605601 24.9986342139767, 121.911580191548 24.9983403498303, 121.911641254228 24.9980915194102, 121.911668732434 24.9978991719689, 121.911519128868 24.9979449689788, 121.911337467396 24.9985189581686, 121.911372578437 24.9987082524759, 121.911455013054 24.9989815079679, 121.911254651136 24.999374598969, 121.911033298922 24.9997356320631, 121.910874535955 24.9999020278655, 121.910066218731 25.0002920657326, 121.909634963555 25.0003149642375, 121.909296065683 25.0004706740709, 121.909093032272 25.0006034853994, 121.909126616746 25.0007836203047, 121.909457881784 25.0011996098107, 121.909954016057 25.0014751551532, 121.909990653665 25.0019117533135, 121.909786093688 25.0023689601283, 121.90887435155 25.0026887759137, 121.908743066789 25.002991799462, 121.908675897841 25.003274214356, 121.908555299049 25.0037795080311, 121.908617888295 25.0044710428795, 121.90835035743 25.0048091774688, 121.907771025255 25.0049084043234, 121.9076672187 25.0050175538635, 121.907729807946 25.0053740072567, 121.907700803174 25.005567881265, 121.907632107659 25.0056991660265, 121.907580204381 25.0058869337668, 121.907251610835 25.0064418408692, 121.907190548156 25.0066937244233, 121.907240924867 25.0070051440901, 121.907218026362 25.0071524578051, 121.907233292032 25.0072394721238, 121.907295881278 25.0073280130094, 121.907346257989 25.007440978967, 121.907353890824 25.0078310168341, 121.907390528432 25.0080851902386, 121.907380605747 25.0082302141031, 121.907321832917 25.0083763828928, 121.907367629927 25.0087450488219, 121.907408083952 25.0088519085115, 121.907601194677 25.0090152511799, 121.90773496011 25.0092537772728, 121.907788580776 25.0094461247141, 121.907792397193 25.009658699168, 121.907788580776 25.0097621240819, 121.907717595411 25.009868220488, 121.907612834751 25.00993195466, 121.907528110282 25.010135369712, 121.907438615292 25.0102773404425, 121.907244741284 25.0104891516129, 121.907094183614 25.0108116388905, 121.906958891614 25.010941397085, 121.906897828935 25.0110482567746, 121.906896302368 25.0111532082555, 121.906911568038 25.0113238021171, 121.906888669533 25.011752004159, 121.906833713121 25.0118699314593, 121.906620375383 25.012076781287, 121.906058980371 25.0124359061725, 121.905702145336 25.0126198574953, 121.905415723204 25.0128026638928, 121.905203530392 25.0128782289591, 121.905304283813 25.0132190350405, 121.905309626798 25.0134266481518, 121.905269933657 25.0135642475053, 121.905211544869 25.0136452334634, 121.905126057117 25.0136108857061, 121.904819217151 25.0134918134805, 121.904719990296 25.0133925866259, 121.904611222398 25.0131781039632, 121.904591377027 25.012959804883, 121.904594430161 25.0127224237153, 121.904693657016 25.012405661064, 121.904705869552 25.0123171201783, 121.904638700604 25.0122774294365, 121.90420782707 25.0122438449626, 121.90398304008 25.0122575840656, 121.903732301451 25.0123140670443, 121.903633074597 25.0122942216734, 121.903455992825 25.0120492076708, 121.903411722382 25.0119408214142, 121.90347889133 25.0117232856175, 121.903449886557 25.0115752086191, 121.903128925847 25.0113576728224, 121.902656835004 25.0112584459677, 121.902187797295 25.0109737412233, 121.901899276133 25.0108714612347, 121.901654643772 25.0102043514581, 121.90167601571 25.0098936950748, 121.901927899264 25.0097372219579, 121.902131314316 25.0095838019749, 121.902244280273 25.0094525172134, 121.90230686952 25.0093487106578, 121.902293130417 25.0092456673857, 121.902167951924 25.0091296482941, 121.901814933306 25.0088640256371, 121.901723339287 25.0087319775921, 121.901714179885 25.0084503259816, 121.901663803174 25.008352625694, 121.901297045453 25.0080953991554, 121.900898229826 25.0078771000752, 121.900821901476 25.0076481150261, 121.900693669849 25.0071222126965, 121.900459723457 25.006845140787, 121.900406293612 25.0067367545304, 121.900407820179 25.00643983725, 121.900302487057 25.0063024462205, 121.899917410532 25.0061123886297, 121.899704836078 25.0061200214647, 121.899524701173 25.0061032292278, 121.899433107153 25.006039113414, 121.899425474318 25.0060009492392, 121.899536913709 25.0060803307229, 121.899720101748 25.0060910166918, 121.899937255903 25.0060864369908, 121.900311646459 25.0062810742826, 121.90042766555 25.0064322044151, 121.900435298385 25.0067352279634, 121.900485675096 25.0068268219831, 121.900721148055 25.0071115267276, 121.900831060878 25.0075000380276, 121.900843273414 25.0076313227891, 121.900919601764 25.0078557281373, 121.901063099062 25.0079534284249, 121.901422223947 25.0081518821342, 121.901686701679 25.0083297271891, 121.90173707839 25.0084503259816, 121.901753870626 25.0087350307261, 121.901813406739 25.0088228083282, 121.902101927901 25.0090334745735, 121.90232213519 25.0092242954478, 121.90233740086 25.0093441309568, 121.902244280273 25.0095028939242, 121.901982855676 25.0097265359889, 121.90170654705 25.0099028544767, 121.901680595411 25.0099898687954, 121.901685175112 25.0102119842931, 121.901921792996 25.0108455095958, 121.902186270728 25.0109355770484, 121.902640042767 25.0112233349269, 121.90314266495 25.0113393540184, 121.903477364763 25.0115507835472, 121.903495683567 25.0117248121845, 121.903445306856 25.0119347151462, 121.903465152227 25.0120202028979, 121.9036513934 25.0122728497355, 121.903721615482 25.0122835357045, 121.903955561874 25.0122316324266, 121.904174242596 25.0122194198907, 121.904655492841 25.0122514777976, 121.904739454026 25.0123079607764, 121.904736400892 25.012408714198, 121.904624961501 25.0127376893853, 121.9046203818 25.0129704908519, 121.904637174037 25.0131658914272, 121.904735255966 25.0133803740899, 121.904805478048 25.0134505961716, 121.905127583684 25.0135788277992, 121.905197042482 25.0136625027524, 121.905210781585 25.0138701158636, 121.905193989348 25.0140601734544, 121.905249709043 25.0144349456515, 121.905171854127 25.0147707903903, 121.90515735174 25.0148459738147, 121.905166701963 25.0148994036595, 121.905236733224 25.0149535967878, 121.905703290261 25.0150925143842, 121.905823889054 25.0152131131768, 121.905953074786 25.0153875234559, 121.906105349843 25.0156512379042, 121.90628567557 25.0158512181805, 121.906337578847 25.0161031017345, 121.90645817764 25.0162320966455, 121.906640029933 25.0163294152914, 121.906801082751 25.0163530770798, 121.907069376901 25.0164935212434, 121.907345113064 25.0165492409386, 121.907542231027 25.0166041973505, 121.907897539495 25.0166011442164, 121.908219072668 25.0167267043518, 121.908147324019 25.0168858489609, 121.907704619591 25.0182101458285, 121.907511400038 25.0190613560535, 121.907515325284 25.0193451483888, 121.907574098113 25.0198294517677, 121.907580776844 25.0201694945657, 121.907511374694 25.0203206581689, 121.90726708454 25.0204827976513, 121.907040089265 25.0205541390235, 121.906060766792 25.0208027528965, 121.905821926326 25.0208255875403, 121.905820485086 25.0207643348469, 121.906080223529 25.0207357352438, 121.907061707863 25.0204936069501, 121.907398957986 25.0203271437482, 121.907512081329 25.0203236778322, 121.909501198123 25.0209930774592, 121.910249597591 25.0212174828073, 121.911219730916 25.0212785454871, 121.911959352625 25.0212815986211, 121.912379158549 25.0212510672812, 121.912499757341 25.0213350284659, 121.91252570898 25.0216495012667, 121.91169640146 25.0216266027618, 121.910505036347 25.0216895631396, 121.909771782122 25.021858640945, 121.90952676812 25.0219868725725, 121.908540605841 25.0222097513537)","wkt1":null,"CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454084000'=='0100020200' || '0454084000'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
