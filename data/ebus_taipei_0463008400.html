
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231493261</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0463008400">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0463008400">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0463008400" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0463008400" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0463008400" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0463008400',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="ZU3lHVV-YCv5hpbA04UH-UOkSv87je1JA9sq4U20dxV3M4l_1Tf4fXr9GCz6ISJdfpJTWfWRGGBwnTHcFSZlFb2afqQ1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title"><font style="border-style:solid;}">瑞芳-南港</font></span> 

                        <a href="../EBus/VsSimpleMap?routeid=0463008400" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0463008400" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">瑞芳 - 南港</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0640 - 1700 <br>
                        [假日] 停駛
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 瑞芳-南港去班表:0640 1700<br/>瑞芳-南港返班表:0750 1810<br>
[假日]<br /> <br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content">瑞濱</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">六段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">基隆客運瑞芳站:02-2497-2055</span>
                </li>

                    <li>
                        <span class="stationlist-move-route-bus-item">備註 :</span>
                        <span class="stationlist-move-route-bus-content">例假日停駛</span>
                    </li>
            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 南港</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 瑞芳</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">海濱</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244700840" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.1235" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.8309551" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">瑞濱</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244701360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.121401" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8208995" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">深澳發電廠</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244701060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.127796" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8168011" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">建基煤礦</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244700760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.128932" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8148752" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">榮興</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2024900260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.133629" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8068206" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">調和市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2024900440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.138875" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.795963" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">調和街觀海街口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2024900740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.135594" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.7961025" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">崇慧花園社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2024900950" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.124651" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.798909" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">五坑口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014200160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.123849" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.791255" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">三坑口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014201460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.124827" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.788807" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">華妍閣社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014200660" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.125903" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.786051" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">深澳國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014200460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.126948" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.784705" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">萬源口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014201100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.126981" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.7820718" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">孝東路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014201560" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.12857" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.779494" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">南港展覽館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157100540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.054699" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.616456" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">南港轉運站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156100660" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.052323" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.606012" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">南港轉運站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156100660" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.052323" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.606012" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">捷運南港展覽館站(南港路)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156800620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.054878" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6179651" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">萬源口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014201140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.127087" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.7816172" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">深澳國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014200420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.126955" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.783667" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">華妍閣社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014200620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.125612" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.7859888" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">三坑口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014201420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.124577" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.7888244" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">五坑口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2014200120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.123775" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.79111" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">崇慧花園社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2024900900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.124472" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.798976" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">調和街觀海街口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2024900700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13565" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.796288" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">調和市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2024900400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.138959" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.796428" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">榮興</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244701520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.133452" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8066834" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">建基煤礦</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244700720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.12896" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8146191" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">深澳發電廠</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244701020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.127536" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.816844" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">瑞濱</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244701340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.12138" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.820607" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">海濱</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2244700800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.123568" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.8310838" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0463008400";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 16;
        var existBackNum = 15;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0463008400',
                        url: './StopStatusRecent3OfRoute?routeid=0463008400&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0463008400',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0463008400',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0463008400');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0463008400","Name":"瑞芳-南港","BeginStop":"瑞芳","GoDirStops":[{"UniStopId":"2244700840","Name":"海濱","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8309551,"Latitude":25.1235,"PublicId":"2244700840"},{"UniStopId":"2244701360","Name":"瑞濱","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8208995,"Latitude":25.121401,"PublicId":"2244701360"},{"UniStopId":"2244701060","Name":"深澳發電廠","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8168011,"Latitude":25.127796,"PublicId":"2244701060"},{"UniStopId":"2244700760","Name":"建基煤礦","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8148752,"Latitude":25.128932,"PublicId":"2244700760"},{"UniStopId":"2024900260","Name":"榮興","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8068206,"Latitude":25.133629,"PublicId":"2024900260"},{"UniStopId":"2024900440","Name":"調和市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.795963,"Latitude":25.138875,"PublicId":"2024900440"},{"UniStopId":"2024900740","Name":"調和街觀海街口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.7961025,"Latitude":25.135594,"PublicId":"2024900740"},{"UniStopId":"2024900950","Name":"崇慧花園社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.798909,"Latitude":25.124651,"PublicId":"2024900950"},{"UniStopId":"2014200160","Name":"五坑口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.791255,"Latitude":25.123849,"PublicId":"2014200160"},{"UniStopId":"2014201460","Name":"三坑口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.788807,"Latitude":25.124827,"PublicId":"2014201460"},{"UniStopId":"2014200660","Name":"華妍閣社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.786051,"Latitude":25.125903,"PublicId":"2014200660"},{"UniStopId":"2014200460","Name":"深澳國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.784705,"Latitude":25.126948,"PublicId":"2014200460"},{"UniStopId":"2014201100","Name":"萬源口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.7820718,"Latitude":25.126981,"PublicId":"2014201100"},{"UniStopId":"2014201560","Name":"孝東路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.779494,"Latitude":25.12857,"PublicId":"2014201560"},{"UniStopId":"1157100540","Name":"南港展覽館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.616456,"Latitude":25.054699,"PublicId":"1157100540"},{"UniStopId":"1156100660","Name":"南港轉運站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.606012,"Latitude":25.052323,"PublicId":"1156100660"}],"LastStop":"南港","BackDirStops":[{"UniStopId":"1156100660","Name":"南港轉運站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.606012,"Latitude":25.052323,"PublicId":"1156100660"},{"UniStopId":"1156800620","Name":"捷運南港展覽館站(南港路)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6179651,"Latitude":25.054878,"PublicId":"1156800620"},{"UniStopId":"2014201140","Name":"萬源口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.7816172,"Latitude":25.127087,"PublicId":"2014201140"},{"UniStopId":"2014200420","Name":"深澳國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.783667,"Latitude":25.126955,"PublicId":"2014200420"},{"UniStopId":"2014200620","Name":"華妍閣社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.7859888,"Latitude":25.125612,"PublicId":"2014200620"},{"UniStopId":"2014201420","Name":"三坑口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.7888244,"Latitude":25.124577,"PublicId":"2014201420"},{"UniStopId":"2014200120","Name":"五坑口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.79111,"Latitude":25.123775,"PublicId":"2014200120"},{"UniStopId":"2024900900","Name":"崇慧花園社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.798976,"Latitude":25.124472,"PublicId":"2024900900"},{"UniStopId":"2024900700","Name":"調和街觀海街口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.796288,"Latitude":25.13565,"PublicId":"2024900700"},{"UniStopId":"2024900400","Name":"調和市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.796428,"Latitude":25.138959,"PublicId":"2024900400"},{"UniStopId":"2244701520","Name":"榮興","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8066834,"Latitude":25.133452,"PublicId":"2244701520"},{"UniStopId":"2244700720","Name":"建基煤礦","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8146191,"Latitude":25.12896,"PublicId":"2244700720"},{"UniStopId":"2244701020","Name":"深澳發電廠","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.816844,"Latitude":25.127536,"PublicId":"2244701020"},{"UniStopId":"2244701340","Name":"瑞濱","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.820607,"Latitude":25.12138,"PublicId":"2244701340"},{"UniStopId":"2244700800","Name":"海濱","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.8310838,"Latitude":25.123568,"PublicId":"2244700800"}],"RouteMapUrl":"../MapOverview?nid=0463008400","RouteTracks":null,"StopDirection":null,"TicketPrice":"六段票","BusTimeDesc":"0640 - 1700","HeadwayDesc":"瑞芳-南港去班表:0640 1700;瑞芳-南港返班表:0750 1810","HolidayBusTimeDesc":"停駛","HolidayHeadwayDesc":"","RouteNote":"例假日停駛","SegmentBuffer":"瑞濱","StopLng":0,"StopLat":0,"IsNtpcMainLine":true,"orgphone":"基隆客運瑞芳站:02-2497-2055","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.831027991497 25.1237302372534, 121.831070899102 25.1236028146695, 121.831057896797 25.1233681230737, 121.830897643394 25.1229396971412, 121.830701308597 25.1226328427556, 121.830534554042 25.1224202550774, 121.830297587043 25.122169310601, 121.830171464689 25.1220964976959, 121.829529800964 25.1219242171616, 121.828245173281 25.1215634032124, 121.827998129496 25.1215465002166, 121.827740683868 25.1215608027515, 121.827089918529 25.1216583200351, 121.826788265065 25.1216401168088, 121.826510665864 25.121597209204, 121.826181707561 25.1213865718715, 121.825987648167 25.1211544807366, 121.825791313369 25.1210010535438, 121.825512413938 25.1208963849927, 121.824814840303 25.1207793642525, 121.823270166531 25.1208053688614, 121.821546060958 25.1208898838405, 121.821223278749 25.1209867510089, 121.821039621198 25.1210738664489, 121.82068823392 25.1213254610405, 121.81978034801 25.1222629271932, 121.819491371793 25.1227336106152, 121.819379226917 25.1230235620051, 121.819279109172 25.1235449544146, 121.819191668675 25.124234726667, 121.818834105301 25.1255083023905, 121.818823703458 25.1256896845379, 121.818633869813 25.1262201785606, 121.818388776373 25.1265998458513, 121.818152134432 25.1268436390602, 121.816921791371 25.1275698177652, 121.815097341094 25.1286773517671, 121.814947928349 25.128770090712, 121.814786064543 25.1288980361083, 121.814646956125 25.1290989704889, 121.814378614271 25.1299112949508, 121.81424422867 25.1301680444371, 121.814108555029 25.1302985659151, 121.813730729697 25.1305407176046, 121.813094866839 25.1307820106002, 121.812900372663 25.1308962168934, 121.812759546858 25.1310473470259, 121.812682264404 25.1311881728311, 121.812542726639 25.1315625633865, 121.812480900676 25.1319816060264, 121.812279536948 25.1322984640882, 121.81205284175 25.1324564637721, 121.811935630028 25.1325131375718, 121.811774195568 25.1325388983898, 121.811181267406 25.1324925289173, 121.809663525878 25.1323413987849, 121.809304591813 25.1323602900514, 121.809023798896 25.1324126703814, 121.807836225185 25.1326883111344, 121.807664486398 25.1327432675462, 121.80740516083 25.1329132889452, 121.806948335657 25.133399309712, 121.806839710875 25.1335049290659, 121.806579526612 25.1336534831165, 121.805674033859 25.133987515057, 121.805474387519 25.1340819713898, 121.80446198737 25.1347371548617, 121.803893102639 25.1349836000208, 121.803267544108 25.1352540886101, 121.802581877001 25.1355323054448, 121.802293355839 25.1357049029256, 121.801992383615 25.1359419024515, 121.801813775277 25.1361900649985, 121.80177084058 25.136392716767, 121.801784579683 25.1365953685355, 121.801865296913 25.1371346283263, 121.801954601082 25.1375476601087, 121.80201299227 25.137700507629, 121.802406274092 25.1382560826045, 121.802540659692 25.1384638865366, 121.802549246632 25.1385909732389, 121.802530355365 25.1387026034503, 121.801999253167 25.1396171124904, 121.801888910996 25.1397673839289, 121.801685829881 25.1398867423858, 121.800505125721 25.1402190569384, 121.800273278359 25.1402276438777, 121.79987956719 25.1401417744843, 121.799274187966 25.139936546634, 121.798029940455 25.1399142205917, 121.797783924643 25.1398626989556, 121.797629359735 25.1398850249979, 121.797196577992 25.1400447420697, 121.797083230393 25.1400653507241, 121.79696473063 25.1400241334153, 121.796719144165 25.1397905686651, 121.796558997746 25.1396780797597, 121.796349047079 25.1395776125694, 121.796189330007 25.139543264812, 121.796271764625 25.1394110259462, 121.796419459982 25.13886403791, 121.796304394994 25.1384819191092, 121.796251155971 25.1381684958232, 121.796280351564 25.1378207247798, 121.796337025364 25.1373544539735, 121.796338742752 25.1368710092884, 121.796242569031 25.1364536840364, 121.796117199717 25.1359917066997, 121.796139525759 25.1357358159073, 121.796204786498 25.1355202837298, 121.796696388775 25.1347964047431, 121.796954426303 25.1345018727236, 121.797458050295 25.1341008626563, 121.797631935817 25.1339437216663, 121.797841457137 25.1335787767443, 121.798030369802 25.133098766835, 121.798338211578 25.1323637248272, 121.79864090119 25.1317420304187, 121.799256155394 25.1305269785017, 121.799438198508 25.1301414249252, 121.79954124178 25.1298537624572, 121.799620241622 25.1296021651344, 121.799639132888 25.1292226224154, 121.799591046028 25.128875710066, 121.799354046502 25.128051363889, 121.799321416133 25.1278779077143, 121.799340307399 25.1274459846653, 121.799381524708 25.1272793980421, 121.799503459247 25.1269754203893, 121.799838349881 25.1264009541473, 121.799939675765 25.1262060306242, 121.799982610462 25.1260188353465, 121.799992914789 25.125671922997, 121.799896741069 25.1254709886164, 121.799747328324 25.1252511629692, 121.799444638712 25.1250270438523, 121.799210644615 25.124809794287, 121.799038905828 25.1246329033365, 121.798939297332 25.1244225233226, 121.798825949733 25.1237991115263, 121.798733210788 25.1236273727394, 121.798623297964 25.1234916990978, 121.798375564764 25.1232727321445, 121.798048831722 25.1229833522887, 121.797974984044 25.1228665699136, 121.797928614571 25.1226278529999, 121.797940636286 25.1217288004506, 121.79788911465 25.1209250629281, 121.797711794353 25.1198499781223, 121.797555512057 25.1199049345341, 121.797215039912 25.1200929885057, 121.796941545894 25.1201891622264, 121.79635033512 25.12019431439, 121.795595972499 25.1203068032954, 121.795412211997 25.1203858031373, 121.79523188627 25.1205523897606, 121.794951522701 25.1210289648941, 121.79486393592 25.121567365991, 121.794752305708 25.1216824309782, 121.794356447804 25.1219529195675, 121.794234513266 25.1219924194885, 121.794028426721 25.1219786803855, 121.793569454814 25.1217940611896, 121.793291237979 25.1217133439598, 121.793016026573 25.1216927353054, 121.792596554586 25.1218275502531, 121.792235903134 25.1221401148452, 121.792005343812 25.1224063099648, 121.791613350031 25.1235243294673, 121.791487980717 25.1236428292302, 121.790856840675 25.1239450894951, 121.79010720087 25.1243169039687, 121.789437419602 25.1244525776103, 121.78913472999 25.1245856751701, 121.788814866499 25.1246973053816, 121.788224943766 25.124638914194, 121.787869444478 25.1246698271757, 121.787357233546 25.124887935435, 121.786851892165 25.1251275110427, 121.785815877934 25.1258823030109, 121.785478411218 25.1261399111912, 121.7850348958 25.1265666820766, 121.784668662837 25.1268320185023, 121.784478032784 25.1269247574472, 121.784161604069 25.1269917355741, 121.783702632161 25.1269814312469, 121.783070633426 25.1269608225924, 121.782666188583 25.126835453278, 121.78244292816 25.1268371706659, 121.782147108099 25.1268766705869, 121.781968499761 25.1269230400593, 121.781795043586 25.1270140616164, 121.781602696145 25.1272785393481, 121.781508239812 25.127476038953, 121.781030805985 25.1278538642841, 121.780924327937 25.1279706466592, 121.780786936907 25.1282832112513, 121.78059115469 25.1283622110933, 121.780147209926 25.128351906766, 121.778896951558 25.1284446457109, 121.778673691135 25.1282832112513, 121.77841951773 25.1280736899313, 121.778229746371 25.1280032770287, 121.777958399088 25.1279517553926, 121.777779790749 25.1277628427271, 121.777745442992 25.1276391908006, 121.777879399246 25.1271961047304, 121.777965268639 25.1269591052046, 121.778092355341 25.1266499753882, 121.778652223787 25.1256573252001, 121.779206081374 25.1248982397622, 121.779643156587 25.124312610499, 121.780416839822 25.1235311990188, 121.780581709057 25.1232735908385, 121.780801534704 25.1228013091746, 121.781007621249 25.1219408978524, 121.7810144908 25.1212075732325, 121.780908012752 25.1203677705647, 121.780822143359 25.1200655102998, 121.780567969954 25.1195485765514, 121.780003808039 25.1187568607439, 121.779408733143 25.1181643619293, 121.778672832441 25.1176474281808, 121.777263715695 25.11700340773, 121.776541554096 25.1165689085993, 121.776160293989 25.1162391701285, 121.775658816732 25.1154955411814, 121.775538599581 25.1151005419716, 121.775480208393 25.1145234996477, 121.775504251823 25.1141971959527, 121.775562643011 25.1138640227062, 121.7758614685 25.1129950244446, 121.776184337419 25.112428286448, 121.776486597684 25.1118735701664, 121.776644597368 25.1115541360228, 121.776733901537 25.1111539846495, 121.77672359721 25.1107967679728, 121.776633434347 25.1105614858348, 121.776444521682 25.1102901385515, 121.776314000204 25.110166486625, 121.77606669635 25.1100187912683, 121.775749838289 25.1099500957535, 121.775351404303 25.1099397914263, 121.774468666939 25.1100187912683, 121.773134256565 25.1101046606617, 121.772048867432 25.1101149649889, 121.771339586242 25.1100977911102, 121.769702915603 25.1098934219539, 121.767757115148 25.1094228576778, 121.766523171964 25.1091257495766, 121.764783458053 25.1085624463557, 121.763673166796 25.1082224035577, 121.761917137701 25.1076900133184, 121.761579670985 25.1074719050591, 121.761212149981 25.1071868186729, 121.761016367764 25.106910319226, 121.760400684213 25.1055518654219, 121.760162825993 25.1051963661331, 121.759712870371 25.1047464105115, 121.759386566676 25.1045471935188, 121.758719361489 25.1042294767631, 121.756845691325 25.1034102827497, 121.755088803535 25.1026185669423, 121.753163611734 25.1017650251716, 121.751919364224 25.1012068741143, 121.750647638507 25.1007225707353, 121.750220867621 25.100660744772, 121.749839607515 25.1006435708933, 121.749354445442 25.1006916577537, 121.749017837419 25.1007672228199, 121.74848544718 25.1009595702612, 121.747233471424 25.1015348951972, 121.745428496774 25.1023334805561, 121.744232336123 25.1028160665472, 121.743355609617 25.1030393269701, 121.742338057304 25.1031492397937, 121.741135027102 25.1032248048599, 121.740454082813 25.1033209785806, 121.739911388246 25.1034205870769, 121.738985716185 25.1036713257058, 121.73729752391 25.1041676507998, 121.735557809999 25.1045746717247, 121.733808650455 25.1048872363168, 121.731941849842 25.1051963661331, 121.731502198547 25.1052101052361, 121.730997286514 25.1051688879272, 121.72947739825 25.1046364976879, 121.728948442787 25.1045403239673, 121.727407087175 25.1047343887965, 121.724746853366 25.1050778663702, 121.724417114895 25.1049954317525, 121.723883865962 25.1048116712505, 121.723382388704 25.1044681936768, 121.722939302634 25.1041418899818, 121.722598401142 25.1039512599284, 121.722199967157 25.1037760863658, 121.721626359609 25.103576869373, 121.720895611071 25.103472108713, 121.718620072145 25.1029654792918, 121.717234140135 25.1026700885783, 121.716024240381 25.102400458683, 121.713731527577 25.101916155304, 121.712264019643 25.1015486343001, 121.711232728228 25.1012772870169, 121.710256393224 25.1009011790736, 121.709569438077 25.1005233537425, 121.708436820777 25.0996921380141, 121.706965878068 25.0984693578516, 121.706418890032 25.0980692064782, 121.7056589459 25.097653598614, 121.705222729381 25.0974921641544, 121.704631089261 25.0973479035734, 121.704066927346 25.0973101210403, 121.703431493834 25.0973066862646, 121.701537215015 25.097536816239, 121.700619271199 25.0974852946029, 121.70008688096 25.0974097295367, 121.699340675931 25.0971057518839, 121.698319688843 25.096372427264, 121.697566614263 25.0952887555189, 121.697297843062 25.094725452298, 121.696377323164 25.092163109598, 121.695944541421 25.0906998951339, 121.695772802634 25.0902894394333, 121.695432759836 25.089600766898, 121.695188890759 25.0892298111183, 121.694796467631 25.0888537031751, 121.694115523341 25.0883745519597, 121.693754871889 25.0881787697427, 121.693304916267 25.0880035961801, 121.692180027213 25.0877253793454, 121.689257891754 25.0870985327733, 121.687291482645 25.086670903194, 121.684620944509 25.0861075999731, 121.683643750812 25.0859444481256, 121.681075397254 25.0857933179932, 121.678845369107 25.0857624050115, 121.677965207824 25.085690274721, 121.677270524431 25.0855837966732, 121.675378821694 25.0851355584395, 121.673316238864 25.0843713208379, 121.672233425813 25.0838681261924, 121.670683483261 25.082997410543, 121.669486463917 25.0822572163716, 121.6677192718 25.0811460664206, 121.666712023815 25.0805226546243, 121.664745614706 25.0792346137228, 121.662614336361 25.0779259641669, 121.661046361236 25.0769796834513, 121.659874244016 25.0762704022615, 121.658341475343 25.0754786864541, 121.657372009892 25.0750682307535, 121.656401685746 25.0747522313857, 121.65501661243 25.0743452104608, 121.653647854298 25.0740566892989, 121.65250665006 25.0737904941792, 121.65124522867 25.0735912771865, 121.649718470855 25.0732787125944, 121.648436440811 25.0730520173957, 121.647553703447 25.0728081483184, 121.646955193774 25.0725866052833, 121.646366988429 25.072224236443, 121.645820859087 25.0717605417185, 121.64557699001 25.0713724120602, 121.645432729429 25.0710409562015, 121.644940697804 25.0697391761971, 121.644586915903 25.0686108523674, 121.644195351469 25.0676628542639, 121.643676700333 25.0660021401949, 121.642738147863 25.0631066242484, 121.641669073915 25.0601114998055, 121.641146988003 25.0591566321505, 121.640634347724 25.0583666337309, 121.640064174951 25.0576350264989, 121.639545523815 25.0570562667872, 121.638871449077 25.0564191158879, 121.63809089629 25.055802573643, 121.637564516909 25.0554024222697, 121.636787398898 25.0549198362786, 121.636274758619 25.054679401977, 121.635309586637 25.054195098598, 121.634551359893 25.0538979904967, 121.632567776905 25.0531646658768, 121.631309790291 25.052599645268, 121.63004149935 25.0518731901996, 121.629041120917 25.051201691543, 121.628222785597 25.0504237148385, 121.627796014712 25.0499479983988, 121.627105624789 25.0489038265747, 121.627019755395 25.048704609582, 121.626779321094 25.0481533280761, 121.626504539035 25.0475591118736, 121.626276985142 25.047004395592, 121.625342726142 25.0473203949598, 121.624580205928 25.0476501334306, 121.623494387448 25.0481833823638, 121.623042285091 25.0483027408207, 121.622731437887 25.0484349796866, 121.622552400202 25.0485715120221, 121.62211103152 25.0490644023404, 121.62187875481 25.0492971083966, 121.621593239077 25.0494903145319, 121.620746996205 25.0499110745597, 121.619540960574 25.0504271496142, 121.619609656089 25.0505799971345, 121.619602786538 25.0510763222286, 121.619621677804 25.0512300284428, 121.61968178638 25.0514515714778, 121.619800286142 25.051671397125, 121.619927802192 25.0518345489726, 121.620066910609 25.0519324400811, 121.620743990776 25.052338602312, 121.620929468666 25.0524759933415, 121.621047968429 25.0526906668251, 121.621168614927 25.0530367204806, 121.621299565752 25.0536704366041, 121.6214060438 25.0540989248774, 121.621500500132 25.0543307722396, 121.621648195489 25.0546081303804, 121.621667086756 25.0548726081122, 121.621025642387 25.0548760428879, 121.620306915564 25.0547249127555, 121.619237841615 25.0546836954466, 121.619014581193 25.0547077388768, 121.618537147365 25.0548210864761, 121.616701259734 25.055071825105, 121.616336314811 25.0530933942803, 121.615260371312 25.0530075248868, 121.612923006423 25.0527396123793, 121.611238248923 25.0525369606108, 121.609450448152 25.0523446131695, 121.607907375152 25.052141961401, 121.607701288608 25.0533235242547, 121.606512856203 25.0531328942012, 121.605323994451 25.0529302424328, 121.605437825062 25.0522060414321, 121.606352334102 25.0523399976859, 121.606393551411 25.0523365629101, 121.606455377374 25.0523022151528, 121.606486290356 25.0521064329357, 121.607880809305 25.0522670087015, 121.611529775514 25.0526880907432, 121.615214431187 25.0531397637526, 121.616225972641 25.0532496765762, 121.616582330624 25.0552023465829, 121.618670674272 25.0549206949724, 121.619256303535 25.0548039125973, 121.620198290781 25.0548176517003, 121.621040669531 25.0549790861599, 121.621750809415 25.0549859557114, 121.621702722554 25.0546287390348, 121.621500070786 25.0542680875823, 121.621344647184 25.0536927626463, 121.621220995257 25.0530985464438, 121.621062995573 25.0526417212707, 121.620939343647 25.052428765175, 121.620285877563 25.0520200268623, 121.619928660886 25.0517761577849, 121.619750052548 25.0514979409502, 121.61969166136 25.0512025502368, 121.619647009276 25.0507096599185, 121.619602357191 25.0504348778595, 121.620364018711 25.0501257480432, 121.621157451906 25.049761661815, 121.621775711539 25.0494422276715, 121.622041047964 25.0492275541879, 121.62253994914 25.0486590988034, 121.622756340012 25.048480490465, 121.623048295949 25.0483534037627, 121.623556642759 25.0482160127333, 121.623919011599 25.0480459913343, 121.625327269651 25.0473762100655, 121.625607203874 25.0477901005418, 121.625875116381 25.0481885345274, 121.626493376014 25.0489750981712, 121.627222407164 25.0498389442691, 121.628064785914 25.0506066166464, 121.629019653569 25.0513674194722, 121.629838847582 25.0519461791839, 121.630972323575 25.0526176778406, 121.632560907354 25.0533286764182, 121.634228490974 25.0539125882936, 121.635156739117 25.0542801092974, 121.636242986944 25.0547609779007, 121.63678997498 25.0550993033108, 121.63791400534 25.0558583887487, 121.638762394947 25.0565092787509, 121.639420583848 25.0571369840169, 121.640231620269 25.0580592213024, 121.640510266451 25.0583975467125, 121.641022477383 25.0592768493013, 121.641720595551 25.0606748030263, 121.642377496411 25.0625330167002, 121.642889277996 25.0640855353335, 121.643383885702 25.0656689669484, 121.643796917484 25.0669449861348, 121.643995275783 25.0679788536317, 121.643967797577 25.06868126527, 121.64390940639 25.0691054600735, 121.643473189871 25.0703883488114, 121.643284277206 25.0709842824018, 121.643277407654 25.0712968469939, 121.643346103169 25.0718034764152, 121.643497233301 25.0722276712187, 121.64367584164 25.0725402358108, 121.643912841166 25.0727944092154, 121.644483872632 25.0732907343094, 121.645277305827 25.0738523201425, 121.645958250117 25.07422499331, 121.646741378985 25.074551297005, 121.647089150029 25.0746131229683, 121.647635279371 25.0746371663984, 121.648229495574 25.0745478622293, 121.649515819087 25.0740584066867, 121.649997546384 25.0739072765543, 121.650430328127 25.0738523201425, 121.651179109238 25.0738420158152, 121.652984083888 25.0741305369772, 121.654675710938 25.0745238187991, 121.655514654912 25.0747367748948, 121.656938369455 25.075112882838, 121.658265051584 25.0756658817317, 121.659474951337 25.0762240327891, 121.660324199638 25.0767203578831, 121.661540968943 25.0774502477273, 121.66391268159 25.0789752881546, 121.667539804768 25.0811598055235, 121.670002538972 25.0827638457928, 121.67186590481 25.0838269088835, 121.673175413059 25.0844812336615, 121.674997561588 25.0851235367244, 121.677176926793 25.0856816877817, 121.67876293449 25.0858894917138, 121.679772758557 25.0859307090226, 121.681536515898 25.0859547524528, 121.683149143107 25.0860612305006, 121.684705955209 25.0862810561478, 121.686751364161 25.0867533378117, 121.69024538978 25.0874900972074, 121.692854960646 25.0880207700588, 121.693611470002 25.088292117342, 121.694325903356 25.0886836817761, 121.694938152131 25.0892246589547, 121.695471401064 25.0899957661077, 121.696196997438 25.0919862186475, 121.696763735435 25.0936538022679, 121.697420636295 25.0952526903736, 121.697962472167 25.0961405799017, 121.698522340613 25.0967141874498, 121.69895168758 25.0970507954721, 121.699260817396 25.0972122299317, 121.699718501263 25.097392555658, 121.700456978047 25.0975952074265, 121.7011997483 25.0976501638383, 121.702176083303 25.0975849030992, 121.703431493835 25.0974131643124, 121.704080666449 25.0974131643124, 121.704651697916 25.097457816397, 121.705078468801 25.0975642944448, 121.705676119779 25.097797859195, 121.706326151088 25.0981396193808, 121.707697485301 25.0992267259017, 121.709176156256 25.1004323321855, 121.710829142079 25.101275569629, 121.712369638997 25.1017031992082, 121.714717308214 25.1022115460174, 121.717584487261 25.1028383925894, 121.7195749398 25.1032849134353, 121.721295762445 25.1037400212205, 121.721917456853 25.1040285423824, 121.722151880297 25.1041453247575, 121.722938443941 25.1046914540997, 121.723209791224 25.1049868448131, 121.723880431187 25.1051826270301, 121.724770896797 25.1051826270301, 121.726675479943 25.10494906228, 121.728482171981 25.1046811497725, 121.728925258051 25.1047979321475, 121.729131344595 25.1048803667652, 121.729503159069 25.1051345401698, 121.729743593371 25.1053509310412, 121.730414233333 25.1058369518081, 121.730733667477 25.1059743428376, 121.730946623573 25.1060155601464, 121.731327883679 25.1060464731281, 121.731864567388 25.1059571689589, 121.733338944874 25.1051156489032, 121.735676309763 25.1046880193239, 121.738293608875 25.1040216728309, 121.739947453392 25.1035287825126, 121.740528789186 25.1034223044648, 121.7421405577 25.1032711743323, 121.743224229445 25.1031715658359, 121.744031401744 25.1029723488432, 121.745207812434 25.1025412844881, 121.747005058838 25.1017667425594, 121.748638294701 25.1009990701821, 121.74915093498 25.100817027068, 121.749621499256 25.1007380272261, 121.750526562663 25.1007723749834, 121.751434202151 25.1011089830057, 121.752729971298 25.1016894601053, 121.75479942368 25.1025910887363, 121.755968106125 25.1031251963635, 121.757934515234 25.1039959120129, 121.759286099487 25.1046124542577, 121.759626142285 25.1048597581108, 121.760073521825 25.1052770833629, 121.760287336614 25.1055810610156, 121.760926204901 25.1070425580919, 121.761352117093 25.1075354484102, 121.761633768703 25.1077277958514, 121.762393712835 25.1081245124491, 121.764397904478 25.1086946852215, 121.76653948715 25.1093387056722, 121.768303244491 25.1098006830089, 121.769871219615 25.1102059865459, 121.772476497012 25.1105786597134, 121.773470005894 25.1107641376032, 121.775515414845 25.1109187025114, 121.775797066456 25.1110698326438, 121.775910414055 25.111238136655, 121.775976533488 25.1115489838592, 121.775801359926 25.1123819169755, 121.775578099503 25.1135188277445, 121.77535483908 25.1145166300962, 121.775365143407 25.1149940639237, 121.775488795333 25.1155161498358, 121.775849446786 25.1161567355108, 121.776296826326 25.1166736692592, 121.777097987766 25.1171493856988, 121.777826160223 25.1174962980483, 121.778713191057 25.1179685797122, 121.779438787431 25.1185095568908, 121.780195296787 25.1193665334373, 121.780450328886 25.1197701195864, 121.780618632897 25.1201788578991, 121.78081784989 25.1211526168206, 121.780745719599 25.1222929623654, 121.780501850522 25.1230606347427, 121.780185851154 25.1234831121584, 121.779305689872 25.1245496100248, 121.778449572019 25.1256899555696, 121.777700790908 25.1270132029224, 121.777491269588 25.1280058531105, 121.778095790118 25.1280676790737, 121.778570647864 25.1282789177816, 121.778797343062 25.1285227868589, 121.779133951085 25.1285262216347, 121.780642676327 25.1283922653809, 121.78078521952 25.128325287254, 121.780905436671 25.1281810266731, 121.780981001737 25.1279457445351, 121.781525843039 25.1275189736497, 121.781682554682 25.1272587893876, 121.781838836978 25.1270423985162, 121.781995119274 25.1269582465106, 121.78247126506 25.1268783879747, 121.78285638929 25.1269333443865, 121.78306591061 25.1270243659435, 121.784191658358 25.127044974598, 121.784478462132 25.1269779964711, 121.784703439943 25.1268629314839, 121.785145237972 25.1265357690949, 121.78561837833 25.126090106943, 121.786900408374 25.1251661522697, 121.787866009703 25.1247273596692, 121.788191454704 25.1246878597482, 121.788825600174 25.1247376639964, 121.789489370586 25.1244912188373, 121.79011449977 25.1243727190743, 121.791212769312 25.1238360353654, 121.791531344761 25.1236857639269, 121.791622366318 25.1235981771456, 121.791694496609 25.123488264322, 121.792052142633 25.1224432338039, 121.792421810371 25.1220224737761, 121.792636483855 25.1218661914801, 121.793033200453 25.1217459743293, 121.793324297696 25.1217648655958, 121.794016834354 25.122024191164, 121.794245676288 25.1220465172063, 121.794417415075 25.1219743869158, 121.794852343552 25.121671267957, 121.794915886904 25.1215579203576, 121.795017212788 25.1210555844061, 121.795290706806 25.1205961831512, 121.795512679188 25.1204115639553, 121.795662091932 25.1203583249314, 121.796349476427 25.1202424012503, 121.796935535037 25.1202338143109, 121.797246811588 25.1201290536509, 121.797657696636 25.119931554046, 121.797832870198 25.1209894649731, 121.797880957059 25.1216901592235, 121.797870652731 25.1226295703877, 121.797925609143 25.1228803090165, 121.797997739434 25.123003960943, 121.798595390412 25.1235449381217, 121.798746520544 25.1238059810777, 121.798815216059 25.1240584370944, 121.79888734635 25.1244671754071, 121.799042769952 25.1247093270966, 121.799351899768 25.125018456913, 121.799722855548 25.1253001085234, 121.799867116129 25.1255199341706, 121.799942681195 25.1257191511634, 121.799922072541 25.1260351505312, 121.799867116129 25.126220628421, 121.799533942882 25.1268165620114, 121.799437769162 25.1269642573681, 121.799307247684 25.1273180392691, 121.799272899926 25.1277971904844, 121.799290073805 25.1279998422529, 121.799537377658 25.1288911665567, 121.799595768846 25.1293050570331, 121.799561421088 25.1296244911767, 121.799379377974 25.1301517292523, 121.798596249106 25.1317214217643, 121.798266510635 25.1323997899724, 121.79784403322 25.1334388096329, 121.797558088139 25.1339557433814, 121.797218045341 25.1342202211131, 121.796919219852 25.1344623728026, 121.796574883585 25.1348831328304, 121.796148971393 25.1355151315661, 121.796045928121 25.1359410437575, 121.796269188544 25.1367928681404, 121.796282927647 25.137098563181, 121.796210797356 25.1378782572734, 121.796124927963 25.1381118220235, 121.796155840945 25.1386373427113, 121.796073406327 25.1388228206011, 121.795788319941 25.1391130591509, 121.795671537566 25.1395939277541, 121.796217666908 25.1395887755905, 121.79645810121 25.1396677754325, 121.796674492081 25.1398120360135, 121.796926089404 25.1400610572544, 121.797037719615 25.1401074267269, 121.797173393257 25.1401211658298, 121.797592435897 25.1399597313702, 121.797761169255 25.1399202314492, 121.798027364374 25.1399562965944, 121.799237264128 25.1399923617397, 121.799818599921 25.1401778396295, 121.800251811011 25.1402722959622, 121.800512853967 25.1402740133501, 121.801391297862 25.1400249921092, 121.801771269928 25.1399150792856, 121.801951595654 25.1397811230318, 121.802060649784 25.139635145063, 121.802590034594 25.1386845708777, 121.802615795413 25.1385154081726, 121.802581447655 25.1383951910218, 121.802070954111 25.137686768526, 121.802006981413 25.1375184645149, 121.801842112178 25.1365824881265, 121.801830090463 25.136379836358, 121.801891916426 25.1361677389562, 121.802092850807 25.1359273046546, 121.802493431527 25.1356413595745, 121.803368011299 25.1352695451009, 121.804177759679 25.1349252088332, 121.804522095947 25.134771502619, 121.805496284215 25.1341249060864, 121.805658148022 25.1340553518778, 121.806639635189 25.1336783852406, 121.806881786878 25.1335375594354, 121.807392280422 25.1329991583385, 121.807653323378 25.1328068108973, 121.809110097638 25.1324367138116, 121.809550607626 25.1323851921755, 121.811255115086 25.1325431918594, 121.811808972673 25.132587843944, 121.811977276684 25.1325569309624, 121.812310449931 25.1323336705394, 121.812564193989 25.1319154865934, 121.812608846073 25.1315599873046, 121.812751389266 25.1311684228706, 121.812931714992 25.1309382928962, 121.813136942843 25.1308154996636, 121.813748332924 25.1305905218528, 121.814123152826 25.1303492288572, 121.81428973945 25.1301963813369, 121.814477364074 25.1298151212301, 121.814702771232 25.1291195791433, 121.814907140388 25.1288671231266, 121.818213245263 25.1268793953975, 121.818472641237 25.1265985456208, 121.818709283178 25.1262292801737, 121.818899766939 25.1256714813117, 121.819321691719 25.1242646319674, 121.819547931817 25.1229435978326, 121.819722162697 25.1225587296201, 121.820014064433 25.1221595588727, 121.820789001779 25.1214067254435, 121.821179721029 25.1211609818889, 121.821645203529 25.1210179565397, 121.82443549807 25.1209087371821, 121.825434725169 25.1209217394866, 121.825734428287 25.1210283583833, 121.825935313891 25.1212051897241, 121.826132298804 25.1214158270566, 121.826473609296 25.1216420671545, 121.826726504118 25.1216914759115, 121.827082767261 25.1217252819032, 121.827941569472 25.1215978593193, 121.828235421553 25.1216212634674, 121.830153261463 25.1221374549551, 121.830445163199 25.1224118035795, 121.830715611132 25.1227524639568, 121.830843683831 25.1229644015197, 121.830973706876 25.1233440688105, 121.831007512867 25.1235625075256, 121.830963305032 25.1237081333358)","wkt0":"LINESTRING (121.830963305032 25.1237081333358, 121.831007512867 25.1235625075256, 121.830973706876 25.1233440688105, 121.830843683831 25.1229644015197, 121.830715611132 25.1227524639568, 121.830445163199 25.1224118035795, 121.830153261463 25.1221374549551, 121.828235421553 25.1216212634674, 121.827941569472 25.1215978593193, 121.827082767261 25.1217252819032, 121.826726504118 25.1216914759115, 121.826473609296 25.1216420671545, 121.826132298804 25.1214158270566, 121.825935313891 25.1212051897241, 121.825734428287 25.1210283583833, 121.825434725169 25.1209217394866, 121.82443549807 25.1209087371821, 121.821645203529 25.1210179565397, 121.821179721029 25.1211609818889, 121.820789001779 25.1214067254435, 121.820014064433 25.1221595588727, 121.819722162697 25.1225587296201, 121.819547931817 25.1229435978326, 121.819321691719 25.1242646319674, 121.818899766939 25.1256714813117, 121.818709283178 25.1262292801737, 121.818472641237 25.1265985456208, 121.818213245263 25.1268793953975, 121.814907140388 25.1288671231266, 121.814702771232 25.1291195791433, 121.814477364074 25.1298151212301, 121.81428973945 25.1301963813369, 121.814123152826 25.1303492288572, 121.813748332924 25.1305905218528, 121.813136942843 25.1308154996636, 121.812931714992 25.1309382928962, 121.812751389266 25.1311684228706, 121.812608846073 25.1315599873046, 121.812564193989 25.1319154865934, 121.812310449931 25.1323336705394, 121.811977276684 25.1325569309624, 121.811808972673 25.132587843944, 121.811255115086 25.1325431918594, 121.809550607626 25.1323851921755, 121.809110097638 25.1324367138116, 121.807653323378 25.1328068108973, 121.807392280422 25.1329991583385, 121.806881786878 25.1335375594354, 121.806639635189 25.1336783852406, 121.805658148022 25.1340553518778, 121.805496284215 25.1341249060864, 121.804522095947 25.134771502619, 121.804177759679 25.1349252088332, 121.803368011299 25.1352695451009, 121.802493431527 25.1356413595745, 121.802092850807 25.1359273046546, 121.801891916426 25.1361677389562, 121.801830090463 25.136379836358, 121.801842112178 25.1365824881265, 121.802006981413 25.1375184645149, 121.802070954111 25.137686768526, 121.802581447655 25.1383951910218, 121.802615795413 25.1385154081726, 121.802590034594 25.1386845708777, 121.802060649784 25.139635145063, 121.801951595654 25.1397811230318, 121.801771269928 25.1399150792856, 121.801391297862 25.1400249921092, 121.800512853967 25.1402740133501, 121.800251811011 25.1402722959622, 121.799818599921 25.1401778396295, 121.799237264128 25.1399923617397, 121.798027364374 25.1399562965944, 121.797761169255 25.1399202314492, 121.797592435897 25.1399597313702, 121.797173393257 25.1401211658298, 121.797037719615 25.1401074267269, 121.796926089404 25.1400610572544, 121.796674492081 25.1398120360135, 121.79645810121 25.1396677754325, 121.796217666908 25.1395887755905, 121.795671537566 25.1395939277541, 121.795788319941 25.1391130591509, 121.796073406327 25.1388228206011, 121.796155840945 25.1386373427113, 121.796124927963 25.1381118220235, 121.796210797356 25.1378782572734, 121.796282927647 25.137098563181, 121.796269188544 25.1367928681404, 121.796045928121 25.1359410437575, 121.796148971393 25.1355151315661, 121.796574883585 25.1348831328304, 121.796919219852 25.1344623728026, 121.797218045341 25.1342202211131, 121.797558088139 25.1339557433814, 121.79784403322 25.1334388096329, 121.798266510635 25.1323997899724, 121.798596249106 25.1317214217643, 121.799379377974 25.1301517292523, 121.799561421088 25.1296244911767, 121.799595768846 25.1293050570331, 121.799537377658 25.1288911665567, 121.799290073805 25.1279998422529, 121.799272899926 25.1277971904844, 121.799307247684 25.1273180392691, 121.799437769162 25.1269642573681, 121.799533942882 25.1268165620114, 121.799867116129 25.126220628421, 121.799922072541 25.1260351505312, 121.799942681195 25.1257191511634, 121.799867116129 25.1255199341706, 121.799722855548 25.1253001085234, 121.799351899768 25.125018456913, 121.799042769952 25.1247093270966, 121.79888734635 25.1244671754071, 121.798815216059 25.1240584370944, 121.798746520544 25.1238059810777, 121.798595390412 25.1235449381217, 121.797997739434 25.123003960943, 121.797925609143 25.1228803090165, 121.797870652731 25.1226295703877, 121.797880957059 25.1216901592235, 121.797832870198 25.1209894649731, 121.797657696636 25.119931554046, 121.797246811588 25.1201290536509, 121.796935535037 25.1202338143109, 121.796349476427 25.1202424012503, 121.795662091932 25.1203583249314, 121.795512679188 25.1204115639553, 121.795290706806 25.1205961831512, 121.795017212788 25.1210555844061, 121.794915886904 25.1215579203576, 121.794852343552 25.121671267957, 121.794417415075 25.1219743869158, 121.794245676288 25.1220465172063, 121.794016834354 25.122024191164, 121.793324297696 25.1217648655958, 121.793033200453 25.1217459743293, 121.792636483855 25.1218661914801, 121.792421810371 25.1220224737761, 121.792052142633 25.1224432338039, 121.791694496609 25.123488264322, 121.791622366318 25.1235981771456, 121.791531344761 25.1236857639269, 121.791212769312 25.1238360353654, 121.79011449977 25.1243727190743, 121.789489370586 25.1244912188373, 121.788825600174 25.1247376639964, 121.788191454704 25.1246878597482, 121.787866009703 25.1247273596692, 121.786900408374 25.1251661522697, 121.78561837833 25.126090106943, 121.785145237972 25.1265357690949, 121.784703439943 25.1268629314839, 121.784478462132 25.1269779964711, 121.784191658358 25.127044974598, 121.78306591061 25.1270243659435, 121.78285638929 25.1269333443865, 121.78247126506 25.1268783879747, 121.781995119274 25.1269582465106, 121.781838836978 25.1270423985162, 121.781682554682 25.1272587893876, 121.781525843039 25.1275189736497, 121.780981001737 25.1279457445351, 121.780905436671 25.1281810266731, 121.78078521952 25.128325287254, 121.780642676327 25.1283922653809, 121.779133951085 25.1285262216347, 121.778797343062 25.1285227868589, 121.778570647864 25.1282789177816, 121.778095790118 25.1280676790737, 121.777491269588 25.1280058531105, 121.777700790908 25.1270132029224, 121.778449572019 25.1256899555696, 121.779305689872 25.1245496100248, 121.780185851154 25.1234831121584, 121.780501850522 25.1230606347427, 121.780745719599 25.1222929623654, 121.78081784989 25.1211526168206, 121.780618632897 25.1201788578991, 121.780450328886 25.1197701195864, 121.780195296787 25.1193665334373, 121.779438787431 25.1185095568908, 121.778713191057 25.1179685797122, 121.777826160223 25.1174962980483, 121.777097987766 25.1171493856988, 121.776296826326 25.1166736692592, 121.775849446786 25.1161567355108, 121.775488795333 25.1155161498358, 121.775365143407 25.1149940639237, 121.77535483908 25.1145166300962, 121.775578099503 25.1135188277445, 121.775801359926 25.1123819169755, 121.775976533488 25.1115489838592, 121.775910414055 25.111238136655, 121.775797066456 25.1110698326438, 121.775515414845 25.1109187025114, 121.773470005894 25.1107641376032, 121.772476497012 25.1105786597134, 121.769871219615 25.1102059865459, 121.768303244491 25.1098006830089, 121.76653948715 25.1093387056722, 121.764397904478 25.1086946852215, 121.762393712835 25.1081245124491, 121.761633768703 25.1077277958514, 121.761352117093 25.1075354484102, 121.760926204901 25.1070425580919, 121.760287336614 25.1055810610156, 121.760073521825 25.1052770833629, 121.759626142285 25.1048597581108, 121.759286099487 25.1046124542577, 121.757934515234 25.1039959120129, 121.755968106125 25.1031251963635, 121.75479942368 25.1025910887363, 121.752729971298 25.1016894601053, 121.751434202151 25.1011089830057, 121.750526562663 25.1007723749834, 121.749621499256 25.1007380272261, 121.74915093498 25.100817027068, 121.748638294701 25.1009990701821, 121.747005058838 25.1017667425594, 121.745207812434 25.1025412844881, 121.744031401744 25.1029723488432, 121.743224229445 25.1031715658359, 121.7421405577 25.1032711743323, 121.740528789186 25.1034223044648, 121.739947453392 25.1035287825126, 121.738293608875 25.1040216728309, 121.735676309763 25.1046880193239, 121.733338944874 25.1051156489032, 121.731864567388 25.1059571689589, 121.731327883679 25.1060464731281, 121.730946623573 25.1060155601464, 121.730733667477 25.1059743428376, 121.730414233333 25.1058369518081, 121.729743593371 25.1053509310412, 121.729503159069 25.1051345401698, 121.729131344595 25.1048803667652, 121.728925258051 25.1047979321475, 121.728482171981 25.1046811497725, 121.726675479943 25.10494906228, 121.724770896797 25.1051826270301, 121.723880431187 25.1051826270301, 121.723209791224 25.1049868448131, 121.722938443941 25.1046914540997, 121.722151880297 25.1041453247575, 121.721917456853 25.1040285423824, 121.721295762445 25.1037400212205, 121.7195749398 25.1032849134353, 121.717584487261 25.1028383925894, 121.714717308214 25.1022115460174, 121.712369638997 25.1017031992082, 121.710829142079 25.101275569629, 121.709176156256 25.1004323321855, 121.707697485301 25.0992267259017, 121.706326151088 25.0981396193808, 121.705676119779 25.097797859195, 121.705078468801 25.0975642944448, 121.704651697916 25.097457816397, 121.704080666449 25.0974131643124, 121.703431493835 25.0974131643124, 121.702176083303 25.0975849030992, 121.7011997483 25.0976501638383, 121.700456978047 25.0975952074265, 121.699718501263 25.097392555658, 121.699260817396 25.0972122299317, 121.69895168758 25.0970507954721, 121.698522340613 25.0967141874498, 121.697962472167 25.0961405799017, 121.697420636295 25.0952526903736, 121.696763735435 25.0936538022679, 121.696196997438 25.0919862186475, 121.695471401064 25.0899957661077, 121.694938152131 25.0892246589547, 121.694325903356 25.0886836817761, 121.693611470002 25.088292117342, 121.692854960646 25.0880207700588, 121.69024538978 25.0874900972074, 121.686751364161 25.0867533378117, 121.684705955209 25.0862810561478, 121.683149143107 25.0860612305006, 121.681536515898 25.0859547524528, 121.679772758557 25.0859307090226, 121.67876293449 25.0858894917138, 121.677176926793 25.0856816877817, 121.674997561588 25.0851235367244, 121.673175413059 25.0844812336615, 121.67186590481 25.0838269088835, 121.670002538972 25.0827638457928, 121.667539804768 25.0811598055235, 121.66391268159 25.0789752881546, 121.661540968943 25.0774502477273, 121.660324199638 25.0767203578831, 121.659474951337 25.0762240327891, 121.658265051584 25.0756658817317, 121.656938369455 25.075112882838, 121.655514654912 25.0747367748948, 121.654675710938 25.0745238187991, 121.652984083888 25.0741305369772, 121.651179109238 25.0738420158152, 121.650430328127 25.0738523201425, 121.649997546384 25.0739072765543, 121.649515819087 25.0740584066867, 121.648229495574 25.0745478622293, 121.647635279371 25.0746371663984, 121.647089150029 25.0746131229683, 121.646741378985 25.074551297005, 121.645958250117 25.07422499331, 121.645277305827 25.0738523201425, 121.644483872632 25.0732907343094, 121.643912841166 25.0727944092154, 121.64367584164 25.0725402358108, 121.643497233301 25.0722276712187, 121.643346103169 25.0718034764152, 121.643277407654 25.0712968469939, 121.643284277206 25.0709842824018, 121.643473189871 25.0703883488114, 121.64390940639 25.0691054600735, 121.643967797577 25.06868126527, 121.643995275783 25.0679788536317, 121.643796917484 25.0669449861348, 121.643383885702 25.0656689669484, 121.642889277996 25.0640855353335, 121.642377496411 25.0625330167002, 121.641720595551 25.0606748030263, 121.641022477383 25.0592768493013, 121.640510266451 25.0583975467125, 121.640231620269 25.0580592213024, 121.639420583848 25.0571369840169, 121.638762394947 25.0565092787509, 121.63791400534 25.0558583887487, 121.63678997498 25.0550993033108, 121.636242986944 25.0547609779007, 121.635156739117 25.0542801092974, 121.634228490974 25.0539125882936, 121.632560907354 25.0533286764182, 121.630972323575 25.0526176778406, 121.629838847582 25.0519461791839, 121.629019653569 25.0513674194722, 121.628064785914 25.0506066166464, 121.627222407164 25.0498389442691, 121.626493376014 25.0489750981712, 121.625833130303 25.0481804208367, 121.625680778984 25.0479602418761, 121.62539694639 25.0473654456319, 121.623919011599 25.0480459913343, 121.623556642759 25.0482160127333, 121.623048295949 25.0483534037627, 121.622756340012 25.048480490465, 121.62253994914 25.0486590988034, 121.622041047964 25.0492275541879, 121.621775711539 25.0494422276715, 121.621157451906 25.049761661815, 121.620364018711 25.0501257480432, 121.619602357191 25.0504348778595, 121.619653510376 25.0505596058136, 121.619670206411 25.0511992726517, 121.619750052548 25.0514979409502, 121.619928660886 25.0517761577849, 121.620285877563 25.0520200268623, 121.620939343647 25.052428765175, 121.621062995573 25.0526417212707, 121.621220995257 25.0530985464438, 121.621344647184 25.0536927626463, 121.621500070786 25.0542680875823, 121.621702722554 25.0546287390348, 121.621750809415 25.0549859557114, 121.621040669531 25.0549790861599, 121.620198290781 25.0548176517003, 121.619256303535 25.0548039125973, 121.618670674272 25.0549206949724, 121.616582330624 25.0552023465829, 121.616225972641 25.0532496765762, 121.615214431187 25.0531397637526, 121.611529775514 25.0526880907432, 121.607880809305 25.0522670087015, 121.606486290356 25.0521064329357, 121.606455377374 25.0523022151528, 121.606393551411 25.0523365629101, 121.606352334102 25.0523399976859, 121.605437825062 25.0522060414321)","wkt1":"LINESTRING (121.606455377374 25.0523022151528, 121.606393551411 25.0523365629101, 121.606352334102 25.0523399976859, 121.605437825062 25.0522060414321, 121.605323994451 25.0529302424328, 121.606512856203 25.0531328942012, 121.607701288608 25.0533235242547, 121.607907375152 25.052141961401, 121.609450448152 25.0523446131695, 121.611238248923 25.0525369606108, 121.612923006423 25.0527396123793, 121.615260371312 25.0530075248868, 121.616336314811 25.0530933942803, 121.616701259734 25.055071825105, 121.618537147365 25.0548210864761, 121.619014581193 25.0547077388768, 121.619237841615 25.0546836954466, 121.620306915564 25.0547249127555, 121.621025642387 25.0548760428879, 121.621667086756 25.0548726081122, 121.621648195489 25.0546081303804, 121.621500500132 25.0543307722396, 121.6214060438 25.0540989248774, 121.621299565752 25.0536704366041, 121.621168614927 25.0530367204806, 121.621047968429 25.0526906668251, 121.620929468666 25.0524759933415, 121.620743990776 25.052338602312, 121.620066910609 25.0519324400811, 121.619927802192 25.0518345489726, 121.619800286142 25.051671397125, 121.61968178638 25.0514515714778, 121.619621677804 25.0512300284428, 121.619602786538 25.0510763222286, 121.619609656089 25.0505799971345, 121.619540960574 25.0504271496142, 121.620746996205 25.0499110745597, 121.621593239077 25.0494903145319, 121.62187875481 25.0492971083966, 121.62211103152 25.0490644023404, 121.622552400202 25.0485715120221, 121.622731437887 25.0484349796866, 121.623042285091 25.0483027408207, 121.623494387448 25.0481833823638, 121.624580205928 25.0476501334306, 121.625342726142 25.0473203949598, 121.626276985142 25.047004395592, 121.626504539035 25.0475591118736, 121.626779321094 25.0481533280761, 121.627019755395 25.048704609582, 121.627105624789 25.0489038265747, 121.627796014712 25.0499479983988, 121.628222785597 25.0504237148385, 121.629041120917 25.051201691543, 121.63004149935 25.0518731901996, 121.631309790291 25.052599645268, 121.632567776905 25.0531646658768, 121.634551359893 25.0538979904967, 121.635309586637 25.054195098598, 121.636274758619 25.054679401977, 121.636787398898 25.0549198362786, 121.637564516909 25.0554024222697, 121.63809089629 25.055802573643, 121.638871449077 25.0564191158879, 121.639545523815 25.0570562667872, 121.640064174951 25.0576350264989, 121.640634347724 25.0583666337309, 121.641146988003 25.0591566321505, 121.641669073915 25.0601114998055, 121.642738147863 25.0631066242484, 121.643676700333 25.0660021401949, 121.644195351469 25.0676628542639, 121.644586915903 25.0686108523674, 121.644940697804 25.0697391761971, 121.645432729429 25.0710409562015, 121.64557699001 25.0713724120602, 121.645820859087 25.0717605417185, 121.646366988429 25.072224236443, 121.646955193774 25.0725866052833, 121.647553703447 25.0728081483184, 121.648436440811 25.0730520173957, 121.649718470855 25.0732787125944, 121.65124522867 25.0735912771865, 121.65250665006 25.0737904941792, 121.653647854298 25.0740566892989, 121.65501661243 25.0743452104608, 121.656401685746 25.0747522313857, 121.657372009892 25.0750682307535, 121.658341475343 25.0754786864541, 121.659874244016 25.0762704022615, 121.661046361236 25.0769796834513, 121.662614336361 25.0779259641669, 121.664745614706 25.0792346137228, 121.666712023815 25.0805226546243, 121.6677192718 25.0811460664206, 121.669486463917 25.0822572163716, 121.670683483261 25.082997410543, 121.672233425813 25.0838681261924, 121.673316238864 25.0843713208379, 121.675378821694 25.0851355584395, 121.677270524431 25.0855837966732, 121.677965207824 25.085690274721, 121.678845369107 25.0857624050115, 121.681075397254 25.0857933179932, 121.683643750812 25.0859444481256, 121.684620944509 25.0861075999731, 121.687291482645 25.086670903194, 121.689257891754 25.0870985327733, 121.692180027213 25.0877253793454, 121.693304916267 25.0880035961801, 121.693754871889 25.0881787697427, 121.694115523341 25.0883745519597, 121.694796467631 25.0888537031751, 121.695188890759 25.0892298111183, 121.695432759836 25.089600766898, 121.695772802634 25.0902894394333, 121.695944541421 25.0906998951339, 121.696377323164 25.092163109598, 121.697297843062 25.094725452298, 121.697566614263 25.0952887555189, 121.698319688843 25.096372427264, 121.699340675931 25.0971057518839, 121.70008688096 25.0974097295367, 121.700619271199 25.0974852946029, 121.701537215015 25.097536816239, 121.703431493834 25.0973066862646, 121.704066927346 25.0973101210403, 121.704631089261 25.0973479035734, 121.705222729381 25.0974921641544, 121.7056589459 25.097653598614, 121.706418890032 25.0980692064782, 121.706965878068 25.0984693578516, 121.708436820777 25.0996921380141, 121.709569438077 25.1005233537425, 121.710256393224 25.1009011790736, 121.711232728228 25.1012772870169, 121.712264019643 25.1015486343001, 121.713731527577 25.101916155304, 121.716024240381 25.102400458683, 121.717234140135 25.1026700885783, 121.718620072145 25.1029654792918, 121.720895611071 25.103472108713, 121.721626359609 25.103576869373, 121.722199967157 25.1037760863658, 121.722598401142 25.1039512599284, 121.722939302634 25.1041418899818, 121.723382388704 25.1044681936768, 121.723883865962 25.1048116712505, 121.724417114895 25.1049954317525, 121.724746853366 25.1050778663702, 121.727407087175 25.1047343887965, 121.728948442787 25.1045403239673, 121.72947739825 25.1046364976879, 121.730997286514 25.1051688879272, 121.731502198547 25.1052101052361, 121.731941849842 25.1051963661331, 121.733808650455 25.1048872363168, 121.735557809999 25.1045746717247, 121.73729752391 25.1041676507998, 121.738985716185 25.1036713257058, 121.739911388246 25.1034205870769, 121.740454082813 25.1033209785806, 121.741135027102 25.1032248048599, 121.742338057304 25.1031492397937, 121.743355609617 25.1030393269701, 121.744232336123 25.1028160665472, 121.745428496774 25.1023334805561, 121.747233471424 25.1015348951972, 121.74848544718 25.1009595702612, 121.749017837419 25.1007672228199, 121.749354445442 25.1006916577537, 121.749839607515 25.1006435708933, 121.750220867621 25.100660744772, 121.750647638507 25.1007225707353, 121.751919364224 25.1012068741143, 121.753163611734 25.1017650251716, 121.755088803535 25.1026185669423, 121.756845691325 25.1034102827497, 121.758719361489 25.1042294767631, 121.759386566676 25.1045471935188, 121.759712870371 25.1047464105115, 121.760162825993 25.1051963661331, 121.760400684213 25.1055518654219, 121.761016367764 25.106910319226, 121.761212149981 25.1071868186729, 121.761579670985 25.1074719050591, 121.761917137701 25.1076900133184, 121.763673166796 25.1082224035577, 121.764783458053 25.1085624463557, 121.766523171964 25.1091257495766, 121.767757115148 25.1094228576778, 121.769702915603 25.1098934219539, 121.771339586242 25.1100977911102, 121.772048867432 25.1101149649889, 121.773134256565 25.1101046606617, 121.774468666939 25.1100187912683, 121.775351404303 25.1099397914263, 121.775749838289 25.1099500957535, 121.77606669635 25.1100187912683, 121.776314000204 25.110166486625, 121.776444521682 25.1102901385515, 121.776633434347 25.1105614858348, 121.77672359721 25.1107967679728, 121.776733901537 25.1111539846495, 121.776644597368 25.1115541360228, 121.776486597684 25.1118735701664, 121.776184337419 25.112428286448, 121.7758614685 25.1129950244446, 121.775562643011 25.1138640227062, 121.775504251823 25.1141971959527, 121.775480208393 25.1145234996477, 121.775538599581 25.1151005419716, 121.775658816732 25.1154955411814, 121.776160293989 25.1162391701285, 121.776541554096 25.1165689085993, 121.777263715695 25.11700340773, 121.778672832441 25.1176474281808, 121.779408733143 25.1181643619293, 121.780003808039 25.1187568607439, 121.780567969954 25.1195485765514, 121.780822143359 25.1200655102998, 121.780908012752 25.1203677705647, 121.7810144908 25.1212075732325, 121.781007621249 25.1219408978524, 121.780801534704 25.1228013091746, 121.780581709057 25.1232735908385, 121.780416839822 25.1235311990188, 121.779643156587 25.124312610499, 121.779206081374 25.1248982397622, 121.778652223787 25.1256573252001, 121.778092355341 25.1266499753882, 121.777965268639 25.1269591052046, 121.777879399246 25.1271961047304, 121.777745442992 25.1276391908006, 121.777779790749 25.1277628427271, 121.777958399088 25.1279517553926, 121.778229746371 25.1280032770287, 121.77841951773 25.1280736899313, 121.778673691135 25.1282832112513, 121.778896951558 25.1284446457109, 121.780147209926 25.128351906766, 121.78059115469 25.1283622110933, 121.780786936907 25.1282832112513, 121.780924327937 25.1279706466592, 121.781030805985 25.1278538642841, 121.781508239812 25.127476038953, 121.781602696145 25.1272785393481, 121.781795043586 25.1270140616164, 121.781968499761 25.1269230400593, 121.782147108099 25.1268766705869, 121.78244292816 25.1268371706659, 121.782666188583 25.126835453278, 121.783070633426 25.1269608225924, 121.783702632161 25.1269814312469, 121.784161604069 25.1269917355741, 121.784478032784 25.1269247574472, 121.784668662837 25.1268320185023, 121.7850348958 25.1265666820766, 121.785478411218 25.1261399111912, 121.785815877934 25.1258823030109, 121.786851892165 25.1251275110427, 121.787357233546 25.124887935435, 121.787869444478 25.1246698271757, 121.788224943766 25.124638914194, 121.788814866499 25.1246973053816, 121.78913472999 25.1245856751701, 121.789437419602 25.1244525776103, 121.79010720087 25.1243169039687, 121.790856840675 25.1239450894951, 121.791487980717 25.1236428292302, 121.791613350031 25.1235243294673, 121.792005343812 25.1224063099648, 121.792235903134 25.1221401148452, 121.792596554586 25.1218275502531, 121.793016026573 25.1216927353054, 121.793291237979 25.1217133439598, 121.793569454814 25.1217940611896, 121.794028426721 25.1219786803855, 121.794234513266 25.1219924194885, 121.794356447804 25.1219529195675, 121.794752305708 25.1216824309782, 121.79486393592 25.121567365991, 121.794951522701 25.1210289648941, 121.79523188627 25.1205523897606, 121.795412211997 25.1203858031373, 121.795595972499 25.1203068032954, 121.79635033512 25.12019431439, 121.796941545894 25.1201891622264, 121.797215039912 25.1200929885057, 121.797555512057 25.1199049345341, 121.797711794353 25.1198499781223, 121.79788911465 25.1209250629281, 121.797940636286 25.1217288004506, 121.797928614571 25.1226278529999, 121.797974984044 25.1228665699136, 121.798048831722 25.1229833522887, 121.798375564764 25.1232727321445, 121.798623297964 25.1234916990978, 121.798733210788 25.1236273727394, 121.798825949733 25.1237991115263, 121.798939297332 25.1244225233226, 121.799038905828 25.1246329033365, 121.799210644615 25.124809794287, 121.799444638712 25.1250270438523, 121.799747328324 25.1252511629692, 121.799896741069 25.1254709886164, 121.799992914789 25.125671922997, 121.799982610462 25.1260188353465, 121.799939675765 25.1262060306242, 121.799838349881 25.1264009541473, 121.799503459247 25.1269754203893, 121.799381524708 25.1272793980421, 121.799340307399 25.1274459846653, 121.799321416133 25.1278779077143, 121.799354046502 25.128051363889, 121.799591046028 25.128875710066, 121.799639132888 25.1292226224154, 121.799620241622 25.1296021651344, 121.79954124178 25.1298537624572, 121.799438198508 25.1301414249252, 121.799256155394 25.1305269785017, 121.79864090119 25.1317420304187, 121.798338211578 25.1323637248272, 121.798030369802 25.133098766835, 121.797841457137 25.1335787767443, 121.797631935817 25.1339437216663, 121.797458050295 25.1341008626563, 121.796954426303 25.1345018727236, 121.796696388775 25.1347964047431, 121.796204786498 25.1355202837298, 121.796139525759 25.1357358159073, 121.796117199717 25.1359917066997, 121.796242569031 25.1364536840364, 121.796338742752 25.1368710092884, 121.796337025364 25.1373544539735, 121.796280351564 25.1378207247798, 121.796251155971 25.1381684958232, 121.796304394994 25.1384819191092, 121.796419459982 25.13886403791, 121.796271764625 25.1394110259462, 121.796189330007 25.139543264812, 121.796349047079 25.1395776125694, 121.796558997746 25.1396780797597, 121.796719144165 25.1397905686651, 121.79696473063 25.1400241334153, 121.797083230393 25.1400653507241, 121.797196577992 25.1400447420697, 121.797629359735 25.1398850249979, 121.797783924643 25.1398626989556, 121.798029940455 25.1399142205917, 121.799274187966 25.139936546634, 121.79987956719 25.1401417744843, 121.800273278359 25.1402276438777, 121.800505125721 25.1402190569384, 121.801685829881 25.1398867423858, 121.801888910996 25.1397673839289, 121.801999253167 25.1396171124904, 121.802530355365 25.1387026034503, 121.802549246632 25.1385909732389, 121.802540659692 25.1384638865366, 121.802406274092 25.1382560826045, 121.80201299227 25.137700507629, 121.801954601082 25.1375476601087, 121.801865296913 25.1371346283263, 121.801784579683 25.1365953685355, 121.80177084058 25.136392716767, 121.801813775277 25.1361900649985, 121.801992383615 25.1359419024515, 121.802293355839 25.1357049029256, 121.802581877001 25.1355323054448, 121.803267544108 25.1352540886101, 121.803893102639 25.1349836000208, 121.80446198737 25.1347371548617, 121.805474387519 25.1340819713898, 121.805674033859 25.133987515057, 121.806579526612 25.1336534831165, 121.806839710875 25.1335049290659, 121.806948335657 25.133399309712, 121.80740516083 25.1329132889452, 121.807664486398 25.1327432675462, 121.807836225185 25.1326883111344, 121.809023798896 25.1324126703814, 121.809304591813 25.1323602900514, 121.809663525878 25.1323413987849, 121.811181267406 25.1324925289173, 121.811774195568 25.1325388983898, 121.811935630028 25.1325131375718, 121.81205284175 25.1324564637721, 121.812279536948 25.1322984640882, 121.812480900676 25.1319816060264, 121.812542726639 25.1315625633865, 121.812682264404 25.1311881728311, 121.812759546858 25.1310473470259, 121.812900372663 25.1308962168934, 121.813094866839 25.1307820106002, 121.813730729697 25.1305407176046, 121.814108555029 25.1302985659151, 121.81424422867 25.1301680444371, 121.814378614271 25.1299112949508, 121.814646956125 25.1290989704889, 121.814786064543 25.1288980361083, 121.814947928349 25.128770090712, 121.815097341094 25.1286773517671, 121.816921791371 25.1275698177652, 121.818152134432 25.1268436390602, 121.818388776373 25.1265998458513, 121.818633869813 25.1262201785606, 121.818823703458 25.1256896845379, 121.818834105301 25.1255083023905, 121.819191668675 25.124234726667, 121.819279109172 25.1235449544146, 121.819379226917 25.1230235620051, 121.819491371793 25.1227336106152, 121.81978034801 25.1222629271932, 121.82068823392 25.1213254610405, 121.821039621198 25.1210738664489, 121.821223278749 25.1209867510089, 121.821546060958 25.1208898838405, 121.823270166531 25.1208053688614, 121.824814840303 25.1207793642525, 121.825512413938 25.1208963849927, 121.825791313369 25.1210010535438, 121.825987648167 25.1211544807366, 121.826181707561 25.1213865718715, 121.826510665864 25.121597209204, 121.826788265065 25.1216401168088, 121.827089918529 25.1216583200351, 121.827740683868 25.1215608027515, 121.827998129496 25.1215465002166, 121.828245173281 25.1215634032124, 121.829529800964 25.1219242171616, 121.830171464689 25.1220964976959, 121.830297587043 25.122169310601, 121.830534554042 25.1224202550774, 121.830701308597 25.1226328427556, 121.830897643394 25.1229396971412, 121.831057896797 25.1233681230737, 121.831070899102 25.1236028146695, 121.831027991497 25.1237302372534)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0463008400'=='0100020200' || '0463008400'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
