
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492014</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454090800">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454090800">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454090800" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454090800" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454090800" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454090800',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="sg6SYsLWPj4UoBeFT-qdIklxbzsFfZliElLGn4QhV6kCtYg0q5Z5TF8qHL3BwsXJN99KCIMX1EMhJRC3lL1Nd1lAj-Y1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">587 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454090800" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454090800" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">汐止 - 瑞士山莊</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0540 - 2200 <br>
                        [假日] 0615 - 2130
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 587班表:0540 0630 0710 0810 0900 1030 1200 1530 1630 1730 1845 2000 2100 2200<br>
[假日]<br /> 587班表:0615 0730 0800 1030 1230 1440 1630 1700 1730 1845 2000 2130<br/>587繞班表:0900 1130 1330 1530<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">新北客運五堵站:02-2451-2089</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 瑞士山莊</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 汐止</a>
                </p>


            <p> 
<a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454090803" >①繞拱北殿</a> </p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">汐止</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217400060" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.069176" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.661689" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">汐止公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217400160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067906" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.659997" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">汐止國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2218400360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.066335" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.654564" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">汐科站北站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2218400460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06486" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.652863" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">江北二橋橋頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215000520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.070908" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.652781" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">電力公司</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216801100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.07298" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6516651" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">土地公廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216800060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.074347" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.65074" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">北港溪口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216700000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076248" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.649997" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">孝友別墅</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216800701" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.077925" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6500076" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">川口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215801570" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.079489" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.649302" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">明園山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217900960" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.082057" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.649542" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">土巷口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217900100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.084205" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.64826" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">川口工廠</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215500020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.086199" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.648468" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">鮕鮘坑街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217901720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.087627" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.64865" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">林肯大郡</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216000220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090332" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.648462" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">烘內派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.088144" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6467886" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">北港國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089498" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.64572" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">北港國小二</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217300000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090465" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.644927" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">拱北殿</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090882" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.643416" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">拱北殿停車場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217301160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.093843" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.64141" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">汐萬路三段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.091845" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.643177" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">慈惠堂</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217001100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09349" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.644095" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">堪農山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217001000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.097152" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6422722" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">烘下</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.098663" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6421891" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">月牙泉</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.103001" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.643859" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">烘內</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.104595" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.644183" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">四川橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216900010" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105042" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.644996" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 28</span>
                                    <span class="auto-list-stationlist-place">興樺汽車</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217600970" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105936" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.645449" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 29</span>
                                    <span class="auto-list-stationlist-place">瑞松街146號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217200820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.109937" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.645522" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 30</span>
                                    <span class="auto-list-stationlist-place">瑞士山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2218600620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.110245" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.646652" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 31</span>
                                    <span class="auto-list-stationlist-place">瑞士山莊一</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2218600930" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.110103" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.647711" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 32</span>
                                    <span class="auto-list-stationlist-place">瑞松街網球場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217900200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.110719" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.648643" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 33</span>
                                    <span class="auto-list-stationlist-place">瑞松街199巷口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217601170" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.112898" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.645644" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 34</span>
                                    <span class="auto-list-stationlist-place">瑞松街204巷口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217200840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.112983" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.644004" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">瑞松街146號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217201030" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.109863" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.645427" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">興樺汽車</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217600920" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105882" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.645375" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">四川橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000461" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105065" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.644816" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">烘內</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000860" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.104621" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6439911" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">月牙泉</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.103162" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6437904" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">烘下</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.098575" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.642038" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">堪農山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217001040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09722" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6420523" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">慈惠堂</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217001140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.093758" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.644057" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">汐萬路三段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.091852" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.643058" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">拱北殿停車場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217301160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.093843" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.64141" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">拱北殿</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216901620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090723" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.643412" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">北港國小二</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217300020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090384" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.64479" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">北港國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089352" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.645666" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">烘內派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217000940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.088186" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.646559" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">林肯大郡</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216000220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090332" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.648462" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">土巷口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217900140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.083826" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.648244" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">明園山莊</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217900920" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.082423" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.648912" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">川口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217900340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.079195" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6493127" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">孝友別墅</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217900740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.077722" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.649909" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">北港溪口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216700020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076269" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.649804" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">土地公廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216800040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.074246" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.65061" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">電力公司</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2216801140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.072858" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6515922" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">江北二橋橋頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215000540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.070551" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.65275" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">汐科站北站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2218400420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.064077" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6522" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">汐止國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217400220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.066251" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.654922" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">汐止國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2214400120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067099" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.658766" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">汐止</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2217400020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06908" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.66202" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454090800";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 34;
        var existBackNum = 27;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454090800',
                        url: './StopStatusRecent3OfRoute?routeid=0454090800&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454090800',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454090800',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454090800');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454090800","Name":"587","BeginStop":"汐止","GoDirStops":[{"UniStopId":"2217400060","Name":"汐止","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.661689,"Latitude":25.069176,"PublicId":"2217400060"},{"UniStopId":"2217400160","Name":"汐止公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.659997,"Latitude":25.067906,"PublicId":"2217400160"},{"UniStopId":"2218400360","Name":"汐止國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.654564,"Latitude":25.066335,"PublicId":"2218400360"},{"UniStopId":"2218400460","Name":"汐科站北站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.652863,"Latitude":25.06486,"PublicId":"2218400460"},{"UniStopId":"2215000520","Name":"江北二橋橋頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.652781,"Latitude":25.070908,"PublicId":"2215000520"},{"UniStopId":"2216801100","Name":"電力公司","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6516651,"Latitude":25.07298,"PublicId":"2216801100"},{"UniStopId":"2216800060","Name":"土地公廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.65074,"Latitude":25.074347,"PublicId":"2216800060"},{"UniStopId":"2216700000","Name":"北港溪口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.649997,"Latitude":25.076248,"PublicId":"2216700000"},{"UniStopId":"2216800701","Name":"孝友別墅","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6500076,"Latitude":25.077925,"PublicId":"2216800701"},{"UniStopId":"2215801570","Name":"川口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.649302,"Latitude":25.079489,"PublicId":"2215801570"},{"UniStopId":"2217900960","Name":"明園山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.649542,"Latitude":25.082057,"PublicId":"2217900960"},{"UniStopId":"2217900100","Name":"土巷口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.64826,"Latitude":25.084205,"PublicId":"2217900100"},{"UniStopId":"2215500020","Name":"川口工廠","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.648468,"Latitude":25.086199,"PublicId":"2215500020"},{"UniStopId":"2217901720","Name":"鮕鮘坑街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.64865,"Latitude":25.087627,"PublicId":"2217901720"},{"UniStopId":"2216000220","Name":"林肯大郡","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.648462,"Latitude":25.090332,"PublicId":"2216000220"},{"UniStopId":"2217000900","Name":"烘內派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6467886,"Latitude":25.088144,"PublicId":"2217000900"},{"UniStopId":"2217000200","Name":"北港國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.64572,"Latitude":25.089498,"PublicId":"2217000200"},{"UniStopId":"2217300000","Name":"北港國小二","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.644927,"Latitude":25.090465,"PublicId":"2217300000"},{"UniStopId":"2217000600","Name":"拱北殿","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.643416,"Latitude":25.090882,"PublicId":"2217000600"},{"UniStopId":"2217301160","Name":"拱北殿停車場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.64141,"Latitude":25.093843,"PublicId":"2217301160"},{"UniStopId":"2217000500","Name":"汐萬路三段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.643177,"Latitude":25.091845,"PublicId":"2217000500"},{"UniStopId":"2217001100","Name":"慈惠堂","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.644095,"Latitude":25.09349,"PublicId":"2217001100"},{"UniStopId":"2217001000","Name":"堪農山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6422722,"Latitude":25.097152,"PublicId":"2217001000"},{"UniStopId":"2217000700","Name":"烘下","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6421891,"Latitude":25.098663,"PublicId":"2217000700"},{"UniStopId":"2217000160","Name":"月牙泉","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.643859,"Latitude":25.103001,"PublicId":"2217000160"},{"UniStopId":"2217000820","Name":"烘內","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.644183,"Latitude":25.104595,"PublicId":"2217000820"},{"UniStopId":"2216900010","Name":"四川橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.644996,"Latitude":25.105042,"PublicId":"2216900010"},{"UniStopId":"2217600970","Name":"興樺汽車","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.645449,"Latitude":25.105936,"PublicId":"2217600970"},{"UniStopId":"2217200820","Name":"瑞松街146號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.645522,"Latitude":25.109937,"PublicId":"2217200820"},{"UniStopId":"2218600620","Name":"瑞士山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.646652,"Latitude":25.110245,"PublicId":"2218600620"},{"UniStopId":"2218600930","Name":"瑞士山莊一","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.647711,"Latitude":25.110103,"PublicId":"2218600930"},{"UniStopId":"2217900200","Name":"瑞松街網球場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.648643,"Latitude":25.110719,"PublicId":"2217900200"},{"UniStopId":"2217601170","Name":"瑞松街199巷口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.645644,"Latitude":25.112898,"PublicId":"2217601170"},{"UniStopId":"2217200840","Name":"瑞松街204巷口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.644004,"Latitude":25.112983,"PublicId":"2217200840"}],"LastStop":"瑞士山莊","BackDirStops":[{"UniStopId":"2217201030","Name":"瑞松街146號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.645427,"Latitude":25.109863,"PublicId":"2217201030"},{"UniStopId":"2217600920","Name":"興樺汽車","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.645375,"Latitude":25.105882,"PublicId":"2217600920"},{"UniStopId":"2217000461","Name":"四川橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.644816,"Latitude":25.105065,"PublicId":"2217000461"},{"UniStopId":"2217000860","Name":"烘內","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6439911,"Latitude":25.104621,"PublicId":"2217000860"},{"UniStopId":"2217000140","Name":"月牙泉","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6437904,"Latitude":25.103162,"PublicId":"2217000140"},{"UniStopId":"2217000740","Name":"烘下","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.642038,"Latitude":25.098575,"PublicId":"2217000740"},{"UniStopId":"2217001040","Name":"堪農山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6420523,"Latitude":25.09722,"PublicId":"2217001040"},{"UniStopId":"2217001140","Name":"慈惠堂","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.644057,"Latitude":25.093758,"PublicId":"2217001140"},{"UniStopId":"2217000540","Name":"汐萬路三段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.643058,"Latitude":25.091852,"PublicId":"2217000540"},{"UniStopId":"2217301160","Name":"拱北殿停車場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.64141,"Latitude":25.093843,"PublicId":"2217301160"},{"UniStopId":"2216901620","Name":"拱北殿","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.643412,"Latitude":25.090723,"PublicId":"2216901620"},{"UniStopId":"2217300020","Name":"北港國小二","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.64479,"Latitude":25.090384,"PublicId":"2217300020"},{"UniStopId":"2217000240","Name":"北港國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.645666,"Latitude":25.089352,"PublicId":"2217000240"},{"UniStopId":"2217000940","Name":"烘內派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.646559,"Latitude":25.088186,"PublicId":"2217000940"},{"UniStopId":"2216000220","Name":"林肯大郡","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.648462,"Latitude":25.090332,"PublicId":"2216000220"},{"UniStopId":"2217900140","Name":"土巷口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.648244,"Latitude":25.083826,"PublicId":"2217900140"},{"UniStopId":"2217900920","Name":"明園山莊","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.648912,"Latitude":25.082423,"PublicId":"2217900920"},{"UniStopId":"2217900340","Name":"川口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6493127,"Latitude":25.079195,"PublicId":"2217900340"},{"UniStopId":"2217900740","Name":"孝友別墅","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.649909,"Latitude":25.077722,"PublicId":"2217900740"},{"UniStopId":"2216700020","Name":"北港溪口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.649804,"Latitude":25.076269,"PublicId":"2216700020"},{"UniStopId":"2216800040","Name":"土地公廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.65061,"Latitude":25.074246,"PublicId":"2216800040"},{"UniStopId":"2216801140","Name":"電力公司","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6515922,"Latitude":25.072858,"PublicId":"2216801140"},{"UniStopId":"2215000540","Name":"江北二橋橋頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.65275,"Latitude":25.070551,"PublicId":"2215000540"},{"UniStopId":"2218400420","Name":"汐科站北站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6522,"Latitude":25.064077,"PublicId":"2218400420"},{"UniStopId":"2217400220","Name":"汐止國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.654922,"Latitude":25.066251,"PublicId":"2217400220"},{"UniStopId":"2214400120","Name":"汐止國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.658766,"Latitude":25.067099,"PublicId":"2214400120"},{"UniStopId":"2217400020","Name":"汐止","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.66202,"Latitude":25.06908,"PublicId":"2217400020"}],"RouteMapUrl":"../MapOverview?nid=0454090800","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0540 - 2200","HeadwayDesc":"587班表:0540 0630 0710 0810 0900 1030 1200 1530 1630 1730 1845 2000 2100 2200","HolidayBusTimeDesc":"0615 - 2130","HolidayHeadwayDesc":"587班表:0615 0730 0800 1030 1230 1440 1630 1700 1730 1845 2000 2130;587繞班表:0900 1130 1330 1530","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"新北客運五堵站:02-2451-2089","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.662035974151 25.0693433443803, 121.65970482331 25.0675763322908, 121.659261046153 25.0673705580681, 121.658757834555 25.0672688671909, 121.656976122099 25.0672305835447, 121.656224606616 25.0670965906887, 121.655210258828 25.0666993967186, 121.654532706204 25.0662136698119, 121.652732503033 25.0646332494801, 121.652251744446 25.0643365445254, 121.651693721086 25.0641002567996, 121.651775608538 25.0652272554255, 121.652194291153 25.0662465700943, 121.652260329421 25.0665181466326, 121.652295329702 25.0672572026437, 121.653083166233 25.0696020533882, 121.653075241641 25.0697940659633, 121.652755616427 25.0709389571252, 121.652787314795 25.0711237896479, 121.652697502751 25.0713415208056, 121.651980987549 25.0724648638697, 121.651349661713 25.0734709589747, 121.650950790577 25.0739859664096, 121.650175501317 25.0750183673579, 121.649871725287 25.0754639838496, 121.64980568702 25.0756434262742, 121.649837385388 25.0758976359255, 121.649948329677 25.0762708745515, 121.650180784379 25.0766375325425, 121.650225690401 25.0769964136891, 121.650030217129 25.0777052008633, 121.649623421401 25.0786424684043, 121.649454363437 25.0791694165639, 121.64924039945 25.0795426452162, 121.649361909862 25.0803710412847, 121.649501910989 25.0806563431817, 121.649560024665 25.0808890102742, 121.649594364564 25.0813082884171, 121.649584943849 25.0817814912765, 121.649549458542 25.0819452774267, 121.649515118643 25.0820601145293, 121.649245022129 25.0824100081621, 121.649014548576 25.0825374050826, 121.648603130169 25.082692912881, 121.648502752003 25.0828053568583, 121.648135579236 25.0848735898902, 121.648209542095 25.0852659401596, 121.648291429547 25.085587116197, 121.648410298428 25.0858263529212, 121.648451242154 25.0862210924936, 121.648382562356 25.086695376387, 121.648352184753 25.0867539888969, 121.648126003687 25.0869073980374, 121.647921285058 25.0872378400748, 121.647931851181 25.0873275526911, 121.647974115672 25.0873876601073, 121.648028267051 25.0874175642834, 121.64832676002 25.0873864639401, 121.648406336132 25.0873960332773, 121.648510676595 25.0875012959377, 121.6486057717 25.0876675629101, 121.648669135422 25.08793694144, 121.648624262415 25.0881017698374, 121.648562186444 25.0884450673367, 121.648475015931 25.0886140243761, 121.648523884249 25.0887411158007, 121.648508035064 25.0890234078103, 121.648493412497 25.0894544277, 121.648473908788 25.0896925106384, 121.648389166183 25.0904880861938, 121.648365392407 25.0904767228928, 121.64841558149 25.0898631030744, 121.648465770573 25.0894031852282, 121.648485582053 25.0887829811822, 121.648459166746 25.0886561888398, 121.648388162487 25.0886388063927, 121.647713594707 25.0885317886781, 121.647526046027 25.088471980863, 121.647288364858 25.0882597152972, 121.647129816423 25.0881442335175, 121.646902644783 25.0880581099818, 121.646796983555 25.0880437560533, 121.64677849284 25.088115525679, 121.64492413829 25.0904450252583, 121.644636541635 25.0907258181691, 121.644591635613 25.0908358624994, 121.644199368305 25.0907892132845, 121.643846447903 25.0907536093367, 121.643461720857 25.0908215088967, 121.643309195023 25.0908335465426, 121.643166351169 25.0908673096355, 121.643030000217 25.0909828832995, 121.642937801002 25.0911023527051, 121.642718340898 25.0914782917584, 121.642502776536 25.091847088619, 121.642496283633 25.0919405864147, 121.642518359502 25.0920736909154, 121.642671592 25.0923756108805, 121.642744312508 25.0924769001591, 121.642781971342 25.0925976681452, 121.64274950683 25.0929372469447, 121.642691070708 25.0930638585429, 121.642601468653 25.0931443705336, 121.642575497044 25.0931534605971, 121.642533942468 25.0931287875677, 121.642500179375 25.093040484094, 121.642543032531 25.0926866209091, 121.642509269438 25.0926255876258, 121.642344349715 25.0925463742156, 121.642223581729 25.0924600186127, 121.642144368319 25.0923353548852, 121.642089827938 25.0921314777475, 121.64193659544 25.0921899138697, 121.641980747177 25.092379506622, 121.642165145607 25.0926054596282, 121.642256046242 25.0927768722535, 121.64225085192 25.0928911473371, 121.642209297344 25.0930054224207, 121.641824917517 25.0934092809546, 121.64164831057 25.0935339446822, 121.641605457414 25.0936956179538, 121.641585978706 25.0938826135451, 121.641183418753 25.0939020922525, 121.641115892567 25.0938046987154, 121.641186015914 25.0936891250513, 121.641195105977 25.0935631627433, 121.641305485319 25.0935144659747, 121.641279513709 25.0932820200661, 121.641309381061 25.093124242536, 121.641608054575 25.0926229904649, 121.641814528873 25.0923522364316, 121.641906728089 25.0921886152892, 121.64209502226 25.0921029089766, 121.642166444188 25.0923288619827, 121.642240463276 25.0924535257102, 121.642354738359 25.0925333884107, 121.642523553824 25.0926126018209, 121.64256640698 25.0926762322651, 121.642558615497 25.092780767995, 121.642517060921 25.093040484094, 121.642546928273 25.0931080102798, 121.642578094205 25.0931352804702, 121.642600170073 25.0931222946652, 121.642680682064 25.093053469899, 121.642728729542 25.0929288061714, 121.642763791215 25.0925983174354, 121.642726132381 25.0924833930616, 121.642635231746 25.0923444449486, 121.642506672277 25.0920801838179, 121.642476804926 25.0919347428024, 121.642493686472 25.0918341028141, 121.642632634585 25.0915724388443, 121.642920919455 25.0910939119319, 121.643006625768 25.0909718453653, 121.643154663944 25.0908588688622, 121.643367631146 25.0907887455155, 121.643393602755 25.0908471816378, 121.643183232715 25.0910302814876, 121.643055045483 25.0911857472823, 121.643000193076 25.091552175885, 121.643102142491 25.0917652546894, 121.643594700314 25.0924454622959, 121.644162056683 25.0937711388695, 121.644381964114 25.0940970769914, 121.644440077789 25.0944493284074, 121.644400454829 25.0949116194738, 121.64429215207 25.0952489174162, 121.643961960733 25.0957674214821, 121.643713656848 25.0959564028097, 121.643351106759 25.0964180901418, 121.643152991957 25.0965400901302, 121.642428552163 25.0968151876968, 121.642261805538 25.0969907115818, 121.642187842678 25.0974308657701, 121.641960671038 25.0980229184983, 121.641973878692 25.0982286411997, 121.64208218145 25.0983745605804, 121.642224824108 25.0988990316717, 121.642301428498 25.0990473423592, 121.642327843805 25.0991962508927, 121.642319919213 25.0994139321175, 121.642523317077 25.0996746706572, 121.642673884327 25.1004556869017, 121.642716148818 25.1010064618213, 121.643477570041 25.1019351787343, 121.643531061038 25.1020745155636, 121.643536344099 25.1026181070837, 121.643618231551 25.1028028917696, 121.643914082989 25.1031066795786, 121.64399332891 25.1032860814735, 121.64399332891 25.1037722592859, 121.643890309213 25.1044282673665, 121.644283897287 25.1047194931623, 121.64457347509 25.1048319168979, 121.645157583565 25.1052364620914, 121.645432632949 25.1051781574343, 121.645654521528 25.1052594849483, 121.645757541225 25.105374599168, 121.645787918828 25.1054690824466, 121.645704710611 25.1056652247158, 121.645272820342 25.1060856139466, 121.645234518147 25.106819647154, 121.645797164185 25.1075378293513, 121.645575275607 25.1078182840349, 121.645078667836 25.1083606540608, 121.645072064009 25.1085256967224, 121.645113007735 25.1086946260276, 121.645436925437 25.1094080134042, 121.645826881406 25.1093290805548, 121.64595631641 25.1094498717128, 121.645969524063 25.1095808283285, 121.64593650493 25.1096836800014, 121.645566690632 25.1098558965622, 121.645488765476 25.1098869911932, 121.645412161086 25.1100547226719, 121.645504614661 25.110175513113, 121.645714616351 25.1102484656979, 121.645875749724 25.1102616210774, 121.646355847928 25.1102702916676, 121.646733917007 25.1102550433874, 121.646802596805 25.1102263407378, 121.646857493919 25.1102159534744, 121.646910391185 25.1102529380867, 121.646932487511 25.1102911352975, 121.646929809169 25.1103511594619, 121.647259581616 25.110377029573, 121.647721849488 25.1102215569622, 121.647872746931 25.1099760892266, 121.648416902255 25.1094833583493, 121.64857605448 25.1091550693203, 121.648824358365 25.1089182701291, 121.648998699391 25.1089326216083, 121.649038322352 25.1091000554077, 121.648922095001 25.1096645448129, 121.648845490611 25.1098271938189, 121.648829641427 25.1102966024206, 121.648470393252 25.1109794840726, 121.648401713454 25.111257538994, 121.647878029993 25.1115140665219, 121.647296893239 25.1116958479407, 121.646964060371 25.1118441431085, 121.64651433977 25.1121891678632, 121.646170280396 25.1123494216641, 121.645887636612 25.1126340510315, 121.645644615788 25.1128086552735, 121.645522444993 25.1129533613398, 121.644970365077 25.1130179408513, 121.644645456801 25.1128935654654, 121.644528569068 25.1129150919835, 121.644457247739 25.1129724960134, 121.644113848748 25.1129342266632, 121.643910450884 25.1127859328178, 121.643905167823 25.1126161122254, 121.644539465382 25.1119254661886, 121.645440887733 25.111041971739, 121.646087402371 25.1106431264676, 121.646124713992 25.1105937939411, 121.646600189518 25.1103857001555, 121.646744152941 25.1103593894217, 121.646736228349 25.1102861379173, 121.645806409543 25.1102957054632, 121.645658483824 25.1102646109362, 121.645496029686 25.1102107934669, 121.645451123664 25.110164151641, 121.645382443866 25.1100565165903, 121.645457727491 25.109856494536, 121.645563388719 25.109826595845, 121.645910750005 25.1096579670913, 121.645931882251 25.1095643840123, 121.645918674598 25.1094663160444, 121.645816975666 25.1093682479978, 121.645426029122 25.1094507686764, 121.645066450756 25.1086880482537, 121.645034422196 25.1085140361069, 121.645039705258 25.108358561127, 121.645120271944 25.108258997238, 121.645544567812 25.1078018394817, 121.645751927972 25.1075372313662, 121.645202489587 25.1068106773247, 121.645226263363 25.1060718601255, 121.645674333008 25.1056490788702, 121.645750937398 25.1054610095111, 121.645721880561 25.1053808781224, 121.645628106221 25.1052923747365, 121.645408859173 25.1052146352231, 121.645153621269 25.1052744348532, 121.64478842965 25.1050062332836, 121.644545078635 25.1048600228157, 121.64428224633 25.1047607550773, 121.643827572859 25.1044243803646, 121.643923988729 25.103753721176, 121.643931913321 25.1033034236428, 121.6438526674 25.1031192377198, 121.643554174432 25.1028244200644, 121.64348219272 25.1026181070837, 121.643458418944 25.1023908633978, 121.643468985067 25.1020846817638, 121.643418795983 25.1019531191075, 121.642679167388 25.1010525091236, 121.642636902897 25.1009323076878, 121.64261312912 25.1004293740313, 121.642470486463 25.0996991896197, 121.642263786686 25.0994450294038, 121.642247937501 25.0993397770185, 121.642263786686 25.0992201719254, 121.642240012909 25.0990527245985, 121.642147559335 25.0989020218083, 121.642028690453 25.0984104423687, 121.641920387695 25.0982238569547, 121.641880764734 25.0980396633823, 121.641928312287 25.0979176648894, 121.642039256576 25.0976802459049, 121.64212906862 25.0973931895904, 121.642218880664 25.0969620058189, 121.642387938628 25.0967610652897, 121.643130208755 25.0964740068183, 121.643305210163 25.0963585852014, 121.64366247719 25.0959178291131, 121.643929271791 25.0957121025256, 121.644222481698 25.0952426379417, 121.64434399211 25.0948879966221, 121.644370407417 25.0945381386637, 121.644317576803 25.094112327286, 121.644095688225 25.0938079190864, 121.643519834533 25.0924383718452, 121.642994169924 25.0917099339233, 121.642933414718 25.0915036021967, 121.642996811454 25.0911567248867, 121.643115680336 25.0910084046333, 121.643322180828 25.090834520478, 121.64316959762 25.0908669849903, 121.643028052346 25.090981584719, 121.64293195739 25.0911052745112, 121.642718990188 25.091477317823, 121.642507321568 25.0918474132641, 121.642496932924 25.0919383138988, 121.642520307373 25.0920714183995, 121.642669644129 25.0923759355256, 121.64274885754 25.0924772248043, 121.642783919213 25.0926005899513, 121.642752753281 25.0929395194605, 121.642689122837 25.09306937751, 121.642603416524 25.0931440458885, 121.642573549173 25.093155733113, 121.64253978608 25.0931310600836, 121.642503425826 25.0930453537709, 121.642544980402 25.0926849976835, 121.642509918729 25.092625912271, 121.642342401845 25.0925454002803, 121.64222423102 25.0924583953871, 121.64214631619 25.0923337316596, 121.642087880068 25.0921331009731, 121.64193724473 25.0921902385148, 121.641977500726 25.0923837270086, 121.642164496317 25.092602537822, 121.642257994113 25.0927771968986, 121.642248904049 25.0928888748212, 121.642211245215 25.0930025006145, 121.641824268227 25.0934122027607, 121.641645064119 25.0935290750053, 121.641606106704 25.0937011369209, 121.641586627997 25.0938790424487, 121.641182769463 25.0938985211562, 121.641116541857 25.0938076205215, 121.641185366624 25.093688151116, 121.641199651009 25.0935576437762, 121.641302238868 25.0935108948784, 121.641278864419 25.0932810461307, 121.641311328932 25.0931219700201, 121.641610002445 25.0926194193685, 121.641817775325 25.0923499639157, 121.64190997454 25.0921882906441, 121.642095671551 25.0921012857509, 121.642167093478 25.0923265894668, 121.642241112566 25.0924590446773, 121.642354089069 25.0925324144753, 121.642521605953 25.0926142250465, 121.642568354851 25.0926746090395, 121.642519008792 25.0930414580294, 121.642548876143 25.0931050884736, 121.642572250592 25.0931297615031, 121.642604715105 25.0931232686006, 121.642683928515 25.0930492495124, 121.642730677413 25.0929206900433, 121.642764440506 25.0925966942098, 121.642728080252 25.092481769836, 121.642633283876 25.0923415231425, 121.642503425826 25.0920746648508, 121.642478752797 25.0919337688671, 121.642494335763 25.0918298824275, 121.642630686715 25.0915669198772, 121.642920270165 25.0910948858672, 121.643007275058 25.090968274269, 121.643156611815 25.0908565963464, 121.643430022489 25.0907643935027, 121.643831535155 25.0907021945092, 121.644557956097 25.0907715703076, 121.644595597909 25.0906878408908, 121.644900034322 25.0903900029298, 121.645621172203 25.08947555213, 121.646705520554 25.0881035640776, 121.646737218923 25.087992321129, 121.646932692194 25.0880234213184, 121.647136090058 25.0881095448785, 121.6472945819 25.0882267685157, 121.647497979764 25.0884229384329, 121.647720528725 25.0885090617118, 121.64845751579 25.0886215003459, 121.648481949949 25.0887680292618, 121.648471383826 25.089412156334, 121.648415911681 25.0898642992174, 121.648363081067 25.0904797132353, 121.648384213313 25.0904916746044, 121.648471383826 25.0896920545064, 121.648492516071 25.089455217633, 121.648511006786 25.089019221281, 121.648529497501 25.0887488908011, 121.648479308418 25.0886125291821, 121.648553271277 25.0884259288255, 121.64863780026 25.087954043962, 121.648580346967 25.0876944766074, 121.648453553494 25.0874630186171, 121.648402043645 25.0874163681165, 121.648328080785 25.0874044064468, 121.64802562552 25.087437899119, 121.647955294766 25.0873960332773, 121.647898501856 25.0873146938868, 121.647902464152 25.087229765936, 121.647969823184 25.087099084432, 121.64810454125 25.0868993238769, 121.648189070232 25.0868371229189, 121.648336995951 25.0867378405551, 121.648369024511 25.0866846108209, 121.648428458952 25.0862297647881, 121.648391477522 25.0858371185627, 121.64830694854 25.0856825118968, 121.648256759457 25.0855482401852, 121.648184117362 25.0852677344415, 121.648094305319 25.0847904545344, 121.648199966547 25.0840861941295, 121.648281853998 25.0837482673161, 121.648437704309 25.0828032634874, 121.648556573191 25.0826471577224, 121.648749404932 25.082556245461, 121.649047897901 25.0824629407015, 121.649214314335 25.0823624585733, 121.649457995541 25.0820436665134, 121.649500260033 25.0818929427739, 121.649534599932 25.0813301195507, 121.649500260033 25.080884524409, 121.649426297173 25.0806255401787, 121.649312711353 25.0803982556453, 121.649170068695 25.0795309818381, 121.649222899309 25.0793922174588, 121.649399881866 25.0791577531501, 121.649590072076 25.0785398896964, 121.649976395941 25.0776726027247, 121.65016394462 25.0770020959655, 121.650113755537 25.0766545794208, 121.649886583897 25.0762861270673, 121.649775639608 25.0759164773257, 121.649743941239 25.0756341550887, 121.649799413384 25.0754475349475, 121.64997375441 25.0751813614976, 121.650589891445 25.0743744636164, 121.651334803102 25.0733707685426, 121.651953581668 25.0724005620288, 121.652654247686 25.0713035375134, 121.652736135138 25.0711145181202, 121.652691229116 25.0709344708954, 121.653022080836 25.0697800089781, 121.653016797774 25.0696071378372, 121.652327358262 25.0675571905172, 121.652250753872 25.0672575017347, 121.652195281727 25.0665319048993, 121.652121318868 25.0662274281128, 121.651793108678 25.0654629427869, 121.651703296635 25.0652260590417, 121.651637258367 25.0639375470119, 121.652173489099 25.0641217919023, 121.652826607564 25.0645219852062, 121.653249252476 25.0649191862362, 121.654774736454 25.066236400917, 121.655108229704 25.0664834518661, 121.655576441021 25.0667137531495, 121.656302861962 25.0669769540862, 121.657048434002 25.0671324816466, 121.65876146666 25.0671588016757, 121.659232319506 25.0672353690011, 121.659705813884 25.0674417416319, 121.662139984422 25.0692805363306)","wkt0":"LINESTRING (121.662035974151 25.0693433443803, 121.65970482331 25.0675763322908, 121.659261046153 25.0673705580681, 121.658757834555 25.0672688671909, 121.656976122099 25.0672305835447, 121.656224606616 25.0670965906887, 121.655210258828 25.0666993967186, 121.654532706204 25.0662136698119, 121.652732503033 25.0646332494801, 121.652251744446 25.0643365445254, 121.651693721086 25.0641002567996, 121.651775608538 25.0652272554255, 121.652194291153 25.0662465700943, 121.652260329421 25.0665181466326, 121.652295329702 25.0672572026437, 121.653083166233 25.0696020533882, 121.653075241641 25.0697940659633, 121.652755616427 25.0709389571252, 121.652787314795 25.0711237896479, 121.652697502751 25.0713415208056, 121.651980987549 25.0724648638697, 121.651349661713 25.0734709589747, 121.650950790577 25.0739859664096, 121.650175501317 25.0750183673579, 121.649871725287 25.0754639838496, 121.64980568702 25.0756434262742, 121.649837385388 25.0758976359255, 121.649948329677 25.0762708745515, 121.650180784379 25.0766375325425, 121.650225690401 25.0769964136891, 121.650030217129 25.0777052008633, 121.649623421401 25.0786424684043, 121.649454363437 25.0791694165639, 121.64924039945 25.0795426452162, 121.649361909862 25.0803710412847, 121.649501910989 25.0806563431817, 121.649560024665 25.0808890102742, 121.649594364564 25.0813082884171, 121.649584943849 25.0817814912765, 121.649549458542 25.0819452774267, 121.649515118643 25.0820601145293, 121.649245022129 25.0824100081621, 121.649014548576 25.0825374050826, 121.648603130169 25.082692912881, 121.648502752003 25.0828053568583, 121.648135579236 25.0848735898902, 121.648209542095 25.0852659401596, 121.648291429547 25.085587116197, 121.648410298428 25.0858263529212, 121.648451242154 25.0862210924936, 121.648382562356 25.086695376387, 121.648352184753 25.0867539888969, 121.648126003687 25.0869073980374, 121.647921285058 25.0872378400748, 121.647931851181 25.0873275526911, 121.647974115672 25.0873876601073, 121.648028267051 25.0874175642834, 121.64832676002 25.0873864639401, 121.648406336132 25.0873960332773, 121.648510676595 25.0875012959377, 121.6486057717 25.0876675629101, 121.648669135422 25.08793694144, 121.648624262415 25.0881017698374, 121.648562186444 25.0884450673367, 121.648475015931 25.0886140243761, 121.648523884249 25.0887411158007, 121.648508035064 25.0890234078103, 121.648493412497 25.0894544277, 121.648473908788 25.0896925106384, 121.648389166183 25.0904880861938, 121.648365392407 25.0904767228928, 121.64841558149 25.0898631030744, 121.648465770573 25.0894031852282, 121.648485582053 25.0887829811822, 121.648459166746 25.0886561888398, 121.648388162487 25.0886388063927, 121.647713594707 25.0885317886781, 121.647526046027 25.088471980863, 121.647288364858 25.0882597152972, 121.647129816423 25.0881442335175, 121.646902644783 25.0880581099818, 121.646796983555 25.0880437560533, 121.64677849284 25.088115525679, 121.64492413829 25.0904450252583, 121.644636541635 25.0907258181691, 121.644591635613 25.0908358624994, 121.644199368305 25.0907892132845, 121.643846447903 25.0907536093367, 121.643461720857 25.0908215088967, 121.643309195023 25.0908335465426, 121.643166351169 25.0908673096355, 121.643030000217 25.0909828832995, 121.642937801002 25.0911023527051, 121.642718340898 25.0914782917584, 121.642502776536 25.091847088619, 121.642496283633 25.0919405864147, 121.642518359502 25.0920736909154, 121.642671592 25.0923756108805, 121.642744312508 25.0924769001591, 121.642781971342 25.0925976681452, 121.64274950683 25.0929372469447, 121.642691070708 25.0930638585429, 121.642601468653 25.0931443705336, 121.642575497044 25.0931534605971, 121.642533942468 25.0931287875677, 121.642500179375 25.093040484094, 121.642543032531 25.0926866209091, 121.642509269438 25.0926255876258, 121.642344349715 25.0925463742156, 121.642223581729 25.0924600186127, 121.642144368319 25.0923353548852, 121.642089827938 25.0921314777475, 121.64193659544 25.0921899138697, 121.641980747177 25.092379506622, 121.642165145607 25.0926054596282, 121.642256046242 25.0927768722535, 121.64225085192 25.0928911473371, 121.642209297344 25.0930054224207, 121.641824917517 25.0934092809546, 121.64164831057 25.0935339446822, 121.641605457414 25.0936956179538, 121.641585978706 25.0938826135451, 121.641183418753 25.0939020922525, 121.641115892567 25.0938046987154, 121.641186015914 25.0936891250513, 121.641195105977 25.0935631627433, 121.641305485319 25.0935144659747, 121.641279513709 25.0932820200661, 121.641309381061 25.093124242536, 121.641608054575 25.0926229904649, 121.641814528873 25.0923522364316, 121.641906728089 25.0921886152892, 121.64209502226 25.0921029089766, 121.642166444188 25.0923288619827, 121.642240463276 25.0924535257102, 121.642354738359 25.0925333884107, 121.642523553824 25.0926126018209, 121.64256640698 25.0926762322651, 121.642558615497 25.092780767995, 121.642517060921 25.093040484094, 121.642546928273 25.0931080102798, 121.642578094205 25.0931352804702, 121.642600170073 25.0931222946652, 121.642680682064 25.093053469899, 121.642728729542 25.0929288061714, 121.642763791215 25.0925983174354, 121.642726132381 25.0924833930616, 121.642635231746 25.0923444449486, 121.642506672277 25.0920801838179, 121.642476804926 25.0919347428024, 121.642493686472 25.0918341028141, 121.642632634585 25.0915724388443, 121.642920919455 25.0910939119319, 121.643006625768 25.0909718453653, 121.643154663944 25.0908588688622, 121.643367631146 25.0907887455155, 121.643393602755 25.0908471816378, 121.643183232715 25.0910302814876, 121.643055045483 25.0911857472823, 121.643000193076 25.091552175885, 121.643102142491 25.0917652546894, 121.643594700314 25.0924454622959, 121.644162056683 25.0937711388695, 121.644381964114 25.0940970769914, 121.644440077789 25.0944493284074, 121.644400454829 25.0949116194738, 121.64429215207 25.0952489174162, 121.643961960733 25.0957674214821, 121.643713656848 25.0959564028097, 121.643351106759 25.0964180901418, 121.643152991957 25.0965400901302, 121.642428552163 25.0968151876968, 121.642261805538 25.0969907115818, 121.642187842678 25.0974308657701, 121.641960671038 25.0980229184983, 121.641973878692 25.0982286411997, 121.64208218145 25.0983745605804, 121.642224824108 25.0988990316717, 121.642301428498 25.0990473423592, 121.642327843805 25.0991962508927, 121.642319919213 25.0994139321175, 121.642523317077 25.0996746706572, 121.642673884327 25.1004556869017, 121.642716148818 25.1010064618213, 121.643477570041 25.1019351787343, 121.643531061038 25.1020745155636, 121.643536344099 25.1026181070837, 121.643618231551 25.1028028917696, 121.643914082989 25.1031066795786, 121.64399332891 25.1032860814735, 121.64399332891 25.1037722592859, 121.643890309213 25.1044282673665, 121.644283897287 25.1047194931623, 121.64457347509 25.1048319168979, 121.645157583565 25.1052364620914, 121.645432632949 25.1051781574343, 121.645654521528 25.1052594849483, 121.645757541225 25.105374599168, 121.645787918828 25.1054690824466, 121.645704710611 25.1056652247158, 121.645272820342 25.1060856139466, 121.645234518147 25.106819647154, 121.645797164185 25.1075378293513, 121.645575275607 25.1078182840349, 121.645078667836 25.1083606540608, 121.645072064009 25.1085256967224, 121.645113007735 25.1086946260276, 121.645436925437 25.1094080134042, 121.645826881406 25.1093290805548, 121.64595631641 25.1094498717128, 121.645969524063 25.1095808283285, 121.64593650493 25.1096836800014, 121.645566690632 25.1098558965622, 121.645488765476 25.1098869911932, 121.645412161086 25.1100547226719, 121.645504614661 25.110175513113, 121.645714616351 25.1102484656979, 121.645875749724 25.1102616210774, 121.646355847928 25.1102702916676, 121.646733917007 25.1102550433874, 121.646802596805 25.1102263407378, 121.646857493919 25.1102159534744, 121.646910391185 25.1102529380867, 121.646932487511 25.1102911352975, 121.646929809169 25.1103511594619, 121.647259581616 25.110377029573, 121.647721849488 25.1102215569622, 121.647872746931 25.1099760892266, 121.648416902255 25.1094833583493, 121.64857605448 25.1091550693203, 121.648824358365 25.1089182701291, 121.648998699391 25.1089326216083, 121.649038322352 25.1091000554077, 121.648922095001 25.1096645448129, 121.648845490611 25.1098271938189, 121.648829641427 25.1102966024206, 121.648470393252 25.1109794840726, 121.648401713454 25.111257538994, 121.647878029993 25.1115140665219, 121.647296893239 25.1116958479407, 121.646964060371 25.1118441431085, 121.64651433977 25.1121891678632, 121.646170280396 25.1123494216641, 121.645887636612 25.1126340510315, 121.645644615788 25.1128086552735, 121.645522444993 25.1129533613398, 121.644970365077 25.1130179408513, 121.644645456801 25.1128935654654, 121.644528569068 25.1129150919835, 121.644457247739 25.1129724960134, 121.644113848748 25.1129342266632, 121.643910450884 25.1127859328178, 121.643905167823 25.1126161122254, 121.644539465382 25.1119254661886, 121.645440887733 25.111041971739, 121.646087402371 25.1106431264676, 121.646124713992 25.1105937939411, 121.646600189518 25.1103857001555, 121.646744152941 25.1103593894217, 121.646736228349 25.1102861379173, 121.645806409543 25.1102957054632, 121.645658483824 25.1102646109362, 121.645496029686 25.1102107934669, 121.645451123664 25.110164151641, 121.645382443866 25.1100565165903)","wkt1":"LINESTRING (121.645382443866 25.1100565165903, 121.645457727491 25.109856494536, 121.645563388719 25.109826595845, 121.645910750005 25.1096579670913, 121.645931882251 25.1095643840123, 121.645918674598 25.1094663160444, 121.645816975666 25.1093682479978, 121.645426029122 25.1094507686764, 121.645066450756 25.1086880482537, 121.645034422196 25.1085140361069, 121.645039705258 25.108358561127, 121.645120271944 25.108258997238, 121.645544567812 25.1078018394817, 121.645751927972 25.1075372313662, 121.645202489587 25.1068106773247, 121.645226263363 25.1060718601255, 121.645674333008 25.1056490788702, 121.645750937398 25.1054610095111, 121.645721880561 25.1053808781224, 121.645628106221 25.1052923747365, 121.645408859173 25.1052146352231, 121.645153621269 25.1052744348532, 121.64478842965 25.1050062332836, 121.644545078635 25.1048600228157, 121.64428224633 25.1047607550773, 121.643827572859 25.1044243803646, 121.643923988729 25.103753721176, 121.643931913321 25.1033034236428, 121.6438526674 25.1031192377198, 121.643554174432 25.1028244200644, 121.64348219272 25.1026181070837, 121.643458418944 25.1023908633978, 121.643468985067 25.1020846817638, 121.643418795983 25.1019531191075, 121.642679167388 25.1010525091236, 121.642636902897 25.1009323076878, 121.64261312912 25.1004293740313, 121.642470486463 25.0996991896197, 121.642263786686 25.0994450294038, 121.642247937501 25.0993397770185, 121.642263786686 25.0992201719254, 121.642240012909 25.0990527245985, 121.642147559335 25.0989020218083, 121.642028690453 25.0984104423687, 121.641920387695 25.0982238569547, 121.641880764734 25.0980396633823, 121.641928312287 25.0979176648894, 121.642039256576 25.0976802459049, 121.64212906862 25.0973931895904, 121.642218880664 25.0969620058189, 121.642387938628 25.0967610652897, 121.643130208755 25.0964740068183, 121.643305210163 25.0963585852014, 121.64366247719 25.0959178291131, 121.643929271791 25.0957121025256, 121.644222481698 25.0952426379417, 121.64434399211 25.0948879966221, 121.644370407417 25.0945381386637, 121.644317576803 25.094112327286, 121.644095688225 25.0938079190864, 121.643519834533 25.0924383718452, 121.642994169924 25.0917099339233, 121.642933414718 25.0915036021967, 121.642996811454 25.0911567248867, 121.643115680336 25.0910084046333, 121.643322180828 25.090834520478, 121.64316959762 25.0908669849903, 121.643028052346 25.090981584719, 121.64293195739 25.0911052745112, 121.642718990188 25.091477317823, 121.642507321568 25.0918474132641, 121.642496932924 25.0919383138988, 121.642520307373 25.0920714183995, 121.642669644129 25.0923759355256, 121.64274885754 25.0924772248043, 121.642783919213 25.0926005899513, 121.642752753281 25.0929395194605, 121.642689122837 25.09306937751, 121.642603416524 25.0931440458885, 121.642573549173 25.093155733113, 121.64253978608 25.0931310600836, 121.642503425826 25.0930453537709, 121.642544980402 25.0926849976835, 121.642509918729 25.092625912271, 121.642342401845 25.0925454002803, 121.64222423102 25.0924583953871, 121.64214631619 25.0923337316596, 121.642087880068 25.0921331009731, 121.64193724473 25.0921902385148, 121.641977500726 25.0923837270086, 121.642164496317 25.092602537822, 121.642257994113 25.0927771968986, 121.642248904049 25.0928888748212, 121.642211245215 25.0930025006145, 121.641824268227 25.0934122027607, 121.641645064119 25.0935290750053, 121.641606106704 25.0937011369209, 121.641586627997 25.0938790424487, 121.641182769463 25.0938985211562, 121.641116541857 25.0938076205215, 121.641185366624 25.093688151116, 121.641199651009 25.0935576437762, 121.641302238868 25.0935108948784, 121.641278864419 25.0932810461307, 121.641311328932 25.0931219700201, 121.641610002445 25.0926194193685, 121.641817775325 25.0923499639157, 121.64190997454 25.0921882906441, 121.642095671551 25.0921012857509, 121.642167093478 25.0923265894668, 121.642241112566 25.0924590446773, 121.642354089069 25.0925324144753, 121.642521605953 25.0926142250465, 121.642568354851 25.0926746090395, 121.642519008792 25.0930414580294, 121.642548876143 25.0931050884736, 121.642572250592 25.0931297615031, 121.642604715105 25.0931232686006, 121.642683928515 25.0930492495124, 121.642730677413 25.0929206900433, 121.642764440506 25.0925966942098, 121.642728080252 25.092481769836, 121.642633283876 25.0923415231425, 121.642503425826 25.0920746648508, 121.642478752797 25.0919337688671, 121.642494335763 25.0918298824275, 121.642630686715 25.0915669198772, 121.642920270165 25.0910948858672, 121.643007275058 25.090968274269, 121.643156611815 25.0908565963464, 121.643430022489 25.0907643935027, 121.643831535155 25.0907021945092, 121.644557956097 25.0907715703076, 121.644595597909 25.0906878408908, 121.644900034322 25.0903900029298, 121.645621172203 25.08947555213, 121.646705520554 25.0881035640776, 121.646737218923 25.087992321129, 121.646932692194 25.0880234213184, 121.647143346617 25.0881230289719, 121.647293258955 25.0882298630512, 121.647503480853 25.088433192428, 121.647722318402 25.088510733292, 121.648475326349 25.0886244598926, 121.648513235216 25.0887244014507, 121.648473603218 25.0894774093971, 121.648430524961 25.0898461592839, 121.64837193853 25.0904751018478, 121.648356430357 25.0904733787174, 121.648461541306 25.0894722400062, 121.648490834521 25.088731293972, 121.648459818176 25.0886451374564, 121.647724041533 25.0885262414649, 121.647484526419 25.0884418080796, 121.647282920173 25.0882436480937, 121.647127838445 25.0881333677537, 121.646922785938 25.0880523806291, 121.646745303515 25.0880230874138, 121.646809059337 25.0876284905723, 121.647527604677 25.086494670827, 121.647786074224 25.0857881873991, 121.648099683941 25.0848335732062, 121.648199966547 25.0840861941295, 121.648281853998 25.0837482673161, 121.648437704309 25.0828032634874, 121.648556573191 25.0826471577224, 121.648749404932 25.082556245461, 121.649047897901 25.0824629407015, 121.649214314335 25.0823624585733, 121.649457995541 25.0820436665134, 121.649500260033 25.0818929427739, 121.649534599932 25.0813301195507, 121.649500260033 25.080884524409, 121.649426297173 25.0806255401787, 121.649312711353 25.0803982556453, 121.649170068695 25.0795309818381, 121.649222899309 25.0793922174588, 121.649399881866 25.0791577531501, 121.649590072076 25.0785398896964, 121.649976395941 25.0776726027247, 121.65016394462 25.0770020959655, 121.650113755537 25.0766545794208, 121.649886583897 25.0762861270673, 121.649775639608 25.0759164773257, 121.649743941239 25.0756341550887, 121.649799413384 25.0754475349475, 121.64997375441 25.0751813614976, 121.650589891445 25.0743744636164, 121.651334803102 25.0733707685426, 121.651953581668 25.0724005620288, 121.652654247686 25.0713035375134, 121.652736135138 25.0711145181202, 121.652691229116 25.0709344708954, 121.653022080836 25.0697800089781, 121.653016797774 25.0696071378372, 121.652327358262 25.0675571905172, 121.652250753872 25.0672575017347, 121.652195281727 25.0665319048993, 121.652121318868 25.0662274281128, 121.651793108678 25.0654629427869, 121.651703296635 25.0652260590417, 121.651637258367 25.0639375470119, 121.652173489099 25.0641217919023, 121.652826607564 25.0645219852062, 121.653249252476 25.0649191862362, 121.654774736454 25.066236400917, 121.655108229704 25.0664834518661, 121.655576441021 25.0667137531495, 121.656302861962 25.0669769540862, 121.657048434002 25.0671324816466, 121.65876146666 25.0671588016757, 121.659232319506 25.0672353690011, 121.659705813884 25.0674417416319, 121.662139984422 25.0692805363306)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454090800'=='0100020200' || '0454090800'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
