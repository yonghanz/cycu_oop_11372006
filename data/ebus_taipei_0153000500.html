
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492771</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0153000500">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0153000500">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0153000500" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0153000500" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0153000500" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0153000500',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="mBgBIc9fj7hMIG77eTKHSt-zirwG__1gSu7RLyBuUm4QXzxL5abp1z61JpfdcYPQVLmfiGMlcmjkV6kQsOH-0nEcCvk1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/taipei_city.svg" width="100%" class="vipstop-city" alt="臺北市">                
 <span class="stationlist-title">市民小巴5 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0153000500" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0153000500" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">臺北市公共運輸處公車申訴服務電話02-27291181</a>                </div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">興得閱覽室 - 捷運景美站</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0600 - 1900 <br>
                        [假日] 0600 - 1900
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 市民小巴5班表:0600 0700 0820 1205 1500 1740 1900<br/>市民小巴5經仙岩班表:0940 1055 1620<br>
[假日]<br /> 市民小巴5班表:0600 0700 0820 1205 1500 1740 1900<br/>市民小巴5經仙岩班表:0940 1055 1620<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">欣欣客運景德站:02-2933-0411</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 捷運景美站</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 興得閱覽室</a>
                </p>


            <p> 
<a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0153000501" >①不經仙岩路</a> <a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0153000502" >②經仙岩路</a> </p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">興得閱覽室</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800320" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="24.99579" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.55507" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">臨時站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.993817" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.558508" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">海巡署</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.993856" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5594086" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">文山運動中心(興隆)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169600000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.996475" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.560053" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">臺灣警察專科學校</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.997677" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.559454" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">捷運萬芳醫院站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169600261" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.999802" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.557024" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">中國科技大學(興隆)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169400000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.000405" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5557979" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">興隆國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.001459" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5530398" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">福興路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00284" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55136" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">敦南美景</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.004168" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.549876" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">興旺公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169100040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.006387" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5497595" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">敦南大地(文山森林公園)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.004854" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5485939" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">敦南如意</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168900160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00309" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54771" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">敦南203巷</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168900040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.001971" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.548528" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">興隆市場後站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168700160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00059" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54711" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">仙岩公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99759" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5493" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">興安宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99656" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55034" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">麥田紫藤</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99708" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55097" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">興業里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169500220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99773" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55134" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">興隆公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.999711" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.550994" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">景華街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168600140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.997427" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.547826" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">景華街一</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168600240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.995645" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.546628" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">景華公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168400140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.994822" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5445573" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">景美國小(景興)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1166900340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.989707" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5425368" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">景美國小(景文)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1166900200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.989105" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5409183" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">文山二分局</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1166900100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.992054" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5414025" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">景美國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168400020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.992776" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5427089" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">景華公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168600000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99474" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5447432" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">景華街一</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168600300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.995565" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.546655" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">景華街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168600100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.997497" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.548018" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">仙岩公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99759" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5493" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">興安宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99656" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55034" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">麥田紫藤</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99708" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55097" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">興業里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169500220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99773" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55134" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">興隆公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168800360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.999711" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.550994" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">興隆市場後站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168900320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00059" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54729" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">敦南203巷</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168900000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.002084" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.548648" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">敦南如意</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1168900120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00311" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54767" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">敦南美景</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.004168" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.549876" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">興旺公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169100040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.006387" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5497595" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">敦南大地(文山森林公園)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.004854" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5485939" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">敦南美景</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00353" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54995" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">福興路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169200240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.00296" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55102" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">興隆國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169000020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.001221" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5533283" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">捷運萬芳醫院站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169500120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.999571" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.556845" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">臺灣警察專科學校</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.998268" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5584948" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">文山運動中心(興隆)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169600040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.996275" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.559841" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">海巡署</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99467" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5594932" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">臨時站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.993703" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.558548" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">興得閱覽室</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1169800320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.99579" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.55507" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0153000500";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 26;
        var existBackNum = 24;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0153000500',
                        url: './StopStatusRecent3OfRoute?routeid=0153000500&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0153000500',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0153000500',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0153000500');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0153000500","Name":"市民小巴5","BeginStop":"興得閱覽室","GoDirStops":[{"UniStopId":"1169800320","Name":"興得閱覽室","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55507,"Latitude":24.99579,"PublicId":"1169800320"},{"UniStopId":"1169800540","Name":"臨時站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.558508,"Latitude":24.993817,"PublicId":"1169800540"},{"UniStopId":"1169800000","Name":"海巡署","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5594086,"Latitude":24.993856,"PublicId":"1169800000"},{"UniStopId":"1169600000","Name":"文山運動中心(興隆)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.560053,"Latitude":24.996475,"PublicId":"1169600000"},{"UniStopId":"1169800200","Name":"臺灣警察專科學校","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.559454,"Latitude":24.997677,"PublicId":"1169800200"},{"UniStopId":"1169600261","Name":"捷運萬芳醫院站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.557024,"Latitude":24.999802,"PublicId":"1169600261"},{"UniStopId":"1169400000","Name":"中國科技大學(興隆)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5557979,"Latitude":25.000405,"PublicId":"1169400000"},{"UniStopId":"1169200360","Name":"興隆國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5530398,"Latitude":25.001459,"PublicId":"1169200360"},{"UniStopId":"1169200200","Name":"福興路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55136,"Latitude":25.00284,"PublicId":"1169200200"},{"UniStopId":"1169200100","Name":"敦南美景","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.549876,"Latitude":25.004168,"PublicId":"1169200100"},{"UniStopId":"1169100040","Name":"興旺公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5497595,"Latitude":25.006387,"PublicId":"1169100040"},{"UniStopId":"1169200040","Name":"敦南大地(文山森林公園)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5485939,"Latitude":25.004854,"PublicId":"1169200040"},{"UniStopId":"1168900160","Name":"敦南如意","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54771,"Latitude":25.00309,"PublicId":"1168900160"},{"UniStopId":"1168900040","Name":"敦南203巷","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.548528,"Latitude":25.001971,"PublicId":"1168900040"},{"UniStopId":"1168700160","Name":"興隆市場後站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54711,"Latitude":25.00059,"PublicId":"1168700160"},{"UniStopId":"1168800020","Name":"仙岩公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5493,"Latitude":24.99759,"PublicId":"1168800020"},{"UniStopId":"1168800220","Name":"興安宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55034,"Latitude":24.99656,"PublicId":"1168800220"},{"UniStopId":"1168800120","Name":"麥田紫藤","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55097,"Latitude":24.99708,"PublicId":"1168800120"},{"UniStopId":"1169500220","Name":"興業里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55134,"Latitude":24.99773,"PublicId":"1169500220"},{"UniStopId":"1168800360","Name":"興隆公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.550994,"Latitude":24.999711,"PublicId":"1168800360"},{"UniStopId":"1168600140","Name":"景華街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.547826,"Latitude":24.997427,"PublicId":"1168600140"},{"UniStopId":"1168600240","Name":"景華街一","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.546628,"Latitude":24.995645,"PublicId":"1168600240"},{"UniStopId":"1168400140","Name":"景華公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5445573,"Latitude":24.994822,"PublicId":"1168400140"},{"UniStopId":"1166900340","Name":"景美國小(景興)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5425368,"Latitude":24.989707,"PublicId":"1166900340"},{"UniStopId":"1166900200","Name":"景美國小(景文)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5409183,"Latitude":24.989105,"PublicId":"1166900200"},{"UniStopId":"1166900100","Name":"文山二分局","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5414025,"Latitude":24.992054,"PublicId":"1166900100"}],"LastStop":"捷運景美站","BackDirStops":[{"UniStopId":"1168400020","Name":"景美國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5427089,"Latitude":24.992776,"PublicId":"1168400020"},{"UniStopId":"1168600000","Name":"景華公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5447432,"Latitude":24.99474,"PublicId":"1168600000"},{"UniStopId":"1168600300","Name":"景華街一","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.546655,"Latitude":24.995565,"PublicId":"1168600300"},{"UniStopId":"1168600100","Name":"景華街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.548018,"Latitude":24.997497,"PublicId":"1168600100"},{"UniStopId":"1168800020","Name":"仙岩公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5493,"Latitude":24.99759,"PublicId":"1168800020"},{"UniStopId":"1168800220","Name":"興安宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55034,"Latitude":24.99656,"PublicId":"1168800220"},{"UniStopId":"1168800120","Name":"麥田紫藤","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55097,"Latitude":24.99708,"PublicId":"1168800120"},{"UniStopId":"1169500220","Name":"興業里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55134,"Latitude":24.99773,"PublicId":"1169500220"},{"UniStopId":"1168800360","Name":"興隆公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.550994,"Latitude":24.999711,"PublicId":"1168800360"},{"UniStopId":"1168900320","Name":"興隆市場後站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54729,"Latitude":25.00059,"PublicId":"1168900320"},{"UniStopId":"1168900000","Name":"敦南203巷","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.548648,"Latitude":25.002084,"PublicId":"1168900000"},{"UniStopId":"1168900120","Name":"敦南如意","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54767,"Latitude":25.00311,"PublicId":"1168900120"},{"UniStopId":"1169200100","Name":"敦南美景","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.549876,"Latitude":25.004168,"PublicId":"1169200100"},{"UniStopId":"1169100040","Name":"興旺公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5497595,"Latitude":25.006387,"PublicId":"1169100040"},{"UniStopId":"1169200040","Name":"敦南大地(文山森林公園)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5485939,"Latitude":25.004854,"PublicId":"1169200040"},{"UniStopId":"1169200140","Name":"敦南美景","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54995,"Latitude":25.00353,"PublicId":"1169200140"},{"UniStopId":"1169200240","Name":"福興路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55102,"Latitude":25.00296,"PublicId":"1169200240"},{"UniStopId":"1169000020","Name":"興隆國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5533283,"Latitude":25.001221,"PublicId":"1169000020"},{"UniStopId":"1169500120","Name":"捷運萬芳醫院站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.556845,"Latitude":24.999571,"PublicId":"1169500120"},{"UniStopId":"1169800240","Name":"臺灣警察專科學校","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5584948,"Latitude":24.998268,"PublicId":"1169800240"},{"UniStopId":"1169600040","Name":"文山運動中心(興隆)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.559841,"Latitude":24.996275,"PublicId":"1169600040"},{"UniStopId":"1169800040","Name":"海巡署","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5594932,"Latitude":24.99467,"PublicId":"1169800040"},{"UniStopId":"1169800500","Name":"臨時站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.558548,"Latitude":24.993703,"PublicId":"1169800500"},{"UniStopId":"1169800320","Name":"興得閱覽室","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.55507,"Latitude":24.99579,"PublicId":"1169800320"}],"RouteMapUrl":"../MapOverview?nid=0153000500","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0600 - 1900","HeadwayDesc":"市民小巴5班表:0600 0700 0820 1205 1500 1740 1900;市民小巴5經仙岩班表:0940 1055 1620","HolidayBusTimeDesc":"0600 - 1900","HolidayHeadwayDesc":"市民小巴5班表:0600 0700 0820 1205 1500 1740 1900;市民小巴5經仙岩班表:0940 1055 1620","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"欣欣客運景德站:02-2933-0411","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.555065792504 24.995667588555, 121.555066554019 24.9958655154468, 121.555965371244 24.9958867131015, 121.556110547538 24.9958697414822, 121.556161377039 24.9958191068697, 121.556172551788 24.9957349815962, 121.556172615405 24.9955325008305, 121.556225369949 24.9954301900257, 121.556402462437 24.9953306128342, 121.556590802868 24.9953205297593, 121.556944527136 24.9953951466257, 121.557040961345 24.9953552370958, 121.557247 24.9950780381341, 121.557432814415 24.9949197995186, 121.557717926469 24.9947309993446, 121.558276217644 24.994343615191, 121.558348605736 24.9942291992661, 121.558397332151 24.9940678180747, 121.55843944479 24.9938942193191, 121.558580429898 24.9933965212951, 121.558528839586 24.9930899316437, 121.558544557563 24.9928812629263, 121.558792871041 24.9927650196948, 121.559086260101 24.993335204346, 121.559463338224 24.9940917186399, 121.559564029012 24.9943653862756, 121.559638019543 24.9946266785642, 121.559759656092 24.9953193255524, 121.559916464254 24.9957081039008, 121.560064092487 24.9961371546724, 121.560054246065 24.9963761725654, 121.559971727741 24.9967944767497, 121.559780253309 24.9972237989619, 121.559697004776 24.9974029535842, 121.559531768174 24.9975885402119, 121.558870967462 24.9981459280202, 121.558553174246 24.9984622176319, 121.558239309669 24.998798289057, 121.557811000733 24.9991648120056, 121.557333150254 24.9994700068939, 121.556578257056 24.9999591915648, 121.55606443478 25.0002558473935, 121.555337094147 25.0006079231957, 121.554710695684 25.0008576132595, 121.553901667561 25.0011441688357, 121.55299509037 25.0014825666041, 121.551812811499 25.0018813640552, 121.551841655146 25.001965169071, 121.551872207343 25.0021530607807, 121.551855731218 25.0023630605683, 121.551839581731 25.0024219911232, 121.551759167614 25.0025050403789, 121.551445271696 25.0027194209832, 121.550255605359 25.0035228684521, 121.55015301139 25.003588163054, 121.550090735666 25.0036033220754, 121.550027382312 25.0036566675284, 121.549939723004 25.0038295958692, 121.549709624591 25.0047792841878, 121.549143242251 25.0046887804012, 121.548677733454 25.0049051926883, 121.5485132146 25.0046812092046, 121.548427635557 25.0044799779077, 121.548394663874 25.004322177408, 121.54841696358 25.0041191495376, 121.548491785142 25.0040062634186, 121.548613487619 25.0038528229228, 121.548833071448 25.0036937246713, 121.549086073911 25.0036027913558, 121.549351339489 25.0035693360113, 121.549701795029 25.0035294089651, 121.549988720147 25.0035334593492, 121.550130052795 25.0035571304021, 121.55022734405 25.0035001863124, 121.551403386206 25.002708417527, 121.551292258375 25.002603279085, 121.551168217269 25.0025268063647, 121.550943399011 25.00242603031, 121.550428722082 25.0023290485517, 121.550174394897 25.0023043029312, 121.549913030024 25.0023732382028, 121.549568491624 25.0025445468371, 121.549277076251 25.0026855911249, 121.549032522076 25.0027932717702, 121.548771260558 25.0028253010234, 121.548506798186 25.0027962862712, 121.548317357392 25.0027301353168, 121.548232490945 25.0027395872866, 121.548159879721 25.0027810250328, 121.548029663088 25.0029102261746, 121.547919307425 25.0030721613903, 121.547854488109 25.0032483319464, 121.547732319051 25.0034291286545, 121.547643319137 25.0035144684141, 121.547519100282 25.0035668220767, 121.547377248009 25.0035573027962, 121.547185712093 25.0035162606331, 121.546951050812 25.0033820618532, 121.546824991538 25.0032385363321, 121.546724226542 25.0030540701455, 121.54666125997 25.0028827701902, 121.546676717259 25.002660911265, 121.546809324393 25.0025001515468, 121.546933327073 25.002445333366, 121.547102189451 25.0023871912009, 121.547263179816 25.0024349433065, 121.547390328339 25.0023877535623, 121.548700927894 25.0019262658596, 121.54854557647 25.0016330055105, 121.548355864035 25.0014167845354, 121.547706662117 25.0009760114388, 121.54730144721 25.0007437726878, 121.546938461239 25.000512167981, 121.54658474769 25.0003285083599, 121.547076158499 24.9994394554287, 121.547193063516 24.9993180879687, 121.547258018052 24.9992668913769, 121.547308086003 24.9992057484258, 121.54745533424 24.9989151816396, 121.547642514183 24.9984430231501, 121.547834051588 24.9978758795393, 121.547876812409 24.9975628435706, 121.547844320595 24.9972381083879, 121.547701510625 24.9968348171493, 121.547461290674 24.9963802051866, 121.547206127042 24.9960675516927, 121.54691352602 24.9958470922289, 121.546631597171 24.9956486692797, 121.546203114921 24.995442153542, 121.545757139778 24.9952968007505, 121.545278963054 24.9952171012099, 121.54464775512 24.9951428619428, 121.544625695042 24.9945053050386, 121.544543448823 24.9937780439739, 121.544330921713 24.993118204172, 121.5441527297 24.9925784414369, 121.543813643781 24.9917535458163, 121.543728463516 24.9915664301154, 121.543542 24.991254, 121.543186225018 24.9906060849976, 121.542752335726 24.9899430111623, 121.54237267811 24.9894896574027, 121.542128882279 24.988947079834, 121.542148096873 24.9883118212783, 121.541895544122 24.9883043372252, 121.540841377067 24.9883567414407, 121.540830957247 24.9885354603799, 121.540872570813 24.9891600944668, 121.540894102799 24.989406142926, 121.540975280194 24.9897789624397, 121.541007193746 24.9900176058108, 121.541118505212 24.9904320154611, 121.54129426977 24.9912706697754, 121.541314010424 24.9915365398845, 121.541312974375 24.9918577519947, 121.541327605736 24.992885958183, 121.542341750548 24.9928514793022, 121.543333283911 24.9927415585804, 121.544204190624 24.9925049239772, 121.544359172898 24.9928798288992, 121.544627172898 24.9937768550313, 121.544695873857 24.9945340734398, 121.544730965871 24.9951145578373, 121.545277202059 24.9951629849468, 121.545771622498 24.9952407338682, 121.546209148284 24.9953834385358, 121.546682094294 24.9956159614575, 121.546963116726 24.995799320795, 121.547252510806 24.9960476436005, 121.547518504451 24.9963563008672, 121.547775575671 24.9968367435899, 121.547917677573 24.9972431781385, 121.547945073364 24.9975652852437, 121.547886759444 24.9979063422426, 121.54776322151 24.998287171392, 121.54794985824 24.9983100924026, 121.548190817089 24.9981395402623, 121.548218555413 24.9979603812904, 121.548726216742 24.997637576423, 121.548817302153 24.9976678772329, 121.548900498613 24.9977750996156, 121.549237545688 24.9976222891486, 121.549451476072 24.9975587491898, 121.54971285703 24.9975681010707, 121.549828148512 24.9975748427826, 121.549955535428 24.9974551658167, 121.550162963281 24.9970890506565, 121.550256095682 24.9968170210347, 121.550333783091 24.9965164761282, 121.550298970879 24.9963941338343, 121.550297663305 24.9963185806282, 121.55028413675 24.9961821576089, 121.550308536467 24.9961143106062, 121.550374803262 24.9959271606229, 121.550451100395 24.9958282321231, 121.550555200104 24.9957273233068, 121.550669731914 24.9956968083259, 121.550816223355 24.9956793383458, 121.550947111381 24.9956901228002, 121.551157325483 24.9957620191401, 121.551307307853 24.9959126666085, 121.551327876547 24.9960963365737, 121.551240691754 24.9963214194051, 121.551109897473 24.9966374154572, 121.550991644705 24.9968539636618, 121.550964151424 24.997119261642, 121.550973599259 24.9973650659357, 121.551284355746 24.9977255029391, 121.551369910179 24.9978645448778, 121.551447069674 24.998010896513, 121.551466941377 24.9981654208599, 121.551153288511 24.9995100479457, 121.550974875508 24.9996371696976, 121.55074796368 24.9997573397239, 121.550475181753 24.9998401160638, 121.550326511235 25.0001393370371, 121.549234911132 24.9993623303325, 121.548866633806 24.9990231479336, 121.548358031121 24.9985691057251, 121.547946453201 24.9983632403158, 121.547873225925 24.9983538541518, 121.54779617796 24.9983438041166, 121.547753483131 24.9983580939797, 121.547705253388 24.9984695370745, 121.547513805386 24.9989209217714, 121.547388008224 24.9992060760213, 121.547289699671 24.9992950209101, 121.547233485803 24.999342111742, 121.547118083302 24.9994676474675, 121.546626582259 25.0003277713357, 121.546928662614 25.000454963401, 121.547274388789 25.0006630292262, 121.547419677129 25.0004618517291, 121.548141495582 25.0008779194447, 121.547967306379 25.0011021911001, 121.548393576598 25.0013901685714, 121.548595877449 25.0016533418712, 121.548754145025 25.0019493011322, 121.547423782875 25.0024149180995, 121.547244177589 25.0024762328421, 121.547113306936 25.0024169031467, 121.546940835888 25.0024698331733, 121.546848082918 25.0025264016645, 121.546713722918 25.0026639130705, 121.546707348464 25.0028840896474, 121.546763503655 25.0030652909425, 121.546868471117 25.0032203879775, 121.546974335228 25.0033479266216, 121.547197758262 25.0035038247353, 121.547367885762 25.003524943283, 121.547514686485 25.0035264195218, 121.547613474137 25.0034925503167, 121.547709245761 25.0034171371657, 121.547806419958 25.0032353233225, 121.547876178882 25.0030545953612, 121.547993709393 25.0028784655672, 121.548127435939 25.0027603544092, 121.54819950571 25.0027119124725, 121.548320504568 25.0026868242948, 121.548523732462 25.0027568747016, 121.548778586624 25.0027909899066, 121.549034042563 25.0027549881888, 121.549264957412 25.0026502171969, 121.549551348349 25.0025129091373, 121.549904495938 25.0023348298287, 121.550163397325 25.0022772288601, 121.550409456777 25.0022880347742, 121.550947861447 25.0023852657887, 121.551196369493 25.0024838548418, 121.551305048116 25.0025795526561, 121.551438900959 25.0027040626703, 121.551735500249 25.0024982918672, 121.551820303503 25.0024151704104, 121.551834916193 25.0023636592291, 121.551843102813 25.002167564456, 121.55179398566 25.0019761069729, 121.551762 25.0017932243431, 121.551930269668 25.0017544880009, 121.552148373123 25.0016558818459, 121.553104545616 25.0013156174044, 121.553869727322 25.0010438339051, 121.55464118566 25.0007733048895, 121.555303611143 25.0005239534437, 121.556016131603 25.0001660645007, 121.556540657285 24.9998717091481, 121.557284460254 24.9994006055182, 121.557781126149 24.9990805661584, 121.558199583197 24.998730556029, 121.558800209746 24.9980927484733, 121.55944410807 24.9975107429946, 121.559663220201 24.9972046621078, 121.559850757716 24.99676668801, 121.559947151346 24.9963871425736, 121.559946913172 24.9961160559064, 121.559642467462 24.9954013346522, 121.559592898832 24.99522580999, 121.559489172817 24.9944991486032, 121.559352338224 24.9941041344905, 121.558939415558 24.9933184327347, 121.558615074289 24.9934252384753, 121.558556833299 24.993632609152, 121.55844504522 24.9940793766196, 121.558384435101 24.9942698493129, 121.558321301678 24.9943705801876, 121.557903847572 24.9946567610012, 121.557745123541 24.994759861511, 121.557476618785 24.9949408901978, 121.557283190634 24.9951014163895, 121.557034967843 24.9954111204668, 121.556933362643 24.9954438749035, 121.556589802868 24.9953685892633, 121.556406567081 24.9953701411501, 121.556260291802 24.9954472876947, 121.556218605688 24.9955479293529, 121.556227072843 24.9957484621397, 121.556194974605 24.9958461679785, 121.556146432509 24.9959031488439, 121.556061503767 24.9959255999037, 121.555954123756 24.9959315290036, 121.555012439705 24.9959039381618, 121.555013187225 24.9956706125433)","wkt0":"LINESTRING (121.555071211681 24.995831683285054, 121.55595528262423 24.995868889888978, 121.55610078964628 24.995841050804017, 121.55617725984968 24.995800621196924, 121.55619000488358 24.995765442177333, 121.55618479100607 24.995546491933492, 121.55617957712856 24.995474558554825, 121.55618942556386 24.995446205240718, 121.55622766066554 24.995410501058092, 121.55627110964474 24.995373746741606, 121.55635105576644 24.995341717971144, 121.55650689277182 24.995288161647778, 121.55656424542437 24.995275560156532, 121.5567015441986 24.995303913510011, 121.55686375372093 24.995353794393779, 121.55696223807379 24.99536587081522, 121.55701843208689 24.9953637705681, 121.5570601431069 24.995341192909262, 121.55715804814001 24.995225679241024, 121.55726522228871 24.995112790778524, 121.55736023072321 24.994998327022298, 121.55740541766154 24.994941620167797, 121.55745639779713 24.994903815583594, 121.55756936514304 24.994866536051678, 121.55768233248894 24.994790926825452, 121.55787177003822 24.994631832260019, 121.55809654609057 24.994462236176357, 121.55825354173541 24.994362473664882, 121.55831205302739 24.994319418240174, 121.55835028812908 24.994228056679248, 121.55840648214217 24.994032206667512, 121.55849801465833 24.993736068255441, 121.55852987724306 24.993628429116793, 121.55857216758281 24.99350031216548, 121.55858491261668 24.993465657557344, 121.55864342390865 24.993386897047959, 121.55875639125455 24.993339640718109, 121.55887862771601 24.993310236770359, 121.55904315451727 24.993323363533605, 121.5591497493462 24.993446229969706, 121.55934903533075 24.993830580592125, 121.55960509464815 24.9943808509757, 121.55966418525985 24.994574075106094, 121.55970821355876 24.994950021184923, 121.55978236648328 24.995277660405154, 121.55990402362498 24.995631551786783, 121.56000366661729 24.995953938597555, 121.56008361273899 24.996201766320144, 121.56009404049402 24.99636138391077, 121.55998165246784 24.996683768806967, 121.55990402362502 24.997008253076494, 121.55973022770824 24.997361089368077, 121.55964217111038 24.997519655347741, 121.55949849981917 24.997662469564897, 121.55932933846019 24.99780738382147, 121.55899565029999 24.998038406195963, 121.558657327582 24.9983544861047, 121.55826339017065 24.998790276007753, 121.55806062826774 24.998975617510133, 121.55777212704589 24.999173034780263, 121.55747725330707 24.999364676241761, 121.55710127480714 24.999622997957957, 121.55644316760228 25.000024130603439, 121.55583256461466 25.000346505890334, 121.55546759318943 25.000548121275035, 121.55510957360087 25.000707733219961, 121.55481064462404 25.000817991350303, 121.55432633333595 25.00099125392666, 121.55370066803556 25.001206519211454, 121.55298231157956 25.001473237626545, 121.55217589852572 25.001763056980231, 121.55185611403887 25.001873314163522, 121.55183120329083 25.001895365588307, 121.55182830669219 25.00193841835863, 121.55187754886863 25.002149481721673, 121.55188160410667 25.002253963202548, 121.55186364519533 25.002345318796422, 121.55182193417529 25.002427223753866, 121.55176400220303 25.002505978469152, 121.5516939045166 25.002577382700711, 121.55149983240952 25.002702340006071, 121.55133994016609 25.002799470596813, 121.55115397853513 25.002933878206544, 121.55093267840108 25.003075636073095, 121.55040318017467 25.003426879859912, 121.550327289291 25.00347833252761, 121.55019752167314 25.00356233683673, 121.55004631922556 25.003665767063431, 121.54997969745743 25.003736120568892, 121.54993624847823 25.003828525111864, 121.549909599771 25.003944030692836, 121.5498528264382 25.004202867804931, 121.54980879813928 25.00439135128174, 121.5497427556909 25.004659637848832, 121.54969814807227 25.00486702138862, 121.54961240875332 25.005251336288698, 121.5495730150122 25.005439293138082, 121.54952782807385 25.005623049556387, 121.54944324739434 25.005880833097052, 121.54934592168095 25.006087689559241, 121.549239326852 25.006258844642776, 121.54926307896061 25.006286670446709, 121.54931058317787 25.006315021259315, 121.54970162399061 25.006495626282351, 121.54975318344593 25.006494576253914, 121.54978041147291 25.006465175454053, 121.54989511677798 25.006247294307219, 121.54994899351217 25.006123915655092, 121.54999997364777 25.005991611601083, 121.55003647079029 25.005885033231724, 121.55009961664007 25.005662950913745, 121.55008571296675 25.005613074215017, 121.55005442970172 25.005597848692421, 121.54965875433118 25.00552119603276, 121.54958923596446 25.005512270719965, 121.54954346970636 25.005483394703539, 121.54954231106694 25.005414617255251, 121.54956316657695 25.005295962940973, 121.54960371895754 25.005140032097046, 121.54965585773257 25.004900622739317, 121.54967149936509 25.004814519259739, 121.54967497528345 25.00477986784238, 121.54964253337894 25.004757816935339, 121.5494183366463 25.004715815196693, 121.54921789202228 25.004687464014992, 121.54914895297533 25.004689039080819, 121.54904988930275 25.004736291046076, 121.54876022944147 25.004877521811689, 121.54871214590447 25.004896422570969, 121.54866058644919 25.004873321642556, 121.54862350998692 25.00482659475135, 121.548527342913 25.004684313883285, 121.54849779760714 25.0046360118537, 121.54843581039682 25.004552008278772, 121.54842480332208 25.0045142066513, 121.54839352005705 25.004361424955128, 121.54838251298233 25.004280571334562, 121.54838830617956 25.004194992444432, 121.54842654128126 25.004070561681871, 121.54847346617878 25.003971331996084, 121.54846767298157 25.003927754912972, 121.54844044495459 25.003904128777116, 121.54827997339144 25.003772347358193, 121.54817164060331 25.003687818166462, 121.5480841633252 25.003580712771665, 121.54801870019656 25.003460481604492, 121.5479532370679 25.003320824293162, 121.54792021584373 25.003256770886733, 121.54789762237452 25.003241020043966, 121.5478535940756 25.003253095690262, 121.54782346945004 25.00328039714708, 121.54774873720581 25.003401153517942, 121.54766299788687 25.003495133393997, 121.5475564030579 25.003552361327987, 121.54742084224283 25.003563911916942, 121.54728412278831 25.0035413357648, 121.54716999680296 25.00349460836695, 121.5470124218384 25.003406403792241, 121.54684094320054 25.003239969987714, 121.54678474918744 25.003165940999057, 121.54673145177296 25.003070910813474, 121.54669147871209 25.002916552233817, 121.54669205803184 25.002788969996079, 121.54669958918821 25.002696564671197, 121.5467604177591 25.002572657421915, 121.54680328741858 25.002519104250077, 121.54689945449253 25.002442974700916, 121.54697186945785 25.002411997836376, 121.5470651399332 25.002371045359403, 121.54713465829992 25.002383646123004, 121.54720996986384 25.00240727255127, 121.54724820496553 25.002406747519579, 121.5475836310849 25.002292815589811, 121.54820582046698 25.002081752473003, 121.54852734291298 25.001974120644483, 121.54865711053084 25.001914266806363, 121.54865913814974 25.001871476544562, 121.54864928971446 25.001841024570034, 121.54852937053188 25.001628385572044, 121.54843725869598 25.001458274108685, 121.54839554767595 25.001402620307193, 121.5482061101267 25.001278186716434, 121.54803810740715 25.00117737966443, 121.54779131720534 25.001023543743358, 121.54754858224157 25.000873382897435, 121.54725254986332 25.000691194491811, 121.54700981489955 25.000568860338745, 121.54668249925628 25.000389821723477, 121.5466378916377 25.000354644017683, 121.54661124293047 25.000253311167061, 121.54675317626248 25.000006016657434, 121.54706774687187 24.999479923497223, 121.54712509952442 24.999383315326792, 121.54723922550974 24.999297733025415, 121.54729773680172 24.999265180232548, 121.54733423394424 24.999225276797276, 121.5474327182971 24.999012633272372, 121.54768703965529 24.998373125342958, 121.54770905380475 24.998325870930408, 121.54775018550504 24.99829961847114, 121.54777195203764 24.998291784944563, 121.54781680727316 24.998290692633713, 121.54798712727157 24.998338472108866, 121.5481777234603 24.998408303616056, 121.54829995992169 24.99846842168628, 121.54834109162198 24.998481547898582, 121.54837527148561 24.99846842168628, 121.5484586935258 24.998336371912533, 121.54857050223224 24.998178332036495, 121.54868694549651 24.998027642663072, 121.54879180236628 24.997896379992074, 121.54888681080081 24.997796620268343, 121.54909536590094 24.997670607869971, 121.5493305697083 24.9975865995326, 121.5494869860334 24.997538294712612, 121.54972334848021 24.997559296810596, 121.54983341922748 24.997556146496123, 121.54991104807031 24.997475288397123, 121.55005703664041 24.99726631721952, 121.55025052942774 24.996939733411221, 121.55029919228446 24.996792717908761, 121.55032699963112 24.996602647605609, 121.55030614412112 24.99629181376919, 121.55033974466501 24.996092291635563, 121.55042780126284 24.99586861643748, 121.55054945840459 24.995752053144734, 121.5506827019408 24.995692196275765, 121.55090168479592 24.995668043495815, 121.55111371581441 24.99570899820684, 121.55128519445228 24.99582976201885, 121.55135007826119 24.995982029264852, 121.5513622439754 24.996088091166115, 121.55133385730899 24.996208854605609, 121.55120930356864 24.996482934667114, 121.55105230792381 24.996858349851248, 121.55101465214183 24.9970027400013, 121.55100248642766 24.997173382687194, 121.55101639010103 24.997367652533448, 121.55105462520271 24.997432759115917, 121.55115832343307 24.997528843767348, 121.55124232479282 24.997608651726718, 121.55129967744537 24.997687934582409, 121.55133849186677 24.997770367695992, 121.5514491419338 24.997979338016435, 121.55147694928048 24.998061245884287, 121.55148737703549 24.998258664623453, 121.551452907512 24.998360524168028, 121.55140105839685 24.998562405335463, 121.55134776098231 24.998800251903003, 121.55127708397619 24.999122630400915, 121.55119829649391 24.999474935577197, 121.55114789567801 24.999561567842861, 121.55108822574661 24.999588345076248, 121.5508761947281 24.99971068020556, 121.55076091010332 24.999767384859375, 121.55055177568346 24.999825139572472, 121.55049268507175 24.99984719136485, 121.55047009160256 24.999894970234774, 121.550450394732 24.999967951110115, 121.55040810439225 25.00008136015412, 121.55037740044696 25.00012283843574, 121.55031251663802 25.000133864305713, 121.55025979854329 25.000107612232725, 121.55008078874897 24.999992628086936, 121.54981951555412 24.999813063589244, 121.54955476644086 24.999622472914265, 121.5492071746073 24.999379902536727, 121.54911506277141 24.999309021491843, 121.54894010821522 24.99912210535518, 121.54879933352258 24.998975617510016, 121.54855254332077 24.998735671092437, 121.54844594849179 24.998629086428423, 121.54835789189396 24.998551904372629, 121.54828837352724 24.998509900512371, 121.54814006767828 24.998448469840891, 121.54801030006041 24.998397540115612, 121.54787995312283 24.99836131174148, 121.54779131720525 24.998337159486123, 121.54774670958665 24.998291480207584, 121.54773583326596 24.998276927371805, 121.54773422178855 24.998260582730804, 121.54770905380546 24.998325870929865, 121.54773378723281 24.998260582730804, 121.54774381298802 24.998234774872675, 121.54778842060665 24.998069384163031, 121.54785651300743 24.997825512531737, 121.54787099819769 24.997760921411302, 121.54788084812708 24.997662196706333, 121.54787968931186 24.997481551296143, 121.54787273642052 24.997324536610524, 121.54784260722474 24.997154393380221, 121.54779915165393 24.996969546146985, 121.54772962274062 24.996776821604893, 121.54763170285439 24.996586197305447, 121.5475256712616 24.9964360082552, 121.54741500440792 24.996278467096147, 121.54725682613014 24.996073663287454, 121.54699609270526 24.995855730654657, 121.5468129999002 24.99572444574958, 121.54646593474126 24.995544322631602, 121.54622200413711 24.995426165923934, 121.54599313813081 24.995335841608572, 121.54570111669493 24.995263897193617, 121.54548673587888 24.995232388677447, 121.54498207184983 24.99517987446589, 121.5448117260122 24.995165695624923, 121.5446941062672 24.995119483094857, 121.54465123010401 24.995077471688813, 121.54463384787567 24.99494513566589, 121.54463384787567 24.994456751490851, 121.54460951275603 24.994075495398892, 121.54456431896236 24.993754105047309, 121.54445654914674 24.993375997675358, 121.54428040923307 24.992970581256543, 121.54420624505885 24.992757369494537, 121.54404632855825 24.992370856588927, 121.54398838779719 24.992228014555355, 121.54379950091604 24.991771128995108, 121.54355846734991 24.991294285702697, 121.54329889274024 24.99079643412399, 121.54319807581595 24.990646237998632, 121.54301266538046 24.990355298128861, 121.54282841376019 24.990069609211229, 121.54259317427017 24.989791271943364, 121.54241124028036 24.989559148683313, 121.54227565889944 24.989327024984952, 121.54218758894258 24.989136914299177, 121.54212385410538 24.988889034731379, 121.54210878950747 24.988608594109277, 121.54213775988802 24.988373317588245, 121.54211806002925 24.9883260521614, 121.54206475452905 24.988314498387634, 121.54102877372078 24.988371216902994, 121.5409708329597 24.988404827862709, 121.54094997428574 24.9884667980456, 121.54090941575295 24.988777698830638, 121.54091834876483 24.989282710004158, 121.54102380095 24.989908707979097, 121.54111187090685 24.990333040364067, 121.54124165821169 24.990878158283326, 121.54139230419052 24.991511500344334, 121.54137723959263 24.991684802329704, 121.54138803898097 24.992055326816608)","wkt1":"LINESTRING (121.54138803898097 24.992055326816608, 121.54137905816299 24.992220619423698, 121.54137152586405 24.992326438084845, 121.54134458341012 24.992684855453813, 121.54133878933402 24.992837674849358, 121.54140426239405 24.992869183979451, 121.5415131910249 24.992886513997558, 121.54217255688607 24.99286235700195, 121.54286900483436 24.99283032271784, 121.54312394418315 24.992777282327431, 121.5433823599776 24.992709012484308, 121.54388586519147 24.992572997837666, 121.54406026688234 24.992525734025605, 121.54413790750222 24.992530985561178, 121.54420627760027 24.992570372070809, 121.54425958310047 24.992620261631554, 121.5443783616607 24.992849228197997, 121.54453653993849 24.99329718219651, 121.54460780707463 24.993561857648732, 121.54464604797693 24.993701547240949, 121.54467559776511 24.993843337266178, 121.54470167110757 24.994018211405344, 121.54472774445007 24.99417838119437, 121.54473064148813 24.994384763598369, 121.54473122089573 24.994861594901085, 121.54474802371645 24.995069026443208, 121.54479553514057 24.995100009858689, 121.54488070805937 24.995117864704739, 121.54522429677262 24.995157775527712, 121.5454409952191 24.995180356645491, 121.54573591369304 24.995218166879923, 121.54603894387353 24.99529798844776, 121.54626201580372 24.995393039062883, 121.54638774725528 24.995455530863708, 121.54660444570173 24.99557001155927, 121.54675161523491 24.995655609440853, 121.54690457884418 24.995740156983164, 121.54706275712194 24.995854637413586, 121.54721340310077 24.995964916626452, 121.5473055289109 24.996076771155558, 121.5475077421671 24.996324111090836, 121.54765027643937 24.996538366938136, 121.5477377669886 24.996705885342838, 121.54780497827149 24.99686027514371, 121.54787276896197 24.997055625226004, 121.54792665386977 24.997332895777379, 121.5479341861687 24.997625919657416, 121.54791506571753 24.997788185268881, 121.54784727502707 24.998046549489604, 121.54778643722791 24.998265791059779, 121.54778933426597 24.99827996954307, 121.54781613186799 24.998291522380111, 121.54798604314986 24.998339374744617, 121.54817855132859 24.998410792230679, 121.54829761959262 24.998471444548372, 121.54834252368245 24.9984835224955, 121.54837902636196 24.998468031215268, 121.54846304046551 24.998337274229709, 121.54857283820778 24.998180523202194, 121.54868900943373 24.998028498145302, 121.54879359250749 24.997897478126731, 121.54888861535568 24.997797703269388, 121.54909575357658 24.997673247149571, 121.54933244158562 24.997587125541394, 121.54948743312153 24.997540388789741, 121.54972267261154 24.997562444337682, 121.54983623650328 24.997557455583138, 121.54991329771555 24.997477898049084, 121.55006249517533 24.997267582339727, 121.55025138205649 24.996942261825613, 121.55030381844526 24.996793386048868, 121.55033105060296 24.996601186366657, 121.55030758459475 24.996291880782479, 121.5503426387552 24.996093116087028, 121.55042897048922 24.995870719804962, 121.55055209460653 24.995754401400326, 121.55068333043039 24.995695060591672, 121.55090118769208 24.995670379007951, 121.55111064354341 24.995711865071367, 121.55128185849244 24.995830284074074, 121.55134588303342 24.995983624697391, 121.55135660207424 24.996088127272834, 121.55133052873175 24.996208909033239, 121.55120812887392 24.996482242970121, 121.55104966089233 24.996857977677855, 121.5510111302862 24.997000814330367, 121.55099751420734 24.997173583441874, 121.55101113028623 24.997369720725427, 121.5510528476342 24.99743299922, 121.55115714100415 24.997533824637802, 121.55123796836585 24.997611281608311, 121.55129619883076 24.997690576490257, 121.55133443973308 24.99777302210796, 121.55144452717913 24.997981761561508, 121.55147349755968 24.998063944418895, 121.55148189897004 24.9982590300232, 121.55144916244001 24.998361430149153, 121.55139730545883 24.998559666047921, 121.55134428966244 24.998797811267686, 121.55127273282251 24.999124964808235, 121.55119567161026 24.999471809625085, 121.55114787048237 24.99955950528291, 121.5510905091289 24.99958497377061, 121.55087496949766 24.999707327462662, 121.55076140560594 24.99976404072066, 121.55054992182798 24.999824167248, 121.55048937373265 24.999845697263744, 121.550466487132 24.999895058749, 121.55044707697704 24.999967525574409, 121.55040593903665 25.000076225732379, 121.5503752304333 25.0001208610351, 121.55031584115318 25.000130838335846, 121.55026021802254 25.000105632521883, 121.5500820501822 24.999990105808376, 121.54982392409154 24.999811826871429, 121.54955855540577 24.999621994964969, 121.54921062113543 24.999375711916198, 121.54912486880903 24.999307970863132, 121.54894583185728 24.999118400740944, 121.54880213876977 24.998972415793784, 121.54856110520365 24.998731907840718, 121.54845275598039 24.998624781876018, 121.54836352720832 24.998549163491774, 121.54829399829501 24.998505577874159, 121.54814798757708 24.998444137880902, 121.54801008856566 24.998391099913302, 121.54788146007607 24.998358016813004, 121.54778991367354 24.998334386021622, 121.54776760648053 24.998344626031773, 121.54775080366078 24.998367731692746, 121.54778643722723 24.998265791060458, 121.54775080365978 24.998367731692579, 121.54769373201013 24.998512667102169, 121.54757800241271 24.998791734361088, 121.54751484698312 24.9989455964152, 121.54745804947036 24.999079515504068, 121.54738112655441 24.999289598105698, 121.54729664870925 24.999330992116708, 121.54717096215909 24.999396351053051, 121.54701230864494 24.99966712341897, 121.54678772120282 25.0000157030575, 121.54664417754717 25.000270912522936, 121.54665241928818 25.000305147898711, 121.54672247408662 25.000344985414873, 121.54704184155017 25.000530478679416, 121.54725818725126 25.000646256212654, 121.54769843358271 25.000905821576197, 121.54797796596475 25.00107388518818, 121.54814760846688 25.001192774493386, 121.54844499795445 25.001367684728031, 121.54849513521215 25.001448603969418, 121.54865378872627 25.001749249607137, 121.548717662219 25.001866893352062, 121.54871285453675 25.001940965281818, 121.54862425582107 25.001984536984345, 121.54810846019717 25.002160068543709, 121.54732755523797 25.002437059324087, 121.54722453347551 25.002450130783686, 121.5471414292538 25.0024351919726, 121.54707137445537 25.002425855214753, 121.54690310557672 25.002495569656229, 121.54679458932034 25.002629396375, 121.54675612786234 25.002782518860442, 121.54675750148584 25.002947467665788, 121.54679939700257 25.003105569331719, 121.54689829789449 25.003255578992, 121.54704733604414 25.003384425317467, 121.54723964333402 25.00348214925198, 121.54744362642364 25.003513271507796, 121.5475432141273 25.003496465490638, 121.54763730733698 25.003445424979976, 121.54771285662946 25.003358905041512, 121.54778977954541 25.003213875079933, 121.54791202248182 25.003028981912106, 121.54804060408759 25.002835388877667, 121.54812252301387 25.002748929754034, 121.5482272548057 25.002702880848144, 121.54844812482206 25.002716037680152, 121.54879757644422 25.002785580911702, 121.5490962175931 25.002742351339965, 121.54944566921526 25.002568493126123, 121.54988533535115 25.002334488979603, 121.55003050813187 25.002282801256619, 121.55031774284798 25.002255547721198, 121.550927468527 25.002364561826603, 121.55115248633712 25.002444442790708, 121.55137335635347 25.00264837395763, 121.55138165194093 25.002687374580024, 121.55133758163248 25.002796858188784, 121.55115248633709 25.002930775774992, 121.55093187555781 25.003075383109866, 121.55040173567107 25.003426387045735, 121.55032603843541 25.003476899577787, 121.5501966791183 25.003561713596529, 121.5500450254099 25.00366414817822, 121.54997966525384 25.0037349389996, 121.54993601620571 25.003828416300497, 121.54990866669078 25.003943948625036, 121.5498507920063 25.004202735938925, 121.54980620322364 25.004389865962924, 121.54974035699811 25.00465863727516, 121.54969576821544 25.004865149098968, 121.54961099768097 25.00524927426418, 121.5495713344034 25.005439456890709, 121.54952752333212 25.005623046279368, 121.54944294722551 25.005880097392982, 121.54934417788719 25.006086842100348, 121.54923724257999 25.006258933310153, 121.5492626478166 25.006288182918425, 121.549310217826 25.006316492773614, 121.54970088814839 25.006498216045546, 121.5497527355701 25.006496571492256, 121.54978177012622 25.006466029784271, 121.54989894529928 25.006249653312505, 121.54995416280337 25.006123257325278, 121.55000341785397 25.005991692590769, 121.55004126647181 25.005885500952285, 121.55010452032626 25.005663015075779, 121.55008741067709 25.005610858877471, 121.55005578374987 25.005594883100581, 121.5496596694482 25.005515474061106, 121.54959174932578 25.005508660857107, 121.54954664206893 25.00548258272795, 121.54954353122366 25.005414333183545, 121.54956452942949 25.005296041714722, 121.54960665545958 25.005141334626771, 121.54966161372657 25.004900287203963, 121.54967561253044 25.004814299412359, 121.5496782049015 25.004778588617832, 121.54964450407742 25.004755564547434, 121.54941793084467 25.004710456152104, 121.54922091064226 25.004684142913842, 121.54914780577768 25.004684142913842, 121.54904514788275 25.004733950110072, 121.54876102401192 25.004873974006358, 121.54871021353866 25.00488807036292, 121.54865992153962 25.004866925827475, 121.54862985003504 25.004825576503205, 121.54853289535649 25.004680383879339, 121.54850334232613 25.004634805576913, 121.54844319931699 25.004550227238937, 121.54843438525528 25.004511227207928, 121.54840223985383 25.004357106482288, 121.54838798181285 25.004281220749085, 121.54839238884369 25.0041942927618, 121.54843179288416 25.004071183831329, 121.54848104793477 25.003973213468349, 121.54853419154199 25.003889809380748, 121.54860729640659 25.003827315013211, 121.54881364914489 25.003694338170469, 121.54904177780028 25.003610698951828, 121.54929064542441 25.003558541882171, 121.54971786817906 25.003494637694551, 121.55012448158361 25.003521773484156, 121.55019525331421 25.003519424065388, 121.55028473769408 25.003464305821787, 121.5505557993979 25.00328379655636, 121.55077695278122 25.00313731412993, 121.55110112792697 25.002923192195183, 121.55131083444785 25.002770899816809, 121.55152603546273 25.002634375971084, 121.55172229192027 25.002500549258, 121.55183309754918 25.002297215368049, 121.55184500228617 25.002213391911368, 121.55183309754918 25.002092221268949, 121.55177723686023 25.001913784831377, 121.55179097309524 25.00180755278269, 121.55191185196311 25.001731198440954, 121.55245305962168 25.001549441719163, 121.55326624473302 25.001257302497905, 121.55389902729152 25.001037367682667, 121.5546636777059 25.000770955549008, 121.55527608484925 25.00054147547549, 121.55573212785089 25.000317389637441, 121.55671197928008 24.999772942343032, 121.55745739896551 24.9992683305014, 121.55784933953717 24.999004404403578, 121.55817534618092 24.998750437245949, 121.5584665543627 24.99843339254129, 121.55905812821621 24.997840798936576, 121.55955080117782 24.997480593584314, 121.55968450053172 24.997296340668751, 121.55986948182957 24.996786738823978, 121.55999585519149 24.996288754523725, 121.5599665512235 24.99608624033111, 121.5598438408576 24.995712750166177, 121.5597192989937 24.995319339298284, 121.55961490360777 24.99496244649324, 121.55951417121784 24.994406355638485, 121.55941710182394 24.994129139257669, 121.55908376918821 24.993498345162802, 121.55902699275023 24.993405385759328, 121.55897662655529 24.993371355960114, 121.55886856817339 24.993366375988707, 121.55865703015454 24.993436925564808, 121.55860849545758 24.993514945048872, 121.55853248829062 24.99375315316717, 121.55840428343075 24.994218778155794, 121.5583273605148 24.994369006162543, 121.55812589573497 24.99448105455631, 121.55786490727016 24.994689381298375, 121.55762589678135 24.994883597943033, 121.55747021945149 24.994947506771815, 121.55740016465306 24.995010585583216, 121.55729714289063 24.995125123342202, 121.55713001869827 24.995333034001533, 121.55705309578235 24.995405242411703, 121.55700685045787 24.995406902374654, 121.55695190551793 24.99539528263351, 121.55685117312801 24.995368308230194, 121.55672479976612 24.995358763439906, 121.55654027634277 24.995325149172569, 121.55645144868984 24.995340503839039, 121.55628111937598 24.995416032170507, 121.55622701983141 24.995431843807957, 121.55614464552679 24.995436406317541, 121.55586274235105 24.995453412033584, 121.5555181431768 24.995470417747267, 121.55513601793044 24.995499037113774, 121.55489804771715 24.995485764364918, 121.55479874091658 24.995472491614635, 121.5547365025531 24.995468758653356, 121.55471773951707 24.995497792793628, 121.55470401046631 24.99573919066572, 121.55471224789676 24.995822974696043, 121.55474794342877 24.99582878150791, 121.55507121167948 24.995831683284827)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0153000500'=='0100020200' || '0153000500'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
