
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231491768</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100005300">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100005300">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100005300" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0100005300" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100005300" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100005300',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="7aAQo9_nRReUHDAAJ3q6Hg1-HWa7Xe8FOYOgYX7lrvu3Mn66CeLcguCbOQk0lI22cUBYR4TStVNeGz2b_828GJBI4vU1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/taipei_city.svg" width="100%" class="vipstop-city" alt="臺北市">                
 <span class="stationlist-title">53 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0100005300" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0100005300" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">臺北市公共運輸處公車申訴服務電話02-27291181</a>                </div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">瓏山林社區 - 西松高中</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0550 - 2020 <br>
                        [假日] 停駛
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 班表:0550 0705 0850 1030 1240 1625 1750 1930 2020<br>
[假日]<br /> 例假日停駛<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">欣欣客運東湖站:02-2641-4271</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 西松高中</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 瓏山林社區</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">忠三街口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215400260" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.07854" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.624044" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">康湖隧道口(白馬山莊)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.077315" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6228136" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">五分埤</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076201" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.621188" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">東湖國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000640" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.072645" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6193512" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">康樂街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.071123" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6191349" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">東湖社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.069229" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6184776" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">東湖國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068177" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61668" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">五分社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068763" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6143084" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">捷運東湖站(南湖高中)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148600340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067493" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6115022" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">動物之家</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06354" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.60998" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">內湖焚化廠(葫蘆洲公園)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.062478" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.603466" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">內湖焚化廠(安康)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.063126" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.603153" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">安康路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.063285" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6013134" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">蘆洲里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400860" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06228" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5975" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">石潭公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06242" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.59315" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">新明成功路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147000560" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.060167" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.590455" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">台北企業總部園區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147100060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.058162" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.587344" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">新明路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147100560" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057336" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5852542" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">週美里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147000060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.056208" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5827604" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">玉成里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157700060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.050922" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5809118" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">松山車站(八德)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056700062" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.050168" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.576598" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">松山農會</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056600060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.050073" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.574914" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">饒河街觀光夜市(塔悠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056600560" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.050387" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.571871" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">南松山(南京)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1058500060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.051515" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.569058" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">南京公寓(捷運南京三民)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056900061" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.051455" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5666502" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">西松國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1058200200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.053597" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5638994" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">西松高中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1057800000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.05625" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.56716" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">富泰里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1057800160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057201" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5656156" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">三民健康路口(西松高中)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1058200040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.055245" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5635808" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">西松國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1058200240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.05279" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.56371" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">南京公寓(捷運南京三民)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056900021" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.051255" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5665356" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">南松山(南京)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1057100020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.05115" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.56915" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">饒河街觀光夜市(塔悠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1058500220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.050545" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.571331" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">松山農會</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056600020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.049902" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5738483" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">松山車站(八德)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056700020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.049975" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5772464" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">松山車站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1056700120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.049806" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.578206" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">玉成里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157700020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.050867" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5809831" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">週美里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147100420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.05609" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5828479" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">新明路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147000220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057224" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5854194" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">台北企業總部園區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147100020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057943" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.587031" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">新明成功路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147100620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06008" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.590623" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">石潭公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.06211" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.59311" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">蘆洲里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.062151" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5972045" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">安康路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.063137" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6011887" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">內湖焚化廠(安康)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148400020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.063054" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6030952" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">捷運東湖站(南湖高中)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148500300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067207" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6115735" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">五分社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068686" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6143563" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">東湖國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068103" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61672" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">東湖社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147800100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.069547" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.618788" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">康樂街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.07119" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6191996" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">東湖國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.072872" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6194588" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">五分埤</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076133" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6211888" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">康湖隧道口(白馬山莊)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.07715" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.62288" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">忠三街口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2215400220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.07844" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.624021" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0100005300";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 27;
        var existBackNum = 27;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0100005300',
                        url: './StopStatusRecent3OfRoute?routeid=0100005300&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0100005300',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0100005300',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0100005300');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0100005300","Name":"53","BeginStop":"瓏山林社區","GoDirStops":[{"UniStopId":"2215400260","Name":"忠三街口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.624044,"Latitude":25.07854,"PublicId":"2215400260"},{"UniStopId":"1148000740","Name":"康湖隧道口(白馬山莊)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6228136,"Latitude":25.077315,"PublicId":"1148000740"},{"UniStopId":"1148000040","Name":"五分埤","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.621188,"Latitude":25.076201,"PublicId":"1148000040"},{"UniStopId":"1148000640","Name":"東湖國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6193512,"Latitude":25.072645,"PublicId":"1148000640"},{"UniStopId":"1148000840","Name":"康樂街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6191349,"Latitude":25.071123,"PublicId":"1148000840"},{"UniStopId":"1148000540","Name":"東湖社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6184776,"Latitude":25.069229,"PublicId":"1148000540"},{"UniStopId":"1148700160","Name":"東湖國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61668,"Latitude":25.068177,"PublicId":"1148700160"},{"UniStopId":"1148700060","Name":"五分社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6143084,"Latitude":25.068763,"PublicId":"1148700060"},{"UniStopId":"1148600340","Name":"捷運東湖站(南湖高中)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6115022,"Latitude":25.067493,"PublicId":"1148600340"},{"UniStopId":"1148400760","Name":"動物之家","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.60998,"Latitude":25.06354,"PublicId":"1148400760"},{"UniStopId":"1148400100","Name":"內湖焚化廠(葫蘆洲公園)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.603466,"Latitude":25.062478,"PublicId":"1148400100"},{"UniStopId":"1148400060","Name":"內湖焚化廠(安康)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.603153,"Latitude":25.063126,"PublicId":"1148400060"},{"UniStopId":"1148400360","Name":"安康路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6013134,"Latitude":25.063285,"PublicId":"1148400360"},{"UniStopId":"1148400860","Name":"蘆洲里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5975,"Latitude":25.06228,"PublicId":"1148400860"},{"UniStopId":"1148400260","Name":"石潭公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.59315,"Latitude":25.06242,"PublicId":"1148400260"},{"UniStopId":"1147000560","Name":"新明成功路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.590455,"Latitude":25.060167,"PublicId":"1147000560"},{"UniStopId":"1147100060","Name":"台北企業總部園區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.587344,"Latitude":25.058162,"PublicId":"1147100060"},{"UniStopId":"1147100560","Name":"新明路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5852542,"Latitude":25.057336,"PublicId":"1147100560"},{"UniStopId":"1147000060","Name":"週美里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5827604,"Latitude":25.056208,"PublicId":"1147000060"},{"UniStopId":"1157700060","Name":"玉成里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5809118,"Latitude":25.050922,"PublicId":"1157700060"},{"UniStopId":"1056700062","Name":"松山車站(八德)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.576598,"Latitude":25.050168,"PublicId":"1056700062"},{"UniStopId":"1056600060","Name":"松山農會","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.574914,"Latitude":25.050073,"PublicId":"1056600060"},{"UniStopId":"1056600560","Name":"饒河街觀光夜市(塔悠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.571871,"Latitude":25.050387,"PublicId":"1056600560"},{"UniStopId":"1058500060","Name":"南松山(南京)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.569058,"Latitude":25.051515,"PublicId":"1058500060"},{"UniStopId":"1056900061","Name":"南京公寓(捷運南京三民)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5666502,"Latitude":25.051455,"PublicId":"1056900061"},{"UniStopId":"1058200200","Name":"西松國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5638994,"Latitude":25.053597,"PublicId":"1058200200"},{"UniStopId":"1057800000","Name":"西松高中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.56716,"Latitude":25.05625,"PublicId":"1057800000"}],"LastStop":"西松高中","BackDirStops":[{"UniStopId":"1057800160","Name":"富泰里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5656156,"Latitude":25.057201,"PublicId":"1057800160"},{"UniStopId":"1058200040","Name":"三民健康路口(西松高中)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5635808,"Latitude":25.055245,"PublicId":"1058200040"},{"UniStopId":"1058200240","Name":"西松國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.56371,"Latitude":25.05279,"PublicId":"1058200240"},{"UniStopId":"1056900021","Name":"南京公寓(捷運南京三民)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5665356,"Latitude":25.051255,"PublicId":"1056900021"},{"UniStopId":"1057100020","Name":"南松山(南京)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.56915,"Latitude":25.05115,"PublicId":"1057100020"},{"UniStopId":"1058500220","Name":"饒河街觀光夜市(塔悠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.571331,"Latitude":25.050545,"PublicId":"1058500220"},{"UniStopId":"1056600020","Name":"松山農會","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5738483,"Latitude":25.049902,"PublicId":"1056600020"},{"UniStopId":"1056700020","Name":"松山車站(八德)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5772464,"Latitude":25.049975,"PublicId":"1056700020"},{"UniStopId":"1056700120","Name":"松山車站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.578206,"Latitude":25.049806,"PublicId":"1056700120"},{"UniStopId":"1157700020","Name":"玉成里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5809831,"Latitude":25.050867,"PublicId":"1157700020"},{"UniStopId":"1147100420","Name":"週美里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5828479,"Latitude":25.05609,"PublicId":"1147100420"},{"UniStopId":"1147000220","Name":"新明路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5854194,"Latitude":25.057224,"PublicId":"1147000220"},{"UniStopId":"1147100020","Name":"台北企業總部園區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.587031,"Latitude":25.057943,"PublicId":"1147100020"},{"UniStopId":"1147100620","Name":"新明成功路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.590623,"Latitude":25.06008,"PublicId":"1147100620"},{"UniStopId":"1148400220","Name":"石潭公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.59311,"Latitude":25.06211,"PublicId":"1148400220"},{"UniStopId":"1148400820","Name":"蘆洲里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5972045,"Latitude":25.062151,"PublicId":"1148400820"},{"UniStopId":"1148400320","Name":"安康路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6011887,"Latitude":25.063137,"PublicId":"1148400320"},{"UniStopId":"1148400020","Name":"內湖焚化廠(安康)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6030952,"Latitude":25.063054,"PublicId":"1148400020"},{"UniStopId":"1148500300","Name":"捷運東湖站(南湖高中)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6115735,"Latitude":25.067207,"PublicId":"1148500300"},{"UniStopId":"1148700020","Name":"五分社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6143563,"Latitude":25.068686,"PublicId":"1148700020"},{"UniStopId":"1148700120","Name":"東湖國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61672,"Latitude":25.068103,"PublicId":"1148700120"},{"UniStopId":"1147800100","Name":"東湖社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.618788,"Latitude":25.069547,"PublicId":"1147800100"},{"UniStopId":"1148000800","Name":"康樂街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6191996,"Latitude":25.07119,"PublicId":"1148000800"},{"UniStopId":"1148000600","Name":"東湖國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6194588,"Latitude":25.072872,"PublicId":"1148000600"},{"UniStopId":"1148000000","Name":"五分埤","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6211888,"Latitude":25.076133,"PublicId":"1148000000"},{"UniStopId":"1148000700","Name":"康湖隧道口(白馬山莊)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.62288,"Latitude":25.07715,"PublicId":"1148000700"},{"UniStopId":"2215400220","Name":"忠三街口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.624021,"Latitude":25.07844,"PublicId":"2215400220"}],"RouteMapUrl":"../MapOverview?nid=0100005300","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0550 - 2020","HeadwayDesc":"班表:0550 0705 0850 1030 1240 1625 1750 1930 2020","HolidayBusTimeDesc":"停駛","HolidayHeadwayDesc":"例假日停駛","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"欣欣客運東湖站:02-2641-4271","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"MULTILINESTRING ((121.624353 25.078494, 121.623846 25.078518, 121.623534 25.078479, 121.623429 25.078427, 121.623394 25.078404, 121.623357 25.078382, 121.623313 25.078356, 121.62327 25.07833, 121.62322 25.078299, 121.623167 25.078265, 121.623106 25.078222, 121.623005 25.078086, 121.622727 25.076977, 121.62254202032193 25.076666743079638, 121.622554 25.076674, 121.62277 25.076967, 121.623065 25.078028, 121.623248 25.078257, 121.62355 25.07843, 121.623852 25.078469, 121.624348 25.07843), (121.62251052565705 25.076647664580712, 121.622538 25.07666, 121.62254202032193 25.076666743079638, 121.62251052565705 25.076647664580712), (121.62229791536052 25.076552206896558, 121.62245 25.076611, 121.62251052565705 25.076647664580712, 121.62229791536052 25.076552206896558), (121.62137821338911 25.076239232914919, 121.62209 25.076462, 121.622146 25.076484, 121.62229791536052 25.076552206896558, 121.622137 25.07649, 121.62137821338911 25.076239232914919), (121.62110738845017 25.076149729516295, 121.62137821338911 25.076239232914919, 121.621157 25.07617, 121.621151 25.076169, 121.621135 25.076163, 121.621121 25.076156, 121.621119 25.076155, 121.621119 25.076154, 121.62111 25.076151, 121.62110738845017 25.076149729516295), (121.62070143750002 25.075954500000009, 121.620747 25.075977, 121.620825 25.07601, 121.620903 25.07605, 121.620963 25.076077, 121.621023 25.076109, 121.621073 25.076133, 121.62110738845017 25.076149729516295, 121.621084 25.076142, 121.620986 25.076109, 121.6209 25.076073, 121.620827 25.076034, 121.620763 25.075995, 121.620705 25.075957, 121.62070143750002 25.075954500000009), (121.61079502160221 25.06491218060911, 121.610936 25.064922, 121.610915 25.065483, 121.611054 25.066289, 121.611522 25.067186, 121.61198 25.067931, 121.612183 25.068451, 121.612195 25.068844, 121.613444 25.068812, 121.614576 25.068666, 121.617358 25.067921, 121.617556 25.067931, 121.617638 25.067934, 121.617723 25.067945, 121.617797 25.067965, 121.617878 25.067988, 121.61795 25.068014, 121.618014 25.068043, 121.618067 25.068078, 121.61812 25.068119, 121.618242 25.068274, 121.6184 25.06865, 121.61909 25.070562, 121.619479 25.073093, 121.619649 25.074097, 121.619824 25.074683, 121.620034 25.075225, 121.62023 25.07553, 121.620295 25.075599, 121.620356 25.075665, 121.62039 25.075709, 121.620434 25.075751, 121.620476 25.075775, 121.620499 25.075798, 121.620528 25.075824, 121.620565 25.075854, 121.620603 25.075882, 121.620648 25.075917, 121.62070143750002 25.075954500000009, 121.620666 25.075937, 121.620583 25.07589, 121.620506 25.075838, 121.620423 25.075772, 121.620342 25.075705, 121.620265 25.075636, 121.620196 25.075562, 121.619996 25.075245, 121.619791 25.0747, 121.619611 25.074094, 121.619455 25.073105, 121.619069 25.070557, 121.618367 25.06867, 121.618207 25.068296, 121.618038 25.068146, 121.617984 25.068092, 121.617904 25.068052, 121.617827 25.068013, 121.617727 25.068004, 121.617628 25.067983, 121.617374 25.067958, 121.614587 25.068719, 121.61345 25.068851, 121.612081 25.068895, 121.612028 25.06842, 121.611872 25.068053, 121.61135 25.067215, 121.610892 25.066279, 121.610764 25.065522, 121.61079502160221 25.06491218060911), (121.602554 25.063095, 121.602638 25.063096, 121.602718 25.063103, 121.602808 25.063111, 121.60299663270594 25.063119408046969, 121.602782 25.063119, 121.6027 25.063113, 121.602615 25.063109, 121.602523 25.063105, 121.60250238012543 25.06310379884226, 121.602466 25.06311, 121.602373 25.063122, 121.602279 25.063127, 121.602179 25.063134, 121.602076 25.06314, 121.601975 25.063144, 121.601866 25.06315, 121.601759 25.063157, 121.601655 25.06316, 121.60155 25.063165, 121.601443 25.063163, 121.601333 25.063171, 121.601236 25.063171, 121.601141 25.063176, 121.601043 25.063173, 121.6009735 25.063163071428569, 121.601076 25.063166, 121.601185 25.063164, 121.601293 25.06316, 121.601399 25.063154, 121.601506 25.063149, 121.601617 25.063143, 121.601733 25.06314, 121.601849 25.063132, 121.601969 25.063125, 121.602085 25.063115, 121.602201 25.063107, 121.602312 25.063099, 121.60242 25.063099, 121.60250238012543 25.06310379884226, 121.602554 25.063095), (121.603936 25.061243, 121.603935 25.061243, 121.603935 25.061242), (121.603566 25.061178, 121.603692 25.061212, 121.603729 25.061217, 121.603764 25.061223, 121.603803 25.061228, 121.603841 25.061233, 121.603876 25.061237, 121.603904 25.061241, 121.603928 25.061243, 121.603936 25.061244, 121.603936 25.061243, 121.60394 25.061245, 121.603955 25.061248, 121.603977 25.061253, 121.604009 25.061258, 121.604047 25.061264, 121.604095 25.06127, 121.604146 25.061279, 121.604202 25.061291, 121.60426 25.061302, 121.604326 25.061316, 121.604396 25.061331, 121.604473 25.061348, 121.604556 25.06137, 121.604642 25.061393, 121.604731 25.061419, 121.60482 25.061445, 121.60491 25.061471, 121.605002 25.061499, 121.605092 25.061529, 121.605183 25.061558, 121.605277 25.061592, 121.605371 25.061627, 121.605466 25.061665, 121.60556 25.061704, 121.605653 25.061746, 121.605745 25.061789, 121.605832 25.061832, 121.605915 25.061874, 121.605994 25.061915, 121.606073 25.061958, 121.606154 25.062, 121.606235 25.062043, 121.606315 25.062089, 121.606394 25.062136, 121.606471 25.062183, 121.606547 25.062228, 121.606624 25.062272, 121.606702 25.062317, 121.606779 25.062361, 121.606853 25.062404, 121.606928 25.062447, 121.607003 25.06249, 121.607082 25.062533, 121.607166 25.062577, 121.607255 25.062621, 121.607349 25.062667, 121.607437 25.062707, 121.607522 25.062746, 121.607606 25.062784, 121.607689 25.062822, 121.607777 25.062857, 121.607864 25.062891, 121.607953 25.062924, 121.608042 25.062957, 121.608133 25.062987, 121.608224 25.063017, 121.608317 25.063049, 121.608407 25.063081, 121.608498 25.06311, 121.608587 25.063137, 121.609036 25.063218, 121.611093 25.06387, 121.610937 25.06418, 121.61092 25.064245, 121.610905 25.064312, 121.610889 25.064382, 121.610867 25.064462, 121.610842 25.064543, 121.610812 25.064622, 121.61079 25.064708, 121.610802 25.064775, 121.61079502160221 25.06491218060911, 121.610534 25.064894, 121.610458 25.064888, 121.610382 25.064885, 121.610313 25.06488, 121.61025 25.064875, 121.610192 25.064864, 121.610137 25.064857, 121.610074 25.064858, 121.610039 25.064866, 121.60978 25.064768, 121.609159 25.064718, 121.609077 25.064714, 121.60898 25.064707, 121.608876 25.064712, 121.608768 25.064707, 121.608656 25.064714, 121.608542 25.064696, 121.608385 25.064711, 121.607 25.064545, 121.607008 25.064223, 121.606868 25.064091, 121.605375 25.063698, 121.604857 25.063376, 121.604106 25.063212, 121.603324 25.063134, 121.60299663270594 25.063119408046969, 121.603308 25.06312, 121.603566 25.061178), (121.591119 25.060518, 121.591119 25.060517, 121.591123 25.060519, 121.591144 25.060535, 121.591176 25.060556, 121.591216 25.060576, 121.591256 25.060592, 121.591301 25.060608, 121.591349 25.060619, 121.591399 25.060631, 121.591453 25.060654, 121.591511 25.06068, 121.591575 25.060714, 121.591635 25.060754, 121.591701 25.060804, 121.591774 25.060861, 121.591855 25.060926, 121.591936 25.060993, 121.592017 25.061061, 121.592098 25.061132, 121.592181 25.061202, 121.592263 25.06127, 121.592338 25.061336, 121.592589 25.061556, 121.5935 25.062591, 121.595 25.062652, 121.595647 25.062836, 121.596489 25.062196, 121.597247 25.062188, 121.597339 25.062215, 121.597643 25.06229, 121.597985 25.062417, 121.598602 25.062772, 121.598714 25.062816, 121.598808 25.062845, 121.598903 25.06287, 121.598999 25.06289, 121.599096 25.062909, 121.599191 25.062927, 121.599288 25.062943, 121.599379 25.062961, 121.599477 25.062969, 121.599575 25.062978, 121.599678 25.062991, 121.599779 25.063001, 121.599883 25.063002, 121.599975 25.063011, 121.600061 25.063024, 121.600147 25.063036, 121.600239 25.063049, 121.600337 25.063057, 121.600437 25.063072, 121.600535 25.063086, 121.600633 25.063103, 121.600738 25.063119, 121.600838 25.063139, 121.600938 25.063158, 121.6009735 25.063163071428569, 121.600971 25.063163, 121.600869 25.063154, 121.60077 25.063139, 121.600673 25.063125, 121.600577 25.063114, 121.600486 25.063106, 121.6004 25.063101, 121.600318 25.06309, 121.600231 25.063082, 121.600135 25.063071, 121.600035 25.06306, 121.59993 25.063049, 121.599827 25.063034, 121.599727 25.063021, 121.599632 25.063009, 121.599533 25.062994, 121.599439 25.062983, 121.599341 25.062972, 121.599238 25.06296, 121.599137 25.062948, 121.599044 25.062933, 121.598954 25.062922, 121.59886 25.0629, 121.598765 25.062875, 121.598574 25.062792, 121.597969 25.062441, 121.597611 25.06231, 121.597386 25.062277, 121.59738 25.062273, 121.59738 25.062272, 121.597382 25.062269, 121.597383 25.062267, 121.597378 25.062266, 121.597349 25.062259, 121.597233 25.06222, 121.596508 25.062228, 121.595641 25.06288, 121.594974 25.062686, 121.593451 25.062633, 121.59253 25.06159, 121.592226 25.061359, 121.592135 25.061288, 121.592047 25.061218, 121.591959 25.061151, 121.591874 25.061085, 121.591791 25.06102, 121.591714 25.060958, 121.59164 25.060898, 121.591569 25.060839, 121.5915 25.060789, 121.591427 25.060741, 121.591348 25.060688, 121.591264 25.060642, 121.591166 25.060586, 121.59107 25.060528, 121.590982 25.06047, 121.590899 25.060415, 121.590819 25.06036, 121.59074 25.060303, 121.59066 25.060245, 121.590578 25.060187, 121.590497 25.060128, 121.590413 25.060067, 121.590336 25.060007, 121.59025 25.059945, 121.590164 25.059883, 121.590076 25.059823, 121.589985 25.059765, 121.58920260955591 25.059243608695517, 121.590057 25.059803, 121.590148 25.059852, 121.590234 25.059903, 121.590323 25.059959, 121.590408 25.060014, 121.590489 25.060067, 121.590569 25.060121, 121.590644 25.06017, 121.590719 25.060219, 121.590788 25.060264, 121.59085 25.06031, 121.590908 25.06035, 121.590959 25.060388, 121.591008 25.060421, 121.591047 25.06045, 121.59108 25.060483, 121.591098 25.060501, 121.591106 25.060509, 121.591107 25.060511, 121.591108 25.060509, 121.591109 25.06051, 121.59111 25.060511, 121.59111 25.060512, 121.591111 25.060512, 121.591112 25.060513, 121.591113 25.060514, 121.591114 25.060514, 121.591115 25.060514, 121.591115 25.060515, 121.591116 25.060515, 121.591116 25.060514, 121.591117 25.060515, 121.591118 25.060515, 121.591118 25.060516, 121.591119 25.060516, 121.591119 25.060517), (121.58842768062829 25.058725495637002, 121.588437 25.05873, 121.588498 25.058762, 121.588558 25.058802, 121.588624 25.058851, 121.588696 25.058906, 121.58920260955591 25.059243608695517, 121.588745 25.058944, 121.588676 25.058891, 121.588609 25.058846, 121.588542 25.0588, 121.588471 25.058753, 121.58842768062829 25.058725495637002), (121.58744309965256 25.05818134058627, 121.588213 25.058598, 121.588282 25.058635, 121.588346 25.058677, 121.588408 25.058713, 121.58842768062829 25.058725495637002, 121.588377 25.058701, 121.58832 25.058668, 121.588259 25.058632, 121.588197 25.058591, 121.58744309965256 25.05818134058627), (121.58700511338533 25.057944308479534, 121.58701 25.057946, 121.58744309965256 25.05818134058627, 121.58700511338533 25.057944308479534), (121.58690819618519 25.05791076021795, 121.586999 25.057941, 121.58700511338533 25.057944308479534, 121.58690819618519 25.05791076021795), (121.58341555932199 25.056473942372865, 121.583448 25.056488, 121.583514 25.056513, 121.58359 25.056542, 121.583676 25.056574, 121.585686 25.057469, 121.585778 25.057507, 121.585874 25.057546, 121.58597 25.057586, 121.58690819618519 25.05791076021795, 121.585924 25.057583, 121.585822 25.05754, 121.585725 25.057486, 121.585624 25.057445, 121.583668 25.056609, 121.583572 25.056558, 121.583479 25.056508, 121.58341555932199 25.056473942372865), (121.58323850000023 25.056378000000127, 121.583287 25.056404, 121.583384 25.056457, 121.58341555932199 25.056473942372865, 121.583388 25.056462, 121.583334 25.056431, 121.583277 25.056399, 121.58323850000023 25.056378000000127), (121.58321645454535 25.056366181818127, 121.583222 25.056369, 121.58323850000023 25.056378000000127, 121.58321645454535 25.056366181818127), (121.58309228519856 25.056300555956682, 121.583095 25.056302, 121.58319 25.056352, 121.58321645454535 25.056366181818127, 121.583161 25.056338, 121.583093 25.056301, 121.58309228519856 25.056300555956682), (121.58269066666669 25.056048133333356, 121.582756 25.056092, 121.582825 25.056136, 121.582894 25.056179, 121.58296 25.056221, 121.583027 25.05626, 121.58309228519856 25.056300555956682, 121.583001 25.056252, 121.582907 25.056195, 121.582817 25.056137, 121.582733 25.056082, 121.58269066666669 25.056048133333356), (121.572324 25.04995, 121.575915 25.049959, 121.578052 25.050001, 121.579662 25.05031, 121.582564 25.051511, 121.582866 25.051804, 121.582974 25.052122, 121.582997 25.052257, 121.583037 25.052344, 121.583072 25.052431, 121.583101 25.052516, 121.583122 25.052604, 121.583137 25.05269, 121.583147 25.05278, 121.583144 25.052864, 121.583094 25.053018, 121.582337 25.055573, 121.582331 25.055604, 121.582323 25.055636, 121.582312 25.055672, 121.582299 25.055718, 121.582303 25.05577, 121.582329 25.055812, 121.582374 25.055844, 121.582433 25.055877, 121.582503 25.05592, 121.58258 25.055971, 121.582658 25.056022, 121.58269066666669 25.056048133333356, 121.582686 25.056045, 121.582612 25.055997, 121.582541 25.055949, 121.582472 25.055905, 121.582406 25.055864, 121.582341 25.055827, 121.582287 25.055787, 121.582248 25.055747, 121.582217 25.055705, 121.582199 25.055658, 121.582192 25.055605, 121.58298 25.052993, 121.58297 25.052903, 121.582983 25.052833, 121.58299 25.052766, 121.582992 25.052705, 121.582989 25.052647, 121.582981 25.052588, 121.582968 25.05253, 121.582954 25.052475, 121.582937 25.052432, 121.582923 25.052392, 121.582907 25.052351, 121.582893 25.052303, 121.582873 25.052254, 121.582882 25.052214, 121.582877 25.052107, 121.582807 25.051858, 121.58251 25.051575, 121.579646 25.050398, 121.578004 25.050089, 121.575888 25.050072, 121.572377 25.050023, 121.572313 25.050089, 121.572244 25.050123, 121.572166 25.050169, 121.572073 25.05022, 121.570301 25.051363, 121.563828 25.051523, 121.563858 25.054132, 121.567287 25.054294, 121.5672 25.055105, 121.567168 25.0572, 121.563535 25.056925, 121.563794 25.054128, 121.56372 25.05143, 121.570277 25.051259, 121.572324 25.04995))","wkt0":"LINESTRING (121.624043740135 25.0785394127701, 121.623846 25.0785395543453, 121.623725454408 25.0785429790271, 121.623620054575 25.0785283144467, 121.623545766741 25.0784877711857, 121.623473701192 25.0784391767631, 121.623363539318 25.078371892146, 121.623175597447 25.0782678021955, 121.623113373449 25.0782171948948, 121.622978766433 25.0780670981185, 121.62296035321 25.0779934873717, 121.622948289373 25.0779262025097, 121.62288352562 25.0775926530753, 121.622833365459 25.0773074100795, 121.622811142602 25.0771607627162, 121.62278193542 25.0770652980638, 121.622747648727 25.0769715586037, 121.622703203014 25.0768565407632, 121.622625105548 25.076723695023, 121.622517800898 25.0766288051203, 121.622387003515 25.0765557685996, 121.622183823114 25.0764930836771, 121.621856194717 25.076391292496, 121.621153952455 25.0761583801531, 121.62085045173 25.0760410611756, 121.620704415817 25.0759818265511, 121.620586952148 25.0758955624836, 121.62038186693 25.07573798663, 121.6202339262 25.0755625826129, 121.620119002286 25.0754021308494, 121.620074556573 25.0753101154063, 121.619971061556 25.0750731753219, 121.619910107436 25.074934576662, 121.61983137503 25.0747229402314, 121.619735499279 25.0744486174658, 121.619670735526 25.0741811953104, 121.619623115119 25.0739753086078, 121.61956660557 25.0737412414613, 121.619501841817 25.0734375861181, 121.619474539451 25.0732495264655, 121.619416760024 25.0729786510454, 121.619385013087 25.0726675173926, 121.619339297496 25.0722568887739, 121.619304375865 25.0720239685672, 121.619266914478 25.0718031252955, 121.619202785664 25.0713804163601, 121.619104370157 25.0707374358895, 121.619059289506 25.0705436208995, 121.618976747468 25.0702733146149, 121.61888912592 25.0700553437935, 121.618801504372 25.0698005647428, 121.618683405763 25.0695135782248, 121.618616102256 25.0693416160411, 121.618447208547 25.0688872666349, 121.618313871409 25.0685375889822, 121.618256726921 25.0683857549538, 121.618179899332 25.0682563508037, 121.618074499499 25.0681729569457, 121.617958305707 25.0681068169489, 121.617842746853 25.0680493038792, 121.617720203674 25.0680119203695, 121.6175436907 25.0679958167002, 121.61744718001 25.0679963918313, 121.617150663612 25.0680493038792, 121.616499851389 25.0682229932673, 121.615166480006 25.0685749723316, 121.614446459459 25.0687693655642, 121.614094703389 25.0688153757516, 121.613417858678 25.0688671371918, 121.612295286961 25.0689027950601, 121.612194966638 25.0688958935381, 121.612089566805 25.0688176762606, 121.612052740357 25.0686934487172, 121.612018453664 25.0683184648128, 121.611956229666 25.0681470760816, 121.611900355056 25.06802399812, 121.611758128775 25.0677410333655, 121.611493994253 25.0673269374245, 121.611264146424 25.0669346952561, 121.611097792471 25.0666494274356, 121.61099620227 25.0664078694876, 121.61092508913 25.0661939177644, 121.610870484397 25.0659408561041, 121.610862865132 25.065757961215, 121.610860325377 25.0653243036887, 121.610838737459 25.064991870222, 121.610813339909 25.0648319797558, 121.61086921452 25.0646145743986, 121.610947946925 25.064313197022, 121.611031758841 25.0640256224982, 121.611062235901 25.063918644603, 121.611007631168 25.06386458047, 121.610582222203 25.0637150412542, 121.610041254385 25.0635344436504, 121.609430443303 25.0633469439456, 121.609031701766 25.0632468672986, 121.608660897534 25.0631502414929, 121.608395493134 25.0630789223969, 121.60804119731 25.0629477871767, 121.607539595694 25.0627476331488, 121.607272921418 25.0626141969486, 121.606996088121 25.0624761593472, 121.606621474256 25.0622610504416, 121.60635479998 25.0621011564115, 121.606025901705 25.0619148048326, 121.605755417796 25.0617802174048, 121.605357946136 25.0616191724252, 121.604905869743 25.0614581272339, 121.604597289509 25.0613591993686, 121.604008066345 25.0612407158899, 121.603655040398 25.0611912518795, 121.603591546523 25.0612200100275, 121.603566148972 25.0613143367057, 121.603502655097 25.0618446353374, 121.603417573304 25.0625687595886, 121.603381381795 25.0628304555448, 121.603344555347 25.0630587919994, 121.603305189145 25.0631140067961, 121.603258203677 25.0631324117228, 121.602961687279 25.0631036540236, 121.602661996187 25.0630743211635, 121.602399131543 25.0630777720886, 121.601806098747 25.0631203334899, 121.6013203706 25.0631600191076, 121.601007980733 25.0631709470291, 121.600712734213 25.0631421893389, 121.600326056512 25.063092150942, 121.599937473994 25.0630323349005, 121.599746992368 25.0630104790319, 121.599388251972 25.0629610157359, 121.59922126308 25.0629334083062, 121.598979351415 25.0628994741654, 121.59882887093 25.0628615139289, 121.598619341141 25.0627867437317, 121.598418700495 25.0626734380382, 121.59818186834 25.0625463284807, 121.59783011227 25.0623576769486, 121.597533595872 25.0622662268636, 121.597354543143 25.0622363186449, 121.597162156701 25.0622110116849, 121.596684682758 25.0622006588361, 121.596544996232 25.062204684944, 121.596402769951 25.0623214420174, 121.596247844895 25.0624732835622, 121.595976091109 25.0626205236683, 121.595865611766 25.0627436070587, 121.595803387768 25.0628839449792, 121.595729734872 25.06291155242, 121.595633224182 25.0629069511803, 121.595320834315 25.0627999723084, 121.595162099626 25.0627298033201, 121.595004634815 25.0626860914711, 121.594595734258 25.0626814902229, 121.593699200737 25.0626446802313, 121.593513798621 25.0626285758565, 121.593353794055 25.0625342501901, 121.593181090714 25.0623686049416, 121.592966481415 25.0621028818878, 121.592774729912 25.0618877723269, 121.592621074733 25.0616979694595, 121.592301065601 25.061418441065, 121.591768986925 25.0609433563635, 121.591555647504 25.0607834606139, 121.59129278286 25.0606293163124, 121.591132778294 25.0605752507278, 121.590570222558 25.0601806862717, 121.590217196611 25.0599483182715, 121.589958141599 25.0597792185093, 121.589337171498 25.0594306652019, 121.588949858858 25.0591683868119, 121.588605722054 25.0588715974305, 121.588292062309 25.0586576325468, 121.587931417097 25.0584459679932, 121.587293938588 25.0581043130239, 121.587055201617 25.0579777739047, 121.58670217567 25.0578374303651, 121.586358038865 25.0577189434812, 121.585997393653 25.0575935543238, 121.585584683463 25.0574313534805, 121.585075462582 25.0572173860821, 121.584436714196 25.0569435992964, 121.583815744094 25.0567020222128, 121.583494465085 25.0565570757341, 121.583100803058 25.056348858667, 121.582909051554 25.0562499266769, 121.582415069203 25.0559220700924, 121.582328717533 25.0558887091978, 121.582224587577 25.055790927213, 121.582205539415 25.0557057993039, 121.582244905617 25.0555378440666, 121.58232998741 25.0552744069637, 121.582523008791 25.0546382442887, 121.582667774827 25.0541734868294, 121.582808731231 25.0537351867198, 121.583008101999 25.0530771584155, 121.583065246487 25.0529068987685, 121.583070325997 25.0526492080421, 121.583013181509 25.0524064720856, 121.582876034739 25.0520763043969, 121.582788413191 25.0518462218581, 121.582639837522 25.051657553854, 121.582472213691 25.0515517155782, 121.582225857455 25.0514447267935, 121.581754732899 25.0512606598486, 121.581314085404 25.0510800438903, 121.580915343867 25.0509247369618, 121.580232149767 25.0506336797435, 121.579933728553 25.0505209380267, 121.579668324154 25.050425452614, 121.579189580334 25.0502989055669, 121.578773060511 25.0502080216979, 121.5786155957 25.0501735088186, 121.578091136289 25.0501274916311, 121.577595884061 25.0501125360415, 121.577269525542 25.0501010317405, 121.576412358224 25.0500734214137, 121.575892978323 25.0500653684006, 121.57528851663 25.0500665188311, 121.574910093132 25.0500619171091, 121.573806569578 25.0500331563427, 121.573170360947 25.0500297050503, 121.572781778429 25.0500032451386, 121.572597646191 25.0499848382401, 121.57242494285 25.0499974929831, 121.572234461224 25.0501355446402, 121.571894134052 25.0503736833832, 121.571250306155 25.0508004912773, 121.570762673192 25.0511720775329, 121.570602668626 25.0513066766107, 121.570421076143 25.0514182671872, 121.570210276476 25.0514389747056, 121.569839472244 25.0514389747056, 121.569490255929 25.0514516292985, 121.568749917342 25.0514573813858, 121.567871162107 25.0514700359768, 121.567627345626 25.0514642838901, 121.567330194289 25.0514159663516, 121.566639380924 25.0514102142624, 121.565770784709 25.0514550805509, 121.565259024073 25.0514677351422, 121.564866631924 25.0514803897321, 121.563944700853 25.0514964955719, 121.563881206978 25.0515344593289, 121.563851999795 25.0515850776533, 121.563876127468 25.0527918583326, 121.563898985263 25.0532290114146, 121.563898985263 25.0537593450343, 121.56388501661 25.0540319885401, 121.563984067056 25.0540780042619, 121.566787956593 25.0542402095433, 121.567240032986 25.0542563150205, 121.567303526861 25.0543610005708, 121.567303526861 25.0544507309714, 121.567251461883 25.0552191886345, 121.567234636006 25.0559593134942, 121.567207688747 25.0563048318669)","wkt1":"LINESTRING (121.567207688747 25.0563048318669, 121.567160746522 25.0570981762588, 121.56708201821 25.0571763969506, 121.56697789367 25.0571855993817, 121.566307433212 25.0571223326542, 121.565440151977 25.057055614979, 121.564552553758 25.0569727929868, 121.563741144227 25.0569164279879, 121.563617972514 25.0568543114284, 121.563569719679 25.0567737899156, 121.563591306474 25.0565678846636, 121.563640829121 25.0559846762903, 121.563719557432 25.0553289949234, 121.563771619703 25.0547630355545, 121.563809714047 25.0544041331372, 121.563826221596 25.0540567330016, 121.563828761219 25.0537656983551, 121.563828761219 25.0531916793786, 121.563791936686 25.0522265392083, 121.563770349891 25.0515719880938, 121.563880823489 25.0514201409386, 121.563987487653 25.0513407662144, 121.564056692378 25.0513131576027, 121.564651055911 25.0513012024068, 121.564902156169 25.0512850254813, 121.565261200323 25.0512724434268, 121.566535456135 25.0512534624963, 121.567214805273 25.0512235531453, 121.567613526075 25.0512016963072, 121.568959526236 25.0511648847818, 121.570045215044 25.0511395768516, 121.570245845257 25.0511027653074, 121.570494728305 25.0510314429092, 121.570708056633 25.0509394139469, 121.570942971755 25.0508025207377, 121.57146486427 25.0504666140641, 121.572045168113 25.050097345734, 121.572311828522 25.0499224893143, 121.57244007948 25.0498856774047, 121.572579758742 25.0498718729357, 121.573401326765 25.0499017826165, 121.574662249557 25.0499420456368, 121.575657781751 25.0499639026994, 121.576880610198 25.0499903612437, 121.57762344991 25.0500202708955, 121.577976457499 25.0500214212666, 121.578095819777 25.050023434416, 121.578127247611 25.0500225716377, 121.57813708865 25.050013081076, 121.578138675914 25.0499716677075, 121.578144707519 25.0499383069283, 121.578157405633 25.0499069592912, 121.578186293845 25.0498612319898, 121.578222800924 25.0498261456212, 121.578265657061 25.0498028505676, 121.578328512729 25.0497818562563, 121.578389146227 25.0497807058829, 121.578435494346 25.0497899088693, 121.578478667936 25.0498086024331, 121.578531047659 25.0498428260272, 121.578575173608 25.0499055213261, 121.578591363704 25.0499736808577, 121.578585014647 25.0500550696159, 121.578599617479 25.0500878551782, 121.578960243937 25.0501724073772, 121.57951515155 25.0502799668929, 121.579855461024 25.0503835000276, 121.580778613965 25.0507677222295, 121.58201668015 25.0512807835317, 121.582467463223 25.0514418337218, 121.58261222173 25.0515373133775, 121.582786185902 25.0516788071883, 121.582913167049 25.0518502100411, 121.582955070828 25.0520745288489, 121.583079512352 25.0523920255367, 121.583127765188 25.0526738606757, 121.583130304811 25.052887824879, 121.583022370836 25.0532409800321, 121.582836978361 25.0538794175473, 121.582490319829 25.0549618778795, 121.582285880182 25.0556405675794, 121.582290959428 25.0557509980903, 121.58234429151 25.0557809063365, 121.58292205573 25.0561409550359, 121.583452836925 25.0564584411903, 121.58444075025 25.0568863560101, 121.585737227763 25.0574166462273, 121.586767044867 25.0577801410158, 121.587710514791 25.0582299068094, 121.588086378986 25.0584254566395, 121.5886412866 25.0587889484358, 121.589048896082 25.0591179305877, 121.589456505565 25.0594112530903, 121.590289501891 25.0598886195835, 121.5910653567 25.0604269487231, 121.59127233597 25.0605454268273, 121.591504711469 25.0606489512906, 121.591833592641 25.0609135134105, 121.592464688942 25.0614598898937, 121.592713571991 25.0616991445129, 121.593090705998 25.0621178389725, 121.593378953202 25.0624215065865, 121.593533870202 25.0625330812404, 121.593651962669 25.0625411330156, 121.594785904313 25.0626078477042, 121.595014470378 25.0626239512443, 121.59524049682 25.0626929663921, 121.595541442139 25.0628022402967, 121.595665883663 25.06280569105, 121.595747151598 25.0627596809981, 121.595885561048 25.0626009461864, 121.596070953523 25.0624606152396, 121.596228410145 25.0623766466454, 121.596316027137 25.0622673723613, 121.596402374317 25.0621949062034, 121.596487451686 25.0621707508079, 121.596576338489 25.0621569477226, 121.597048708356 25.0621661497796, 121.597227751774 25.0621834036347, 121.597419493306 25.0622029580008, 121.597668376355 25.0622673723613, 121.597861387699 25.0623294861769, 121.598206776419 25.0625221538303, 121.598641686848 25.0627550799919, 121.598907077446 25.062837898076, 121.59916992842 25.0629011618525, 121.599770549247 25.0629782285907, 121.599991496443 25.0630046843254, 121.600994647506 25.0631335121695, 121.601177500358 25.0631346624175, 121.601809866471 25.0630863519923, 121.602390170314 25.0630506942853, 121.60267206846 25.0630426425436, 121.602959045853 25.0630644972699, 121.603223166639 25.0630800256257, 121.603396178452 25.0630912405481, 121.603863469074 25.0631660066713, 121.604668529547 25.0633195646429, 121.604895825801 25.0633845535391, 121.605072964501 25.0634949770715, 121.605301530566 25.063639332685, 121.605651363627 25.0637451550187, 121.605937706114 25.0638020919974, 121.606276745777 25.0638728318432, 121.606653879784 25.0639838300554, 121.606877366603 25.0640781497008, 121.607011966619 25.0641419879561, 121.607056410021 25.0642380328362, 121.60704752134 25.0643415541795, 121.607034823226 25.0644893595014, 121.607058949644 25.0645250167897, 121.607190375131 25.0645457210169, 121.608220192235 25.0646889251589, 121.608665261156 25.0647619649581, 121.609187788576 25.0648022230965, 121.610096338685 25.0649155209292, 121.610749021781 25.0649914361697, 121.610905208592 25.065043196534, 121.610962350109 25.0651524683423, 121.610977587846 25.0653526080332, 121.610967429355 25.0657643886677, 121.610990285961 25.0659794802365, 121.611113457674 25.0663394989691, 121.61125694637 25.0667110187883, 121.611514718099 25.0671538505375, 121.611658206795 25.0673666392501, 121.611980738909 25.0679187379699, 121.612095021942 25.0681499285696, 121.612114069114 25.068291403199, 121.612155972892 25.0686514151369, 121.612175020065 25.0687836876278, 121.612229621958 25.0688066915247, 121.612347714425 25.0688032409404, 121.614055610855 25.0687342292349, 121.614417507124 25.0686755692546, 121.615119712868 25.0685087907258, 121.616187624316 25.0682212410049, 121.617009192339 25.0680015525632, 121.61733807351 25.0679187379699, 121.617550132026 25.0679106865481, 121.61776980941 25.0679566946655, 121.617900599992 25.0680073035746, 121.618041549065 25.0680786160929, 121.61817487927 25.068186734993, 121.618294241548 25.0683719171428, 121.61850249063 25.068899282166, 121.618598361396 25.0691787789567, 121.618805340666 25.0696842869644, 121.618953273702 25.0700834010279, 121.619070096358 25.0704221293786, 121.619117079382 25.0706176597487, 121.6191412058 25.0707752339964, 121.61926183789 25.0714733889903, 121.619315804878 25.0718673214769, 121.619362152996 25.0722031694866, 121.619458658668 25.0729962041972, 121.619517069996 25.0733055956068, 121.619605321893 25.0736586919111, 121.619658653975 25.0738674438075, 121.619738652098 25.0742274393549, 121.619807856823 25.0744982979269, 121.619887854946 25.0747404024279, 121.619987535146 25.0750170105475, 121.620135468183 25.0753488244529, 121.620238957818 25.0754971915582, 121.620358955002 25.0756490088751, 121.620483396526 25.0757709226449, 121.620640218243 25.0758957116138, 121.620803389017 25.0759882968956, 121.621180523024 25.0761326377853, 121.62147004004 25.0762269480755, 121.621861141973 25.076356337075, 121.622194467485 25.0764604232376, 121.622398907132 25.0765305807117, 121.622533507148 25.0765932623553, 121.622642076029 25.0766979233768, 121.622737311889 25.0768313372965, 121.622793183594 25.0769728018973, 121.622854134545 25.0771384187833, 121.622912545872 25.0774541253518, 121.623001432675 25.0779072692404, 121.623050955323 25.0780717347547, 121.623113176085 25.0781786947258, 121.623226824212 25.0782557518514, 121.62347570726 25.0783920393355, 121.623614116711 25.0784805973661, 121.623711257288 25.0784966988194, 121.624026 25.0784959999999)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0100005300'=='0100020200' || '0100005300'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
