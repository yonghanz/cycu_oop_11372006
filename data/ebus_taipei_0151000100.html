
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492703</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000100">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000100">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000100" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0151000100" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000100" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151000100',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="wQDb6u6kWviGZjDJgdxBJ2XbA_D_6Xu9cA2w6M2nqE_d8Vfwbr3jUnpKmmeQUCvdoFLqZM60LnrYo3OSurK8_zCVhmA1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/taipei_city.svg" width="100%" class="vipstop-city" alt="臺北市">                
 <span class="stationlist-title">小1 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0151000100" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0151000100" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">臺北市公共運輸處公車申訴服務電話02-27291181</a>                </div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">中華科技大學 - 內溝</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0550 - 1830 <br>
                        [假日] 0550 - 1830
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 班表:0550 0700 0900 1030 1400 1530 1700 1830<br>
[假日]<br /> 班表:0550 0700 0900 1030 1400 1530 1700 1830<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">東南客運內湖站:02-8791-7712</span>
                </li>

                    <li>
                        <span class="stationlist-move-route-bus-item">備註 :</span>
                        <span class="stationlist-move-route-bus-content">奇頭到內灣等路段於安全無慮狀況下隨招隨停</span>
                    </li>
            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 內溝</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 中華科技大學</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">中華科技大學(正門)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100240" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.033828" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.6097652" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">中華科技大學</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.033428" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.611345" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">軍人公墓</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.033295" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6121944" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">凌雲站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.034612" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6144894" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">九如里二</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.034863" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61612" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">凌雲五村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157200400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.035872" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6169516" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">九如里一</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157400200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.037701" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6170236" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">胡適公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1152900100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.040597" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.617633" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">中研院</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1152900000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.043422" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.616561" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">中研新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157400100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.045074" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.615639" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">圓拱橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156400100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.047462" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.615728" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">南港水廠</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156400000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.049379" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6159492" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">誠正國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157100100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.051546" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6160314" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">南港展覽館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156800260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.05534" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6156" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">南港軟體園區南站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1150100200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.056417" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6141291" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">南港軟體園區北站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156000300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.058703" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6142155" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">捷運東湖站(南湖高中)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148500300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067207" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6115735" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">五分社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068686" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6143563" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">東湖國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068103" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61672" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">東湖社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1147800100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.069547" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.618788" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">康樂街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.07119" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6191996" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">東湖國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.072872" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6194588" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">五分埤</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076133" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6211888" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">康湖隧道口(白馬山莊)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.07715" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.62288" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">南寮(忠三街口)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148001000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.078715" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.62361" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">奇頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.085602" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6239114" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">內溝</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.096743" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.614669" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">奇頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.085467" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6237679" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">南寮(忠三街口)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148001040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.079068" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.623553" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">康湖隧道口(白馬山莊)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.077315" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6228136" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">五分埤</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.076201" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.621188" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">東湖國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000640" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.072645" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6193512" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">康樂街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.071123" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6191349" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">東湖社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148000540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.069229" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6184776" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">東湖國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068177" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61668" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">五分社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148700060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.068763" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6143084" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">捷運東湖站(南湖高中)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1148600340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.067493" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6115022" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">南港軟體園區北站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156000341" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.059687" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6142045" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">南港軟體園區南站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1150100240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.056585" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6139208" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">南港展覽館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157100540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.054699" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.616456" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">誠正國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157100140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.051803" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6158658" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">南港水廠</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157100040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.049543" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.615625" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">圓拱橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1156400140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.047199" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.615363" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">中研新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157400140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.04483" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61555" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">中研院</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157400040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.04313" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.61648" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">胡適公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1152900140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.039528" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.617338" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">九如里一</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157400240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.038138" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6169015" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">凌雲五村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1157200440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.036259" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.616893" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">九如里二</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.035004" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6161708" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">凌雲站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.034742" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6147203" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">軍人公墓(正門)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158101250" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.034447" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.611284" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">中華科技大學(正門)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1158100240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.033828" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.6097652" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0151000100";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 26;
        var existBackNum = 26;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0151000100',
                        url: './StopStatusRecent3OfRoute?routeid=0151000100&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0151000100',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0151000100',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0151000100');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0151000100","Name":"小1","BeginStop":"中華科技大學","GoDirStops":[{"UniStopId":"1158100240","Name":"中華科技大學(正門)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6097652,"Latitude":25.033828,"PublicId":"1158100240"},{"UniStopId":"1158100120","Name":"中華科技大學","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.611345,"Latitude":25.033428,"PublicId":"1158100120"},{"UniStopId":"1158100520","Name":"軍人公墓","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6121944,"Latitude":25.033295,"PublicId":"1158100520"},{"UniStopId":"1158100420","Name":"凌雲站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6144894,"Latitude":25.034612,"PublicId":"1158100420"},{"UniStopId":"1158100320","Name":"九如里二","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61612,"Latitude":25.034863,"PublicId":"1158100320"},{"UniStopId":"1157200400","Name":"凌雲五村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6169516,"Latitude":25.035872,"PublicId":"1157200400"},{"UniStopId":"1157400200","Name":"九如里一","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6170236,"Latitude":25.037701,"PublicId":"1157400200"},{"UniStopId":"1152900100","Name":"胡適公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.617633,"Latitude":25.040597,"PublicId":"1152900100"},{"UniStopId":"1152900000","Name":"中研院","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.616561,"Latitude":25.043422,"PublicId":"1152900000"},{"UniStopId":"1157400100","Name":"中研新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.615639,"Latitude":25.045074,"PublicId":"1157400100"},{"UniStopId":"1156400100","Name":"圓拱橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.615728,"Latitude":25.047462,"PublicId":"1156400100"},{"UniStopId":"1156400000","Name":"南港水廠","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6159492,"Latitude":25.049379,"PublicId":"1156400000"},{"UniStopId":"1157100100","Name":"誠正國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6160314,"Latitude":25.051546,"PublicId":"1157100100"},{"UniStopId":"1156800260","Name":"南港展覽館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6156,"Latitude":25.05534,"PublicId":"1156800260"},{"UniStopId":"1150100200","Name":"南港軟體園區南站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6141291,"Latitude":25.056417,"PublicId":"1150100200"},{"UniStopId":"1156000300","Name":"南港軟體園區北站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6142155,"Latitude":25.058703,"PublicId":"1156000300"},{"UniStopId":"1148500300","Name":"捷運東湖站(南湖高中)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6115735,"Latitude":25.067207,"PublicId":"1148500300"},{"UniStopId":"1148700020","Name":"五分社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6143563,"Latitude":25.068686,"PublicId":"1148700020"},{"UniStopId":"1148700120","Name":"東湖國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61672,"Latitude":25.068103,"PublicId":"1148700120"},{"UniStopId":"1147800100","Name":"東湖社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.618788,"Latitude":25.069547,"PublicId":"1147800100"},{"UniStopId":"1148000800","Name":"康樂街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6191996,"Latitude":25.07119,"PublicId":"1148000800"},{"UniStopId":"1148000600","Name":"東湖國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6194588,"Latitude":25.072872,"PublicId":"1148000600"},{"UniStopId":"1148000000","Name":"五分埤","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6211888,"Latitude":25.076133,"PublicId":"1148000000"},{"UniStopId":"1148000700","Name":"康湖隧道口(白馬山莊)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.62288,"Latitude":25.07715,"PublicId":"1148000700"},{"UniStopId":"1148001000","Name":"南寮(忠三街口)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.62361,"Latitude":25.078715,"PublicId":"1148001000"},{"UniStopId":"1148000400","Name":"奇頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6239114,"Latitude":25.085602,"PublicId":"1148000400"}],"LastStop":"內溝","BackDirStops":[{"UniStopId":"1148000140","Name":"內溝","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.614669,"Latitude":25.096743,"PublicId":"1148000140"},{"UniStopId":"1148000440","Name":"奇頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6237679,"Latitude":25.085467,"PublicId":"1148000440"},{"UniStopId":"1148001040","Name":"南寮(忠三街口)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.623553,"Latitude":25.079068,"PublicId":"1148001040"},{"UniStopId":"1148000740","Name":"康湖隧道口(白馬山莊)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6228136,"Latitude":25.077315,"PublicId":"1148000740"},{"UniStopId":"1148000040","Name":"五分埤","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.621188,"Latitude":25.076201,"PublicId":"1148000040"},{"UniStopId":"1148000640","Name":"東湖國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6193512,"Latitude":25.072645,"PublicId":"1148000640"},{"UniStopId":"1148000840","Name":"康樂街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6191349,"Latitude":25.071123,"PublicId":"1148000840"},{"UniStopId":"1148000540","Name":"東湖社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6184776,"Latitude":25.069229,"PublicId":"1148000540"},{"UniStopId":"1148700160","Name":"東湖國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61668,"Latitude":25.068177,"PublicId":"1148700160"},{"UniStopId":"1148700060","Name":"五分社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6143084,"Latitude":25.068763,"PublicId":"1148700060"},{"UniStopId":"1148600340","Name":"捷運東湖站(南湖高中)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6115022,"Latitude":25.067493,"PublicId":"1148600340"},{"UniStopId":"1156000341","Name":"南港軟體園區北站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6142045,"Latitude":25.059687,"PublicId":"1156000341"},{"UniStopId":"1150100240","Name":"南港軟體園區南站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6139208,"Latitude":25.056585,"PublicId":"1150100240"},{"UniStopId":"1157100540","Name":"南港展覽館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.616456,"Latitude":25.054699,"PublicId":"1157100540"},{"UniStopId":"1157100140","Name":"誠正國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6158658,"Latitude":25.051803,"PublicId":"1157100140"},{"UniStopId":"1157100040","Name":"南港水廠","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.615625,"Latitude":25.049543,"PublicId":"1157100040"},{"UniStopId":"1156400140","Name":"圓拱橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.615363,"Latitude":25.047199,"PublicId":"1156400140"},{"UniStopId":"1157400140","Name":"中研新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61555,"Latitude":25.04483,"PublicId":"1157400140"},{"UniStopId":"1157400040","Name":"中研院","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.61648,"Latitude":25.04313,"PublicId":"1157400040"},{"UniStopId":"1152900140","Name":"胡適公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.617338,"Latitude":25.039528,"PublicId":"1152900140"},{"UniStopId":"1157400240","Name":"九如里一","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6169015,"Latitude":25.038138,"PublicId":"1157400240"},{"UniStopId":"1157200440","Name":"凌雲五村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.616893,"Latitude":25.036259,"PublicId":"1157200440"},{"UniStopId":"1158100360","Name":"九如里二","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6161708,"Latitude":25.035004,"PublicId":"1158100360"},{"UniStopId":"1158100460","Name":"凌雲站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6147203,"Latitude":25.034742,"PublicId":"1158100460"},{"UniStopId":"1158101250","Name":"軍人公墓(正門)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.611284,"Latitude":25.034447,"PublicId":"1158101250"},{"UniStopId":"1158100240","Name":"中華科技大學(正門)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.6097652,"Latitude":25.033828,"PublicId":"1158100240"}],"RouteMapUrl":"../MapOverview?nid=0151000100","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0550 - 1830","HeadwayDesc":"班表:0550 0700 0900 1030 1400 1530 1700 1830","HolidayBusTimeDesc":"0550 - 1830","HolidayHeadwayDesc":"班表:0550 0700 0900 1030 1400 1530 1700 1830","RouteNote":"奇頭到內灣等路段於安全無慮狀況下隨招隨停","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"東南客運內湖站:02-8791-7712","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.609691825814 25.0340525545575, 121.609894923737 25.033807170116, 121.60999800771 25.0337835683922, 121.610288628967 25.0339087393743, 121.610580887276 25.0338394903817, 121.611701498156 25.0333480206983, 121.611871154835 25.0333127649497, 121.612015673051 25.033285454114, 121.61216468455 25.0332981069554, 121.61231456128 25.0333452067993, 121.612497610725 25.0334133942279, 121.612804332546 25.0335449740378, 121.613084181802 25.0337052233701, 121.613085855412 25.0337067397593, 121.613307210131 25.0338764840764, 121.613756167757 25.0342324035844, 121.613852118414 25.0343286291845, 121.614092484498 25.0345434942109, 121.614182892879 25.0345902357299, 121.614260657244 25.0346267683237, 121.61436673723 25.0346493781796, 121.614719213544 25.0346226826535, 121.615218488909 25.0345803507352, 121.61537880917 25.0345786690604, 121.615506679459 25.0346063539888, 121.615667516985 25.0346777760689, 121.616368768801 25.0350226108751, 121.616489761059 25.0350923269446, 121.616564913733 25.035152191285, 121.616695167806 25.0353514075439, 121.616829796245 25.035638798892, 121.616898314773 25.0357750665119, 121.616938794945 25.0358977518604, 121.616951755168 25.0360155641833, 121.61697214444 25.0364449895366, 121.617010868811 25.0369061363155, 121.6170309901 25.037505430755, 121.617026861552 25.0376358482455, 121.616996989617 25.0379636177832, 121.616968525588 25.0381139511236, 121.616967359055 25.0382127902407, 121.616980639489 25.0383287839461, 121.617007437823 25.0384260906549, 121.617059039192 25.0385406759979, 121.617313343098 25.0389421116846, 121.617333259442 25.0390329902638, 121.617353326624 25.0391008193655, 121.617646775944 25.0403318011126, 121.61764794251 25.0403937074793, 121.617659043741 25.0404999655162, 121.617646853216 25.0406003312186, 121.617630214482 25.0407347658676, 121.617601167077 25.0408235683594, 121.61756549578 25.0408951182227, 121.617489825985 25.0409947657986, 121.616939554824 25.0415831281432, 121.616884668574 25.0416665740339, 121.616849519177 25.0417365542844, 121.616815418539 25.041845093326, 121.616789523325 25.0419676521094, 121.616785399745 25.0420554456575, 121.616818063409 25.0422214159716, 121.616861560601 25.0423054217461, 121.61700045549 25.0424511955753, 121.615681945875 25.0449570696067, 121.61529538875 25.0456463537332, 121.615250162363 25.0457474207064, 121.615200670557 25.0458590512693, 121.615172364779 25.0459808018515, 121.615165824463 25.0460708809745, 121.615167844018 25.0461729719434, 121.615186215603 25.0462919769969, 121.615914992255 25.048147269298, 121.615942756931 25.0482436668681, 121.615950799686 25.0483761710512, 121.615902957623 25.0488070388448, 121.615841003275 25.0491938501751, 121.615820622021 25.0495768709141, 121.615806354304 25.0496724128619, 121.615626142843 25.050195333345, 121.615614264727 25.0502758324343, 121.615605115979 25.0503781966755, 121.615724997654 25.0510761401308, 121.615761564291 25.0511805129875, 121.615802129545 25.0513078942296, 121.61612993352 25.0519464345073, 121.616157617559 25.0520317254649, 121.616616105076 25.0548141810996, 121.616683307924 25.0551962898915, 121.613984072841 25.0553651564756, 121.614051237671 25.0561730503239, 121.614119959945 25.0570220874183, 121.61413742087 25.0577494900162, 121.614182478244 25.0582944439383, 121.614237538637 25.0590309181842, 121.614299693913 25.0601205693762, 121.614304595464 25.0602176151076, 121.614329941783 25.0602936954438, 121.614360660297 25.0603544116906, 121.614396200705 25.0604106456896, 121.614498148923 25.0605331048443, 121.614285377787 25.0607062495149, 121.613228352268 25.0619745101486, 121.611632381096 25.0634172325929, 121.611437552533 25.0636481504048, 121.611303877009 25.0638245308664, 121.611208245058 25.0640138758131, 121.611033842311 25.0646325817099, 121.611002449768 25.0647886042603, 121.6109702628 25.0650252496378, 121.61094135513 25.0653220184375, 121.610937274725 25.065630556939, 121.610962203301 25.0658554531301, 121.611033987943 25.0661249126044, 121.61110794084 25.0663595274108, 121.611217525189 25.0665918351135, 121.611289178073 25.0667495549965, 121.61185598822 25.0677196677048, 121.612007192689 25.0680292127396, 121.612082148008 25.0681846513369, 121.612131917735 25.0683275939805, 121.612187285769 25.0688380719277, 121.61357490476 25.0687855744133, 121.613781385196 25.0687813197545, 121.613929341732 25.0687740126015, 121.614061162289 25.0687639216388, 121.614172645851 25.068743878242, 121.615013130867 25.0685628873097, 121.615457060392 25.0684457582658, 121.616278383119 25.0682217216102, 121.617498932643 25.0679149174107, 121.617593777167 25.0679145423041, 121.61776470676 25.0679657655636, 121.617919530208 25.0680237371949, 121.618061517435 25.068072525829, 121.618122237548 25.0681206490282, 121.618175700985 25.0681879071536, 121.618254697907 25.0683358066237, 121.618309027578 25.0684465004604, 121.6190129686 25.0702920871327, 121.61911613066 25.0706249341716, 121.619131139908 25.0706953063564, 121.619453323419 25.0730139141702, 121.61952401109 25.0733396817796, 121.619639503811 25.073901355728, 121.619744553793 25.0743441255288, 121.619892272778 25.0747982600282, 121.62009170891 25.0753004095477, 121.620129815715 25.0753701559615, 121.620289432173 25.0756012918358, 121.620347263355 25.0756445423421, 121.620637267315 25.0759035224193, 121.620732215865 25.075968562404, 121.620836148439 25.0760250974157, 121.621064933955 25.0761200622746, 121.621940105422 25.0763908776031, 121.622164222876 25.0764550772892, 121.622457784358 25.0765608471921, 121.622561391017 25.0766296648943, 121.622659698731 25.0767321522388, 121.622727409039 25.0768418699898, 121.622782532886 25.0769922389807, 121.62282800766 25.0771365462579, 121.622977372364 25.0778665537948, 121.623047713192 25.0780965064273, 121.62308612922 25.0781495298614, 121.623135736992 25.0781959282229, 121.623294939896 25.0783054851756, 121.623525879318 25.0784312697618, 121.623590865906 25.078481579348, 121.623632468064 25.0785249205794, 121.623618601194 25.0786505303964, 121.623597308838 25.0788228486211, 121.623561437376 25.0788910009649, 121.623592875884 25.0790559397961, 121.623661445143 25.0793034953064, 121.623777911193 25.079687862732, 121.623966875037 25.0802785639123, 121.624008079642 25.080367793984, 121.624082121576 25.0807558003128, 121.624169169021 25.081118305541, 121.624250891266 25.0814131682037, 121.62427988566 25.0814981659312, 121.624337970411 25.0816926889227, 121.624347013299 25.0817756385604, 121.624300679495 25.0819292524118, 121.624283956711 25.0820091455933, 121.624275214681 25.082121960582, 121.624275367807 25.0826934611674, 121.62426328358 25.0827659359131, 121.624232907781 25.0828658707771, 121.624061699754 25.0833886558594, 121.624039292681 25.0834906688541, 121.624024806964 25.0835739012727, 121.623989358249 25.0843959990533, 121.623972365205 25.08448612133, 121.623970430788 25.0846832975454, 121.623991704809 25.0847828380614, 121.624013197534 25.0848214837627, 121.62401394812 25.0848736252921, 121.623980319956 25.0850038185043, 121.623909752827 25.0852811160889, 121.623886106094 25.085431647584, 121.623658454057 25.0862632505093, 121.623554368619 25.0865198797332, 121.623411630002 25.0870036937968, 121.623384565507 25.0871512618792, 121.623371299009 25.0872716544284, 121.623404458766 25.0875525107056, 121.623475946612 25.0879496037936, 121.623457460236 25.0881456515561, 121.62341997922 25.0882708098401, 121.623362443579 25.0884259484917, 121.623288130653 25.0885648660073, 121.623226790092 25.0886285133185, 121.623139486807 25.0886660642557, 121.623065475884 25.0887109847866, 121.622940211335 25.0887661215812, 121.622426501083 25.0889373365011, 121.62233524535 25.0889565641937, 121.622254346596 25.0889531388924, 121.621826721255 25.0889165627273, 121.621722523661 25.088932418087, 121.62164706833 25.0889694736748, 121.621594529337 25.0890257867993, 121.621564316154 25.0890696166535, 121.621538618589 25.0892683032446, 121.621545163131 25.0893736538555, 121.621534543361 25.0895020840038, 121.62149124433 25.0896367953376, 121.621407003599 25.0898892489615, 121.621402281201 25.0899427637846, 121.621393118223 25.09020941915, 121.621379733575 25.0902767857443, 121.621301964391 25.0905832625207, 121.621245676492 25.0906904928223, 121.621213466375 25.0907387606505, 121.621167827283 25.0907982222171, 121.620974172078 25.0909804559934, 121.6208694677 25.0911793863165, 121.620866432611 25.0912777374758, 121.620870808808 25.0913680965123, 121.620852900392 25.09145563392, 121.620830139975 25.0915301940154, 121.620819432032 25.0915806464266, 121.620785588421 25.0916309983347, 121.620609129981 25.0917058875093, 121.620479972733 25.0917708152785, 121.620365621328 25.0918217115702, 121.620324756398 25.0918542619295, 121.620153630468 25.092010304262, 121.620044765889 25.092162389704, 121.619956916363 25.0923048210157, 121.619867216398 25.0924060922243, 121.619799487425 25.0924588882647, 121.619734946584 25.0924941331857, 121.619429629208 25.0925647757964, 121.619367501939 25.0926000531219, 121.619294405328 25.0926485565733, 121.619156826087 25.0928308080479, 121.619097636894 25.092889903393, 121.618992252897 25.0929559562927, 121.618823078614 25.0930173439512, 121.618690464112 25.0930947831385, 121.618586718155 25.0931760616419, 121.618409805591 25.0933331844441, 121.618336680379 25.0934225868897, 121.618223560429 25.0936270884533, 121.618205852763 25.0936821844854, 121.617992801621 25.0939487246942, 121.617878233774 25.0941290194361, 121.617806081469 25.0942697701478, 121.617761650435 25.0943880168472, 121.617664837304 25.0946545824806, 121.617643004285 25.0946995040668, 121.617584233257 25.0947429966166, 121.617433635863 25.09482374847, 121.617262595856 25.0948986523859, 121.617026204539 25.0949518820516, 121.616936439698 25.0949914024278, 121.616876656422 25.0950309214609, 121.61686087755 25.0950851588247, 121.616814247602 25.0952333545495, 121.616787930112 25.0953712957067, 121.616780806547 25.0954829084499, 121.61673738284 25.0956015569896, 121.61665318802 25.0956748404514, 121.616544547187 25.0957136783646, 121.61639751328 25.0957494822961, 121.616190724789 25.0958159109107, 121.616038286869 25.0958418905359, 121.615708055503 25.0958595684676, 121.615614801274 25.0958860772659, 121.615357028042 25.0960512666003, 121.615171144957 25.0961227891655, 121.615004619427 25.0962129902157, 121.614856362209 25.096360523724, 121.614702053192 25.0966010429963, 121.614612712822 25.0967485299497, 121.614572169203 25.096831187769, 121.614538370497 25.0968203812651, 121.614571841875 25.0967645646249, 121.614674113638 25.096583703777, 121.614827204082 25.0963474646639, 121.614977471639 25.0962007540064, 121.615145538024 25.0961047357983, 121.615321735527 25.0960353396296, 121.615583774096 25.0958672594092, 121.615696179811 25.0958286454702, 121.616040505518 25.0958130454614, 121.616183614549 25.0957939511403, 121.616367450261 25.0957311498256, 121.616550496337 25.095681662507, 121.616610566579 25.0956579167136, 121.616711208016 25.0955914795595, 121.616747867784 25.0954890023791, 121.616754187368 25.095362024834, 121.616789954995 25.095221583955, 121.616826750455 25.0950816983138, 121.61685604777 25.0950167005395, 121.616923077941 25.0949661356242, 121.61699970998 25.094930753872, 121.617240152939 25.0948774279863, 121.617417645202 25.0947967433051, 121.617548405915 25.0947324333451, 121.617605396855 25.0946884851571, 121.617631298196 25.0946377050589, 121.617732880752 25.0943753988917, 121.617775901619 25.0942682798158, 121.61783933477 25.0941301497084, 121.617964130399 25.0939334230194, 121.618167106786 25.0936769878745, 121.618199663623 25.093606790692, 121.61829987798 25.0934213330297, 121.618385754375 25.0933186546163, 121.618570471863 25.0931470018644, 121.618682637546 25.0930614785216, 121.618800641337 25.0929962712228, 121.618987371725 25.0929220822087, 121.619065359961 25.0928795593478, 121.619135870979 25.0928118782789, 121.61926417413 25.092635770147, 121.619327783357 25.0925979165721, 121.619409221612 25.0925494530197, 121.619697298364 25.0924801500649, 121.619773413268 25.0924419289132, 121.619842513165 25.092388654211, 121.619932991291 25.0922902626819, 121.620034679615 25.0921465841968, 121.620117058434 25.0920082052338, 121.620295526194 25.0918374672061, 121.620344743436 25.0918088782352, 121.620459088 25.0917555344758, 121.620563721077 25.0916979645089, 121.620746403045 25.0916130747348, 121.620793238813 25.0915746925672, 121.620803241036 25.0915265735623, 121.620820199558 25.0914566655352, 121.620839445302 25.0913740523501, 121.620838323053 25.0912750169878, 121.620840021355 25.0911612543191, 121.62094980804 25.090966752819, 121.621144378744 25.0907673194674, 121.621193963708 25.0907164952918, 121.621231046835 25.0906514570012, 121.621271138135 25.0905811428236, 121.621345444474 25.0902876867003, 121.621362980375 25.0902116329679, 121.621373981115 25.0899358686611, 121.621380930083 25.0898704759369, 121.621468099005 25.0896181377021, 121.621503435741 25.089500370123, 121.621515162134 25.0894097347699, 121.621504697894 25.0892667225491, 121.621535879482 25.0890643061566, 121.621566880457 25.0890098290271, 121.621624206617 25.0889567167516, 121.621725189509 25.0889080086902, 121.621814171256 25.0888912639175, 121.622250626417 25.0889296858837, 121.62233201821 25.0889382950032, 121.622416007514 25.0889116321275, 121.622926691347 25.088749837762, 121.623047488939 25.0886918969874, 121.623135135753 25.0886430248618, 121.623211758596 25.0885975932377, 121.62325451827 25.0885539638943, 121.623335524242 25.0884233456741, 121.62340333273 25.0882361213796, 121.623425406934 25.0881518084394, 121.623444915235 25.0879502769851, 121.623374810978 25.0875465139988, 121.623344888076 25.0872635770095, 121.623357973986 25.0871432437061, 121.623384727222 25.087002861183, 121.623532089752 25.0864975872195, 121.623623223084 25.0862667680294, 121.623850108092 25.0854256078474, 121.623882673059 25.0852712342513, 121.623948505417 25.0849904098027, 121.62398340851 25.0848744883988, 121.62396860227 25.0848166174209, 121.623957962937 25.0847750330157, 121.623941301761 25.0846855793269, 121.623939977723 25.0845163140678, 121.623959931115 25.0843995286598, 121.623991234525 25.0835714438875, 121.624005689941 25.0834817352413, 121.624035644877 25.0833794103455, 121.624197660012 25.0828747358749, 121.624221508902 25.0827791482699, 121.624245661474 25.0827188221247, 121.624253723245 25.0821303409604, 121.624262012313 25.0819891296506, 121.624276392338 25.0819130400609, 121.624312771241 25.0817787852532, 121.62430636005 25.0817070756275, 121.624260160522 25.0815114408428, 121.624222781809 25.0814189250092, 121.624144605683 25.0811276338678, 121.62405647728 25.0807581125476, 121.623984853025 25.0803942552084, 121.623929264607 25.0802787558096, 121.623743552236 25.0796896968674, 121.623634040088 25.0793117814192, 121.623566964871 25.0790555524498, 121.623531111115 25.078883176766, 121.623568059463 25.0788194251971, 121.623594185188 25.0786472314452, 121.62361104476 25.0785323266342, 121.623573302751 25.0784951327773, 121.623514486834 25.0784541277668, 121.623293117734 25.0783233398834, 121.623118450467 25.0782086138875, 121.623060133092 25.0781696694041, 121.623021714369 25.0781044772453, 121.622948443484 25.0778803368218, 121.622797070005 25.0771460566275, 121.622761806838 25.0770166819543, 121.622695366841 25.0768555165584, 121.622643200428 25.0767627028079, 121.622529056081 25.0766528670372, 121.622423403709 25.0765806281881, 121.622160399178 25.0764915290095, 121.621924092309 25.0764242576767, 121.621049311007 25.0761542191172, 121.620829730061 25.0760590992217, 121.620718018784 25.0759993833365, 121.620622381569 25.0759331315295, 121.620311746937 25.0756689624953, 121.620255962598 25.0756089481408, 121.620091557526 25.0753813590185, 121.620056423175 25.0753040640208, 121.619855459191 25.0748222742502, 121.619707638897 25.0743671736608, 121.619603357568 25.0739163848077, 121.619483257065 25.0733423292047, 121.619415928565 25.0729988449701, 121.619087473522 25.0706997477883, 121.619076750667 25.0706228492178, 121.618978787669 25.0702912354675, 121.618278412969 25.0684656547308, 121.618220576125 25.0683438779123, 121.618102130419 25.0681581037147, 121.618031067811 25.0681037384097, 121.617899785849 25.0680599150477, 121.617755598916 25.0680032680947, 121.617599925713 25.0679583237084, 121.617520697888 25.067948743405, 121.616288556674 25.0682497616379, 121.615470795866 25.0684820208841, 121.615040506078 25.0685993930166, 121.614173205054 25.0687807894992, 121.614064416288 25.0688026373875, 121.613905612421 25.0688154897445, 121.613774294339 25.0688180477357, 121.613566906022 25.0688203758057, 121.612050021128 25.0688749412313, 121.612017124843 25.0683650495218, 121.611981306664 25.0682294116307, 121.61192 25.06808, 121.611729033658 25.0677316339788, 121.611131454453 25.0667792612422, 121.611050683261 25.0666169989622, 121.610961265083 25.0663840851662, 121.61089522987 25.0661485045493, 121.610834555583 25.0658550223893, 121.610824546609 25.06564, 121.610837831479 25.0652971158919, 121.610865062488 25.0649997361243, 121.610913287622 25.0647118846373, 121.610969141372 25.0645110506882, 121.611124892936 25.0639828175554, 121.61121687624 25.0637864484301, 121.61134572903 25.0636007609217, 121.61145870132 25.0634539106674, 121.611625092471 25.0632794193713, 121.613119251916 25.0619432017074, 121.614047239972 25.0607988050345, 121.614192867032 25.0606036464258, 121.6143723644 25.0604438358064, 121.614322889725 25.0603701599693, 121.614306053985 25.0603017679967, 121.614280001443 25.0602257005736, 121.614278082927 25.0601283966201, 121.614204869788 25.0590407157977, 121.614154150487 25.0582944729257, 121.614105574794 25.0577432864775, 121.614087337666 25.0570218273059, 121.614008715612 25.05616597581, 121.613934351635 25.0552424193857, 121.615137907526 25.0552119917682, 121.616564939287 25.055114718695, 121.616508143275 25.0548248620529, 121.616059506532 25.0520555572896, 121.616031673361 25.0519703232723, 121.615696989761 25.0513359383876, 121.61566377353 25.0512355767435, 121.615636433651 25.0511339267399, 121.615479349704 25.0502733857581, 121.615475880448 25.0501711827107, 121.615492275625 25.0500653797821, 121.615539175423 25.0499610896611, 121.615682788146 25.0496607327342, 121.615699149855 25.0495514845134, 121.615733441988 25.0491361859414, 121.615858056834 25.0483531217233, 121.615852737057 25.0482580323757, 121.615823430537 25.0481654513686, 121.615096986548 25.0462904475844, 121.61507554014 25.0461661279331, 121.615078437177 25.0460499980463, 121.615087259578 25.0459541672955, 121.615107304138 25.0458590366086, 121.615141875977 25.0457296519629, 121.615192142977 25.0456287059264, 121.615562814727 25.0449491618129, 121.616367197703 25.0433615705406, 121.616908897616 25.0424245761685, 121.616820216249 25.0423160543136, 121.616778949443 25.042224092202, 121.616747706908 25.0421578928565, 121.616741645321 25.0420727494265, 121.616748929227 25.041977486893, 121.616778729028 25.0418493474673, 121.616807301766 25.0417349638825, 121.61684501787 25.0416592421936, 121.616905662284 25.0415740007844, 121.617459721211 25.0409840007844, 121.617533331736 25.0408720038342, 121.617566151281 25.0408165040805, 121.617591385333 25.040726748744, 121.617600571684 25.0405900739435, 121.617614673001 25.0405049834594, 121.617603539867 25.0403963007895, 121.617596637621 25.0403289204439, 121.6173144813 25.0391116699398, 121.61729585962 25.0390398424161, 121.617271405192 25.0389455168201, 121.61702545598 25.0385474611737, 121.616970805099 25.0384238915568, 121.616950285308 25.03832147098, 121.616945690856 25.0382291400978, 121.616940222178 25.0381192406381, 121.616962952815 25.0379536873117, 121.616991246813 25.0376183987666, 121.616990448244 25.037513562213, 121.616970250617 25.036924675614, 121.616937709726 25.0364461168863, 121.616915522956 25.0360254147022, 121.616894797597 25.0359184994224, 121.616866705665 25.0357878159667, 121.616792636993 25.0356443783499, 121.616660395847 25.0353623513452, 121.616541940741 25.0351751106983, 121.61646428816 25.0351078522575, 121.616338887535 25.0350500492311, 121.61563023516 25.0347098847893, 121.615485860407 25.0346396373217, 121.615374447143 25.0346177222653, 121.615234626655 25.0346135407915, 121.614739863138 25.0346537093358, 121.614366548085 25.0346782649996, 121.614255394637 25.0346615783058, 121.614139642514 25.0346108174718, 121.614070041659 25.0345669321333, 121.613825882423 25.034350212235, 121.613718541566 25.0342479431191, 121.613299119791 25.0339033792714, 121.613078219713 25.0337257954289, 121.612784349383 25.0335626254138, 121.612484305377 25.0334440073269, 121.611825675587 25.0344497333544, 121.611499983875 25.034434181276, 121.610944596578 25.0344235142171, 121.610583914608 25.0344494613571, 121.61035657204 25.0344406671301, 121.610131366179 25.0343561898046, 121.609921296467 25.0342233517228, 121.609725808773 25.0340780361283)","wkt0":"LINESTRING (121.60979699999945 25.033871999999768, 121.609894923737 25.033807170116, 121.60999800771 25.0337835683922, 121.610288628967 25.0339087393743, 121.61048707222987 25.033855394766142, 121.61104762680881 25.033566136181431, 121.61146083561272 25.033428762300332, 121.61170320873543 25.033322345807839, 121.61187831530863 25.033250756479131, 121.61206516683494 25.033237212547384, 121.61225095063824 25.033270104950471, 121.61241644770439 25.033339759422017, 121.61261504418381 25.033417153232911, 121.61286275592155 25.033516797692545, 121.613084181802 25.0337052233701, 121.613085855412 25.0337067397593, 121.613307210131 25.0338764840764, 121.613756167757 25.0342324035844, 121.61410772094824 25.034529683869145, 121.6144002770523 25.034620620709894, 121.61534200874492 25.034562575925708, 121.61562815851094 25.034645773441181, 121.61648020147091 25.035038542345308, 121.61661687001586 25.035152696618535, 121.61681546649525 25.035508702483334, 121.61697135405436 25.035853098478071, 121.61700338574461 25.03640064742288, 121.61706744912506 25.037435759775232, 121.61699697940654 25.037909780272958, 121.61698630217647 25.038281256280673, 121.61708239724713 25.038561797311683, 121.61730875452473 25.038857815772804, 121.61739630781136 25.039178985321264, 121.61766750945525 25.040332093155325, 121.61767391579329 25.040599086376545, 121.61760985241283 25.040825449739245, 121.61750948645015 25.040993770943235, 121.61700979208265 25.04148905958278, 121.61688593621379 25.041682531164323, 121.61681546649528 25.041982411512532, 121.61685603996958 25.0422513358463, 121.61696494771634 25.042382895737212, 121.61691156156596 25.042665362084996, 121.61604029959184 25.044300171660485, 121.61525872635036 25.045720213413983, 121.61521601743006 25.045873050715095, 121.61519679841592 25.04616518224157, 121.61537831132718 25.046708815878453, 121.61585024489649 25.047904414471816, 121.61592925639904 25.04815784892196, 121.61596769442733 25.048401609807222, 121.61581607776027 25.049527546654303, 121.61574133714973 25.049900922054132, 121.61563456484899 25.050185305663096, 121.61562388761891 25.050556744485348, 121.61571144090554 25.051046190798164, 121.61588441203274 25.051450514539145, 121.61610863386431 25.051862575161415, 121.61620472893499 25.052276568945679, 121.61632217846584 25.05304845081902, 121.61640332541437 25.053528214546432, 121.61656134841949 25.054443242578355, 121.61667452705831 25.055099040707525, 121.61670228785648 25.055182224290249, 121.61611290475635 25.055249931815904, 121.61414188808453 25.055356329280645, 121.61400094864752 25.055375674264315, 121.61403298033774 25.056081764078446, 121.61410558550227 25.056942607800814, 121.61425293127728 25.058867393798742, 121.61434902634795 25.06028920122689, 121.61433407822585 25.060662543844039, 121.61384933198043 25.061240932491728, 121.61343078456152 25.061767089692673, 121.61307630052305 25.062117215107456, 121.61185268995644 25.063179191599396, 121.61152383127013 25.06350416617283, 121.61129106765452 25.063850417894834, 121.61115653455555 25.064299189620332, 121.61103694957873 25.064896904581218, 121.61094726084609 25.065771226714492, 121.61111169018925 25.066361197194389, 121.6113764854951 25.066926018729294, 121.61180998103613 25.067666859465557, 121.61203633831371 25.068067259773727, 121.61213029793838 25.068448315856333, 121.61217941319673 25.068827436467675, 121.61314463479552 25.068781013598723, 121.61385146742649 25.068755867870692, 121.61426574395338 25.068686233519976, 121.61492132587998 25.068527621795567, 121.61596982987334 25.06826649228967, 121.61720812163135 25.067941530349351, 121.61776974393329 25.067933793149791, 121.61800250754895 25.06802277091526, 121.61818615590623 25.068202660548021, 121.61869012116576 25.069417392228086, 121.61913002304486 25.070626309089011, 121.61930299417206 25.071833279778989, 121.61951440332757 25.073312963192713, 121.61984112656785 25.074606946190823, 121.6201016509817 25.075280044048206, 121.62033655004332 25.075645604265198, 121.62074869112422 25.07596474324491, 121.62112025873081 25.076125279508137, 121.62244850615215 25.076531454655875, 121.62260225826523 25.076616557849434, 121.6227666876084 25.07684672300843, 121.6230485664824 25.078018817862631, 121.62313825521501 25.078177417294569, 121.62361232423035 25.078453998739228, 121.62365503315063 25.078600992819176, 121.62358456343215 25.078873705052693, 121.62359096977019 25.079020698628732, 121.62382586883184 25.079805950795258, 121.62402873620326 25.080455810848274, 121.62425509348085 25.081395780892894, 121.62434691765949 25.081682025481115, 121.62434905310553 25.081784531826287, 121.62429459923212 25.081976005712843, 121.62428712517108 25.082112358146439, 121.62428498972507 25.082521414535975, 121.62428605744806 25.082677107034314, 121.62424548397377 25.082864711396571, 121.62404475204839 25.08349231359076, 121.62399990768206 25.084463204944591, 121.62397748549888 25.084551203680682, 121.62399136589801 25.084762980599415, 121.62403727798733 25.084921571294053, 121.62397214688386 25.085044382239573, 121.6239070157804 25.085323849207523, 121.6238644256745 25.08559759769167)","wkt1":"LINESTRING (121.6238644256745 25.08559759769167, 121.62373831554524 25.085974646974552, 121.62353651589679 25.086635111304123, 121.62341799864299 25.086985165623695, 121.62337635744571 25.087219179278939, 121.62347565568538 25.087874801930102, 121.62349701014554 25.088042091513163, 121.62343828538013 25.088304145833884, 121.62331656495726 25.08856233164537, 121.62315427106012 25.088697709755802, 121.62248480873444 25.08890851251531, 121.62226592551789 25.088951059817227, 121.62185591988298 25.088915281405235, 121.62162315626736 25.088998442022397, 121.62157083784 25.089080635600105, 121.62155482199489 25.089301107512377, 121.62156656694796 25.089450989506631, 121.62152919664271 25.089603772253771, 121.62143310157201 25.089800068794485, 121.62141281483485 25.089971223649364, 121.62142135661894 25.090123038772273, 121.62132419382525 25.090538837189133, 121.6212579949988 25.090692585548261, 121.62101668959913 25.090964303874081, 121.62089496917626 25.091167366997645, 121.62087895333114 25.091372363713905, 121.62086507293205 25.091494201222169, 121.62083143965731 25.091595974127156, 121.62069052393907 25.091679969059008, 121.62048494547614 25.091782978506334, 121.6203603979402 25.091837065226272, 121.62027576563868 25.091903382578892, 121.62014641627003 25.092075698810721, 121.61996784811612 25.092348034063967, 121.61989732119818 25.092434463688285, 121.61981569004207 25.092499965344032, 121.61972835670964 25.092536385336626, 121.61960440940281 25.092545626228556, 121.61939612990896 25.092596451121626, 121.61926467973848 25.092690762498304, 121.61914103254618 25.092889169479911, 121.6190155846666 25.092962552802561, 121.61868545866773 25.093107144998388, 121.61847417802844 25.093269675119789, 121.61834332808706 25.093398503189711, 121.61830191227992 25.09347025547364, 121.61823468662196 25.093619195686248, 121.61799639567367 25.093950777260272, 121.61779771984529 25.094311710935745, 121.6177911173253 25.094349761110575, 121.61771728914738 25.094477500896659, 121.61772389166735 25.094538924661208, 121.61769988250377 25.094672099974005, 121.61764706234396 25.094717760047878, 121.6173067324506 25.09490257445853, 121.61723410473085 25.09491725088505, 121.61717828342559 25.094916707313732, 121.61704923417147 25.0949476908752, 121.6169081803356 25.095009114403684, 121.61680374047411 25.095170554858051, 121.61676472558334 25.095336343655131, 121.61676592604155 25.0955521405397, 121.61673171298345 25.095652157102691, 121.61657145181674 25.095706513896108, 121.61609727083652 25.095840231505136, 121.6158229661429 25.095841318639575, 121.61562248962724 25.095885891143041, 121.61539440257346 25.0960620067296, 121.61530376798105 25.096101687058237, 121.61513570383616 25.096148977296107, 121.61498084473124 25.096238122062616, 121.61475155721928 25.096522406463372, 121.61465262972281 25.096739673178039, 121.61458968069709 25.096723638061917, 121.61463721357786 25.09665177467177, 121.61473535103389 25.096484356964286, 121.61483018722993 25.096355532143779, 121.61490941746968 25.0962538854597, 121.61497724335671 25.096195180384431, 121.61506067520008 25.0961419109399, 121.61535238653724 25.096019064989594, 121.61539980463526 25.095991343098792, 121.61554806122022 25.09588208617388, 121.61558647588191 25.095857625654936, 121.61575213911046 25.095807073900282, 121.6160234426586 25.095810878871784, 121.61612488137463 25.095797833254696, 121.61620291115618 25.095779895528931, 121.61662127083115 25.095656505647067, 121.61669269809271 25.095615194469385, 121.61672811160895 25.095540182032142, 121.6167131058817 25.09538417775811, 121.61674431779434 25.095209691905833, 121.61678693405966 25.095108044269697, 121.6168553601758 25.095015093683582, 121.61694059270641 25.09495747515615, 121.61719208869467 25.094884636601506, 121.61722630175269 25.094875395886248, 121.61729532809794 25.094853653024064, 121.61759124103875 25.094688950717547, 121.6176368584495 25.09462807060093, 121.61768007494389 25.094477500896673, 121.61775210243455 25.094316603101753, 121.61795497986658 25.093933382839388, 121.61811524103332 25.093725193172393, 121.61823528685107 25.093550704954076, 121.6183205193817 25.093346319684073, 121.6186476442351 25.093093555513587, 121.61904379543377 25.0928984103452, 121.61908281032454 25.09286960058645, 121.6191782467497 25.09272609527201, 121.61924667286581 25.092651624644777, 121.61934150906185 25.092576066808775, 121.61937332120358 25.092546169810419, 121.619463955796 25.092524970116255, 121.61965302795898 25.092507575492657, 121.61972025361692 25.0924977910158, 121.61977787560947 25.092475504148915, 121.61985770607829 25.092416797260629, 121.61997955258332 25.092264594085734, 121.62026706231688 25.091850926643126, 121.62031087904037 25.091812332106059, 121.62077065452246 25.091586744075471, 121.62080726849688 25.091518252205567, 121.62083097754591 25.091420134817213, 121.62083487903499 25.091266843227487, 121.62086399014579 25.091147253910659, 121.62093541740737 25.090997767100269, 121.62114069575577 25.090770546798716, 121.62120942198644 25.090683844204008, 121.62123103023366 25.090647695455157, 121.62132616654422 25.090374269234502, 121.62138378853672 25.090120411739161, 121.62138919059853 25.089873892232688, 121.62140929827302 25.08977794790243, 121.62149513103269 25.089564315214098, 121.62151944031079 25.089485222101302, 121.62153714706893 25.089400964777141, 121.62151914019627 25.089191136608065, 121.6215416487871 25.089086494187214, 121.6215821642506 25.089001149393319, 121.62162177937046 25.088956846180661, 121.62168240250843 25.088918522529777, 121.62183185955155 25.088881557862237, 121.62191799242582 25.088887265642512, 121.62223461327019 25.088918794328759, 121.62229283549181 25.08891526094191, 121.62242068428773 25.08889949659935, 121.62253622838733 25.088872044894519, 121.62265867512147 25.0888345366146, 121.6228465468263 25.088773925384338, 121.62302811612567 25.088710052530722, 121.62310584579269 25.088667651809491, 121.62321148611233 25.088596440308724, 121.62328081257209 25.0885314801631, 121.62331712643196 25.088475217582332, 121.62336094315545 25.088386067159842, 121.62339695690078 25.088295829470933, 121.62345187786241 25.088064798940067, 121.62345487900785 25.087978638030425, 121.6234491768315 25.087892477060119, 121.62341796491889 25.087728852589922, 121.62336124326998 25.087415464912478, 121.62334743800098 25.087154806206918, 121.6233753486536 25.087035212871545, 121.62349269344044 25.086656862277245, 121.62358092711649 25.086369836908229, 121.6238423268847 25.085564205287657, 121.62386153421558 25.085242386046041, 121.62391195345903 25.085121703612277, 121.62395877132796 25.085024940133483, 121.62399118369876 25.084803144904697, 121.62396957545155 25.084709642874103, 121.62395156857889 25.084694421606546, 121.62394676674619 25.084550906705097, 121.62394796720436 25.084417176759114, 121.62400678965507 25.083439747758039, 121.62418085609087 25.082951573955086, 121.62424207945793 25.082676499662874, 121.62425888587239 25.08202523434872, 121.62432371061402 25.081732761819797, 121.62430570374133 25.081621861272961, 121.62410882860017 25.080949932281918, 121.62394436582986 25.080301919599666, 121.62378110351767 25.079774591311793, 121.62354101188211 25.078967828999421, 121.62354821463119 25.078790601525871, 121.62359503250011 25.078645992415669, 121.62355421692207 25.078495946692193, 121.62317607259608 25.07826435401892, 121.62309084006547 25.078204553022736, 121.62298039791311 25.078052332173371, 121.62277632002291 25.077067241244404, 121.62273190307033 25.076904145955027, 121.62262866366703 25.076732352015277, 121.62251221922381 25.076625796159373, 121.62237416653335 25.076551859388541, 121.6211484987339 25.076171301773556, 121.62082917685862 25.076062570809182, 121.62059148613945 25.075907085362356, 121.62034299129662 25.075714631074327, 121.62012210699194 25.075405833731548, 121.61978357778582 25.07462405106196, 121.61949426736501 25.073389933351656, 121.61941383666711 25.07298218247605, 121.61928658810025 25.071915499764255, 121.61909331433365 25.070725936424761, 121.61903929371566 25.070478018661447, 121.61883401536726 25.069902804023315, 121.61868275763688 25.069509177326594, 121.61843546325225 25.068876327333651, 121.61822898444569 25.06836417314144, 121.61813895008237 25.068207590540581, 121.61791326394496 25.06807384274385, 121.61768757780753 25.068003162954881, 121.61745228800471 25.06799555128287, 121.6163910829756 25.068255435245415, 121.61440672560781 25.068776288891151, 121.61340434302943 25.06887523995972, 121.61205142666313 25.068928521271221, 121.61202741749958 25.068497920621162, 121.61195539000889 25.06820106626121, 121.61157364430838 25.06748230602166, 121.61101303033939 25.066468857792128, 121.61087857902346 25.066003451718643, 121.6108017497001 25.065719640137722, 121.61078254236925 25.065033487583943, 121.61090138772887 25.064746411524151, 121.61108985966278 25.063936287954981, 121.61119790089877 25.063727503562912, 121.61138877374901 25.063442599287214, 121.61203101887411 25.062846690492147, 121.6128017130242 25.062186620250131, 121.61312103489948 25.061898450083724, 121.61368645070122 25.061214451012948, 121.61378848964632 25.061042635066038, 121.61412221701971 25.0606163564865, 121.61419424451039 25.060423878172511, 121.61424706467021 25.0601846391687, 121.61414742664147 25.05910805787132, 121.61394574966756 25.056239303143734, 121.61387852400962 25.055398673513491, 121.61384611163879 25.05506807502881, 121.61403338311453 25.055044150103868, 121.6144775526403 25.055083299978612, 121.61500335332215 25.055196399546521, 121.61515341059437 25.055211624480382, 121.61592890657718 25.0551572497079, 121.61655314482958 25.055082212482265, 121.61650632696066 25.054815775585279, 121.61640908984826 25.05424266241954, 121.61622541974708 25.05310295313231, 121.61604895239498 25.052077423217778, 121.61592170382812 25.051757691033959, 121.61568761448348 25.051261778241845, 121.61560358241101 25.05102578394985, 121.61552795354582 25.050514642681446, 121.6155039443823 25.050203606738918, 121.61556036591662 25.04992302119064, 121.61570081952344 25.049622859195463, 121.61574763739236 25.049203066186951, 121.61582926854847 25.048572286424847, 121.61583407038118 25.04818185387705, 121.61547273246966 25.047272652373014, 121.6151366041799 25.046380845304718, 121.61508978631096 25.046043697040467, 121.61510779318363 25.045789203865716, 121.61527945870303 25.045394412126281, 121.61596492032251 25.044188277423309, 121.61629864769593 25.043515055509477, 121.61656154803686 25.043001707721604, 121.61680043921423 25.042522073630472, 121.6168304506687 25.042394823454689, 121.61673561447263 25.042192528031642, 121.61674401767988 25.041986969437374, 121.61684365570865 25.041657422400618, 121.61692288594837 25.041541047492895, 121.61735865226689 25.041088598204254, 121.61750030633185 25.040903702581833, 121.61758193748793 25.040735121036086, 121.61761795123329 25.040483879721776, 121.61758673932063 25.040241338917109, 121.61747869808465 25.0397421166481, 121.61727582065259 25.038940528928357, 121.61716057666752 25.038732789600772, 121.61698771068994 25.038455440735397, 121.61693369007195 25.038272716434342, 121.61692888823923 25.038086728919794, 121.61697570610816 25.03767886057598, 121.61699251252266 25.037510274597732, 121.61699251252263 25.037164400704125, 121.61693969236281 25.036466124022432, 121.61687726853758 25.035853769081644, 121.61684965799948 25.035729774991466, 121.61653393749872 25.035175063053529, 121.61626863624146 25.03502605177221, 121.61552675308762 25.034649715905541, 121.61538990085535 25.034629050029707, 121.61444634072764 25.034681258551405, 121.6142542674192 25.0346584173259, 121.6140609936526 25.034563789346347, 121.61382570384977 25.034326675226442, 121.61289654922022 25.033622943977125, 121.612625245672 25.033496772249304, 121.61256042093042 25.033494596873673, 121.61190737168174 25.034468073614615, 121.61083176115446 25.034434355554968, 121.61072972220936 25.034435443234457, 121.61042480583222 25.034511580774666, 121.61024953893826 25.03447568736874, 121.61008147479339 25.034399549806256, 121.60970092955105 25.034140681740364, 121.60962770160221 25.03406889470098, 121.60966851718025 25.034002546036312, 121.60979699999878 25.033872000000525)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0151000100'=='0100020200' || '0151000100'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
