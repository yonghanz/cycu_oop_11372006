
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492760</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151002600">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151002600">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151002600" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0151002600" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151002600" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0151002600',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="PFKUvI0IJ-lTcOjMwXH8Ja-IrhTv8iLuc6ObyeILmvu2MUPu9EGPMz2t9BOCn4GgISOW6jzIM7hjoSBAe4H_sQ_CaHo1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/taipei_city.svg" width="100%" class="vipstop-city" alt="臺北市">                
 <span class="stationlist-title">小26 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0151002600" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0151002600" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">臺北市公共運輸處公車申訴服務電話02-27291181</a>                </div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">北投 - 頂湖</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0530 - 2230 <br>
                        [假日] 0530 - 2230
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 小26班表:0530 0625 0725 0835 0945 1050 1230 1410 1610 1645 1720 1820 1930 2030 2130 2230<br/>平日7-9時去程改行駛「大業路-大業路452巷-北投路2段-原線」<br/>1645班次僅於泉源國小上課期間行駛(例假日及寒暑假停駛)<br>
[假日]<br /> 小26班表:0530 0625 0725 0835 0945 1050 1230 1410 1610 1720 1820 1930 2030 2130 2230<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">大南汽車秀山站:02-2893-7723</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 頂湖</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 北投</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">致遠新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125200440" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.143015" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.4907887" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">稻香圖書館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125600240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13974" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48958" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">復興崗</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125800140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13807" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4923517" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">文化國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125800040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13669" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4957248" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">幼華高中(大業)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1126800040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.135718" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4968066" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">捷運北投站(北投)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124600400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13225" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49802" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">幼華高中(北投)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1126800100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13423" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49683" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">大業中央北路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1126300020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.135605" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.498029" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">北投國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1126300340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.133845" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5007209" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">第一銀行</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124600500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.134924" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5025486" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">北投公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124300300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.136504" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5043499" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">新北投</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.137748" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.504307" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">華僑會館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.139305" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5059604" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">雅敘園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.140666" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.506324" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">源之鄉</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124301240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14134" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.50781" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">郵政訓練所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.141022" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5097788" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">八勝園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124300020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.141166" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5110308" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">上北投</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14187" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.51406" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">泉源別墅</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.142759" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5178621" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">彌陀寺(硫磺谷)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124703120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14374" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52148" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">大同之家</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700560" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.146018" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.523174" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">十八份福德宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.147856" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5224231" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">十八份</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.150358" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.523109" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">泉源國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14917" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52465" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">泉源國小宿舍</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.150533" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.525477" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">紅柿下</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.15103" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52694" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">無尾崙</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.152425" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5273725" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 28</span>
                                    <span class="auto-list-stationlist-place">風尾</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.154451" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5289051" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 29</span>
                                    <span class="auto-list-stationlist-place">頂湖活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124703500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.155303" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.529629" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 30</span>
                                    <span class="auto-list-stationlist-place">頂湖</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.156383" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.530313" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">頂湖</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.156311" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.530112" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">頂湖活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124703540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.155399" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.529527" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">風尾</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.154589" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5288205" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">無尾崙</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.15228" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5273248" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">紅柿下</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701640" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.151125" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5267939" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">泉源國小宿舍</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.15064" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52536" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">泉源國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14919" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5244" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">十八份</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.150479" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.523106" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">泉源3號橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124703440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.149966" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.522745" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">十八份福德宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14767" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52225" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">大同之家</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14588" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52314" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">彌陀寺(硫磺谷)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124703140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14381" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52138" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">泉源別墅</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14288" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5179218" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">上北投</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14187" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5138656" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">八勝園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124700140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14139" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.511701" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">郵政訓練所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14117" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.50929" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">源之鄉</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124301200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14152" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.50773" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">雅敘園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.140539" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5062464" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">華僑會館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.139314" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5057796" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">新北投</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124702740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.137696" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5041589" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">北投公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124701040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.136348" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5041244" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">第一銀行</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124600540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.134513" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5023587" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">中央南路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1126300240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.132153" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5013176" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">大興街口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1126800700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.130578" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.499403" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">捷運北投站(北投)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1124600400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13225" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49802" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">幼華高中(北投)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1126800100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13423" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49683" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">文化國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125800000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.1369" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4955289" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 28</span>
                                    <span class="auto-list-stationlist-place">復興崗</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125800100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.13812" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4926" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 29</span>
                                    <span class="auto-list-stationlist-place">稻香圖書館</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125600200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.14056" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48966" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 30</span>
                                    <span class="auto-list-stationlist-place">致遠新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1125200400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.143004" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.490879" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0151002600";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 30;
        var existBackNum = 30;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0151002600',
                        url: './StopStatusRecent3OfRoute?routeid=0151002600&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0151002600',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0151002600',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0151002600');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0151002600","Name":"小26","BeginStop":"北投","GoDirStops":[{"UniStopId":"1125200440","Name":"致遠新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4907887,"Latitude":25.143015,"PublicId":"1125200440"},{"UniStopId":"1125600240","Name":"稻香圖書館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48958,"Latitude":25.13974,"PublicId":"1125600240"},{"UniStopId":"1125800140","Name":"復興崗","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4923517,"Latitude":25.13807,"PublicId":"1125800140"},{"UniStopId":"1125800040","Name":"文化國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4957248,"Latitude":25.13669,"PublicId":"1125800040"},{"UniStopId":"1126800040","Name":"幼華高中(大業)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4968066,"Latitude":25.135718,"PublicId":"1126800040"},{"UniStopId":"1124600400","Name":"捷運北投站(北投)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49802,"Latitude":25.13225,"PublicId":"1124600400"},{"UniStopId":"1126800100","Name":"幼華高中(北投)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49683,"Latitude":25.13423,"PublicId":"1126800100"},{"UniStopId":"1126300020","Name":"大業中央北路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.498029,"Latitude":25.135605,"PublicId":"1126300020"},{"UniStopId":"1126300340","Name":"北投國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5007209,"Latitude":25.133845,"PublicId":"1126300340"},{"UniStopId":"1124600500","Name":"第一銀行","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5025486,"Latitude":25.134924,"PublicId":"1124600500"},{"UniStopId":"1124300300","Name":"北投公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5043499,"Latitude":25.136504,"PublicId":"1124300300"},{"UniStopId":"1124702700","Name":"新北投","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.504307,"Latitude":25.137748,"PublicId":"1124702700"},{"UniStopId":"1124702300","Name":"華僑會館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5059604,"Latitude":25.139305,"PublicId":"1124702300"},{"UniStopId":"1124702500","Name":"雅敘園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.506324,"Latitude":25.140666,"PublicId":"1124702500"},{"UniStopId":"1124301240","Name":"源之鄉","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.50781,"Latitude":25.14134,"PublicId":"1124301240"},{"UniStopId":"1124702420","Name":"郵政訓練所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5097788,"Latitude":25.141022,"PublicId":"1124702420"},{"UniStopId":"1124300020","Name":"八勝園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5110308,"Latitude":25.141166,"PublicId":"1124300020"},{"UniStopId":"1124700400","Name":"上北投","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.51406,"Latitude":25.14187,"PublicId":"1124700400"},{"UniStopId":"1124701320","Name":"泉源別墅","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5178621,"Latitude":25.142759,"PublicId":"1124701320"},{"UniStopId":"1124703120","Name":"彌陀寺(硫磺谷)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52148,"Latitude":25.14374,"PublicId":"1124703120"},{"UniStopId":"1124700560","Name":"大同之家","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.523174,"Latitude":25.146018,"PublicId":"1124700560"},{"UniStopId":"1124700300","Name":"十八份福德宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5224231,"Latitude":25.147856,"PublicId":"1124700300"},{"UniStopId":"1124700220","Name":"十八份","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.523109,"Latitude":25.150358,"PublicId":"1124700220"},{"UniStopId":"1124701420","Name":"泉源國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52465,"Latitude":25.14917,"PublicId":"1124701420"},{"UniStopId":"1124701500","Name":"泉源國小宿舍","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.525477,"Latitude":25.150533,"PublicId":"1124701500"},{"UniStopId":"1124701600","Name":"紅柿下","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52694,"Latitude":25.15103,"PublicId":"1124701600"},{"UniStopId":"1124702200","Name":"無尾崙","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5273725,"Latitude":25.152425,"PublicId":"1124702200"},{"UniStopId":"1124701720","Name":"風尾","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5289051,"Latitude":25.154451,"PublicId":"1124701720"},{"UniStopId":"1124703500","Name":"頂湖活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.529629,"Latitude":25.155303,"PublicId":"1124703500"},{"UniStopId":"1124702100","Name":"頂湖","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.530313,"Latitude":25.156383,"PublicId":"1124702100"}],"LastStop":"頂湖","BackDirStops":[{"UniStopId":"1124702140","Name":"頂湖","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.530112,"Latitude":25.156311,"PublicId":"1124702140"},{"UniStopId":"1124703540","Name":"頂湖活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.529527,"Latitude":25.155399,"PublicId":"1124703540"},{"UniStopId":"1124701760","Name":"風尾","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5288205,"Latitude":25.154589,"PublicId":"1124701760"},{"UniStopId":"1124702240","Name":"無尾崙","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5273248,"Latitude":25.15228,"PublicId":"1124702240"},{"UniStopId":"1124701640","Name":"紅柿下","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5267939,"Latitude":25.151125,"PublicId":"1124701640"},{"UniStopId":"1124701540","Name":"泉源國小宿舍","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52536,"Latitude":25.15064,"PublicId":"1124701540"},{"UniStopId":"1124701460","Name":"泉源國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5244,"Latitude":25.14919,"PublicId":"1124701460"},{"UniStopId":"1124700260","Name":"十八份","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.523106,"Latitude":25.150479,"PublicId":"1124700260"},{"UniStopId":"1124703440","Name":"泉源3號橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.522745,"Latitude":25.149966,"PublicId":"1124703440"},{"UniStopId":"1124700340","Name":"十八份福德宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52225,"Latitude":25.14767,"PublicId":"1124700340"},{"UniStopId":"1124700520","Name":"大同之家","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52314,"Latitude":25.14588,"PublicId":"1124700520"},{"UniStopId":"1124703140","Name":"彌陀寺(硫磺谷)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52138,"Latitude":25.14381,"PublicId":"1124703140"},{"UniStopId":"1124701360","Name":"泉源別墅","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5179218,"Latitude":25.14288,"PublicId":"1124701360"},{"UniStopId":"1124700440","Name":"上北投","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5138656,"Latitude":25.14187,"PublicId":"1124700440"},{"UniStopId":"1124700140","Name":"八勝園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.511701,"Latitude":25.14139,"PublicId":"1124700140"},{"UniStopId":"1124702460","Name":"郵政訓練所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.50929,"Latitude":25.14117,"PublicId":"1124702460"},{"UniStopId":"1124301200","Name":"源之鄉","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.50773,"Latitude":25.14152,"PublicId":"1124301200"},{"UniStopId":"1124702540","Name":"雅敘園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5062464,"Latitude":25.140539,"PublicId":"1124702540"},{"UniStopId":"1124702340","Name":"華僑會館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5057796,"Latitude":25.139314,"PublicId":"1124702340"},{"UniStopId":"1124702740","Name":"新北投","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5041589,"Latitude":25.137696,"PublicId":"1124702740"},{"UniStopId":"1124701040","Name":"北投公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5041244,"Latitude":25.136348,"PublicId":"1124701040"},{"UniStopId":"1124600540","Name":"第一銀行","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5023587,"Latitude":25.134513,"PublicId":"1124600540"},{"UniStopId":"1126300240","Name":"中央南路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5013176,"Latitude":25.132153,"PublicId":"1126300240"},{"UniStopId":"1126800700","Name":"大興街口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.499403,"Latitude":25.130578,"PublicId":"1126800700"},{"UniStopId":"1124600400","Name":"捷運北投站(北投)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49802,"Latitude":25.13225,"PublicId":"1124600400"},{"UniStopId":"1126800100","Name":"幼華高中(北投)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49683,"Latitude":25.13423,"PublicId":"1126800100"},{"UniStopId":"1125800000","Name":"文化國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4955289,"Latitude":25.1369,"PublicId":"1125800000"},{"UniStopId":"1125800100","Name":"復興崗","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4926,"Latitude":25.13812,"PublicId":"1125800100"},{"UniStopId":"1125600200","Name":"稻香圖書館","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48966,"Latitude":25.14056,"PublicId":"1125600200"},{"UniStopId":"1125200400","Name":"致遠新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.490879,"Latitude":25.143004,"PublicId":"1125200400"}],"RouteMapUrl":"../MapOverview?nid=0151002600","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0530 - 2230","HeadwayDesc":"小26班表:0530 0625 0725 0835 0945 1050 1230 1410 1610 1645 1720 1820 1930 2030 2130 2230;平日7-9時去程改行駛「大業路-大業路452巷-北投路2段-原線」;1645班次僅於泉源國小上課期間行駛(例假日及寒暑假停駛)","HolidayBusTimeDesc":"0530 - 2230","HolidayHeadwayDesc":"小26班表:0530 0625 0725 0835 0945 1050 1230 1410 1610 1720 1820 1930 2030 2130 2230","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"大南汽車秀山站:02-2893-7723","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.49200090688 25.1447919610804, 121.492241712475 25.1447779061727, 121.491781356141 25.1443678575137, 121.491618076331 25.1442851186764, 121.491378946706 25.1441858668254, 121.491233046651 25.1440657815153, 121.490987874569 25.1436539891903, 121.490836168452 25.1433101612824, 121.490815759847 25.1431773276271, 121.490800379924 25.1430033743088, 121.490779562715 25.1428122297915, 121.490745336903 25.1425977573169, 121.490674958527 25.1424421735561, 121.49058117277 25.1423236963376, 121.490406845889 25.1421569494578, 121.490270562715 25.1421006554379, 121.490251 25.142034, 121.490264211027 25.1419309248445, 121.49022754439 25.1418159425159, 121.49007550537 25.1416015586447, 121.489899568011 25.141396669064, 121.489658745507 25.14116763899, 121.489590745507 25.1410662449982, 121.489561782691 25.1406745699295, 121.489510038454 25.1402180844249, 121.489533744685 25.1401032762516, 121.489562548375 25.1400224752946, 121.489624644961 25.1398694771615, 121.489699115582 25.1397526098016, 121.489930774188 25.1394904750356, 121.490104519524 25.1393846603649, 121.49058954506 25.1390892693142, 121.490840705009 25.138932514788, 121.491099308223 25.1387711147538, 121.491220304203 25.1386940917733, 121.491266502354 25.1386097907557, 121.491264166087 25.1385429942944, 121.491359237788 25.1384810261704, 121.49148150678 25.1384667216564, 121.491584716827 25.1384213440963, 121.491849807765 25.1383054496485, 121.494169648757 25.137384307544, 121.494615297199 25.1372156122401, 121.495984242449 25.1365713612571, 121.497088379924 25.1360727024243, 121.496994784897 25.1358545650766, 121.496223716827 25.1345195124724, 121.496820182792 25.1336882287623, 121.496958605736 25.1335058856297, 121.497580831548 25.1325778856818, 121.497535 25.132511, 121.497487197132 25.1323191855267, 121.497448322563 25.1320746142696, 121.497517351243 25.1318984428598, 121.497667096751 25.1317432717967, 121.497844591396 25.1316152001674, 121.498025770557 25.1315467573136, 121.498257640413 25.1314956399674, 121.498484297513 25.1314792426711, 121.499604078261 25.1302186142454, 121.500277256109 25.1304204830805, 121.500796284811 25.1305761265254, 121.501188512134 25.1306185116636, 121.501402612282 25.1322289693639, 121.501512234932 25.1328509055849, 121.501561172266 25.1332107443929, 121.501694117582 25.1332735896339, 121.501810455256 25.1333936011373, 121.502024346535 25.1335943930402, 121.502276224589 25.1338625935123, 121.502320832173 25.1339992588071, 121.502351394264 25.1341003030217, 121.502377 25.1342671441567, 121.502418620076 25.1344310995259, 121.502554168452 25.1349520903448, 121.502605953349 25.1351414256774, 121.502821870938 25.1353791061819, 121.502990548375 25.1355203890293, 121.503180648757 25.1356535724618, 121.504380104012 25.1364130529703, 121.504377258124 25.1364758238302, 121.504312003631 25.1368755149336, 121.504083831548 25.1370948488303, 121.504042 25.1373245104125, 121.504072229994 25.1374438169765, 121.504507865595 25.137887641044, 121.505495706117 25.1389669495877, 121.505971474546 25.1393409255908, 121.506507437285 25.1398094751844, 121.506566907081 25.1399131703325, 121.506566137177 25.1400193751461, 121.506511737223 25.1401927641544, 121.506326422944 25.1406029181788, 121.506331480542 25.1407113587276, 121.506570081142 25.1410248683676, 121.506877562201 25.1413603175497, 121.506966032128 25.1413988204145, 121.507156142546 25.1413643096028, 121.507431716438 25.1414219023825, 121.5076580513 25.1414805144996, 121.507787075861 25.1413570797607, 121.508015440732 25.1411641147948, 121.50825616119 25.14109237761, 121.508487514536 25.1410694831573, 121.508735462334 25.1410806072008, 121.508976182792 25.1410902628006, 121.509262731491 25.1410680547926, 121.509564039174 25.1410243420515, 121.510305126364 25.1409872674297, 121.51060498566 25.1410955256568, 121.510773268833 25.1411510498597, 121.510916121218 25.1411906908515, 121.511099053666 25.141162252802, 121.511390701179 25.1411432411209, 121.511605044701 25.1412223567939, 121.511801378905 25.1412953699466, 121.512075055354 25.1414087197153, 121.512320646426 25.1414485754661, 121.512572854882 25.1414354563099, 121.512730734143 25.1414457086891, 121.512968978936 25.1415194201449, 121.513111362048 25.1415614304777, 121.513316265202 25.141614495606, 121.513820792159 25.1417865265153, 121.514067724089 25.1418479523568, 121.514283594385 25.1420434867139, 121.514476902074 25.1420905578947, 121.514655242045 25.1421073230547, 121.5148343422 25.1420785679435, 121.515005037416 25.1420082061408, 121.515150317175 25.1419353372313, 121.515506868286 25.1417469345841, 121.515713111091 25.1416394115106, 121.515829168452 25.1416680837985, 121.515953831548 25.1417724929005, 121.516058677437 25.1419098851568, 121.516173211472 25.1420335911068, 121.516268125431 25.1421410506094, 121.516421379924 25.1422229189083, 121.516884394264 25.1424117871824, 121.517933 25.142795, 121.518700688146 25.1430113618122, 121.519161501724 25.1431689879363, 121.519589365584 25.1433714425369, 121.519721 25.143375, 121.520005745507 25.143345, 121.520179408604 25.1433139022341, 121.520352 25.1433129022354, 121.52054603939 25.1433381836432, 121.520769548375 25.1434480343957, 121.520939620076 25.1435140171878, 121.52131106807 25.1436845288888, 121.521496154111 25.1438089196061, 121.521643192851 25.143877167935, 121.521967339711 25.14399576269, 121.522140357401 25.1440354400203, 121.522313502568 25.1440985458935, 121.522496828201 25.1441985619799, 121.522624548558 25.1443016594217, 121.52313897132 25.1447355925501, 121.52322905373 25.1448313354123, 121.523474197132 25.1450438051607, 121.523550422944 25.145159, 121.523594634416 25.1452482124205, 121.523622690449 25.1453963617013, 121.523614916013 25.1455214203949, 121.523547942513 25.1456920993717, 121.523503595027 25.1459817520313, 121.523132017226 25.1459013245722, 121.522938096687 25.1459296887597, 121.522713884779 25.1459204189387, 121.522481909829 25.1458963216838, 121.522234566096 25.1458633511717, 121.52200991759 25.1458771507053, 121.521862058768 25.1459272110978, 121.521798310118 25.1460165076343, 121.521747546614 25.1461309880809, 121.521733675831 25.1462253648327, 121.521751256984 25.1463222330775, 121.521870447098 25.146390759341, 121.522113328535 25.1463822126713, 121.52225813819 25.146456586535, 121.522384182792 25.1466186767292, 121.522405852468 25.1467534925384, 121.522418716021 25.1469116836835, 121.522395 25.147096, 121.522277365584 25.14742827271, 121.522276 25.147555, 121.522298211472 25.1476721334374, 121.52235902868 25.1478272486709, 121.522523415399 25.1483624901462, 121.522661240153 25.1488982304766, 121.522854043021 25.1498650188181, 121.522808006186 25.1500662139659, 121.52269198566 25.1502712495609, 121.522828368934 25.1503739755957, 121.522983591396 25.150437461311, 121.523351351243 25.1503292306465, 121.523641548375 25.1501535576547, 121.523723759847 25.1499943459049, 121.523775365584 25.149424538925, 121.524025379924 25.1491269033852, 121.524203408604 25.1490433643708, 121.524388788528 25.149069364374, 121.524839620076 25.1493783645006, 121.524971086582 25.1496303973983, 121.525121759847 25.1500147693983, 121.525371562715 25.1503715576554, 121.525462225812 25.1505093649798, 121.52556401434 25.1507084613665, 121.525825605736 25.1507882497515, 121.525969365584 25.1507934613867, 121.526219197132 25.150699346026, 121.526426125431 25.1506778073791, 121.526549336903 25.1506986148044, 121.526716356899 25.1509128504585, 121.526930605736 25.1510836921767, 121.527305774188 25.1512803653061, 121.52775197132 25.1512906922469, 121.527832315727 25.1513972051751, 121.527906648757 25.151642019284, 121.527829235482 25.1518067271619, 121.527383437285 25.1523005577007, 121.527335255487 25.152417363046, 121.527347225812 25.1525597886126, 121.527465422944 25.1526719236294, 121.528008620076 25.1528663464018, 121.528090205819 25.1529463278627, 121.528149620076 25.1530546732015, 121.528346620076 25.1538193465518, 121.528851713796 25.1543989148316, 121.529450211472 25.1551184623609, 121.530368240153 25.1565100205104, 121.530290186423 25.1567221853489, 121.53006120262 25.1570061440158, 121.529901 25.157336, 121.529738483486 25.1575984242911, 121.529676845889 25.1577405995344, 121.529729197132 25.1578555787261, 121.529902197132 25.1578705787261, 121.530072950511 25.1578395428635, 121.530503139771 25.1576368101404, 121.530652577056 25.1576461781634, 121.530728452125 25.1577117214741, 121.530773408604 25.1578048310466, 121.530797802868 25.1580869260674, 121.530869365584 25.1582336945937, 121.531004394264 25.1583028103933, 121.531104197132 25.1583153682836, 121.531206548375 25.1582881157679, 121.531304899619 25.1582541576789, 121.531404309509 25.1582511371663, 121.531488577056 25.1582949471491, 121.531565422944 25.1584299366393, 121.531566961577 25.1585329575927, 121.531567025162 25.1586726181266, 121.531467634416 25.1591334632651, 121.531494620076 25.1593915579151, 121.531637620076 25.1595823688285, 121.532201197132 25.1599708110555, 121.532436975211 25.1600040122795, 121.532606774188 25.1600266007468, 121.5327173619 25.1600857218729, 121.532777240153 25.1601880000067, 121.532797706597 25.1602646663158, 121.53278802868 25.1603524635388, 121.532776209544 25.1604631463557, 121.532763620076 25.1605810430968, 121.532818105162 25.160636067963, 121.532939897895 25.1606575591772, 121.533398075332 25.1606223908331, 121.533381286804 25.1606684636149, 121.533194589098 25.1606980248384, 121.532917788528 25.1607105364236, 121.532773154111 25.1606789999948, 121.532703562715 25.1605863692481, 121.5327053421 25.1604668498444, 121.53272297132 25.1603676738286, 121.53272382752 25.1602818147731, 121.53271598566 25.1601967682493, 121.532613577056 25.1600848841281, 121.532393523232 25.1600543020675, 121.532174577056 25.1600197682684, 121.531564956979 25.159591463374, 121.531450168452 25.1594174420841, 121.531385154111 25.1591375579083, 121.531496956979 25.1586845368411, 121.531511950184 25.1585332747836, 121.531468351243 25.158378884227, 121.531405241038 25.158326523392, 121.531331519695 25.1583026736569, 121.53122897132 25.1583435159617, 121.531056365584 25.1583762105705, 121.530949548375 25.1583612105697, 121.530840534035 25.1582695578838, 121.530749956979 25.1580971366751, 121.530738774188 25.1578567893614, 121.530703023386 25.157748945928, 121.530640351243 25.1577016944182, 121.530534168452 25.1576793263995, 121.53027513795 25.1578177292669, 121.530022296417 25.157908646512, 121.529772899619 25.1579239791408, 121.529674548375 25.1578878842544, 121.529604168452 25.157763578697, 121.52967855737 25.1575972693859, 121.529820322563 25.157313347143, 121.530001956979 25.1569854627843, 121.530301774188 25.1565331156678, 121.52941297132 25.1551754220411, 121.528808498806 25.154434720761, 121.528301774188 25.1538694224059, 121.528095562715 25.1530763071614, 121.52797898566 25.1529240762913, 121.527404759847 25.1527153268199, 121.527302365584 25.1525803268312, 121.527277383384 25.1523980969862, 121.527340379924 25.1522644811683, 121.527767682684 25.1517890550127, 121.527859394264 25.1516524615768, 121.527755759847 25.1513548654298, 121.527565911972 25.1513257341051, 121.527268548375 25.1513273269373, 121.526890365584 25.1511429808811, 121.526693068223 25.1509730600226, 121.526553534035 25.1507766730112, 121.526442534035 25.1507336539862, 121.526217197132 25.1507571925991, 121.525985379924 25.1508523079138, 121.525771956979 25.150836769304, 121.525522168452 25.1507535386327, 121.525448605736 25.1505989810007, 121.525349139771 25.1504249620967, 121.525191020124 25.1502362809514, 121.525065505355 25.1500182117455, 121.524911942507 25.1496451088425, 121.524755139771 25.1493959034364, 121.524378168452 25.149119327124, 121.524197802868 25.1491055390041, 121.524044802868 25.1491738661087, 121.523824817208 25.1494489625914, 121.523790422944 25.1500495199338, 121.523674788528 25.1501987504808, 121.523365774188 25.1503761927595, 121.52295897132 25.1504927503729, 121.522762363059 25.1504021231463, 121.522638731167 25.1502872306343, 121.52274697451 25.1500833553995, 121.52279398566 25.1498994423528, 121.522611774188 25.1489009854094, 121.52247274536 25.1483729620622, 121.522312397158 25.1478503109236, 121.522222745507 25.1476689999802, 121.522205942639 25.1475455758163, 121.522212956979 25.1474374788389, 121.522325182792 25.1471008848623, 121.522365 25.146928, 121.522351 25.14675, 121.522325394264 25.1466486726677, 121.522217512483 25.1464941821396, 121.522081351243 25.1464416906084, 121.521844 25.146444, 121.521702650103 25.1463536671076, 121.521664864734 25.1462323495691, 121.521693788528 25.1461155396759, 121.521731605736 25.1459844602992, 121.521834860229 25.1458672657694, 121.52200594627 25.1458132657302, 121.522223230549 25.145808287433, 121.522497121301 25.1458412422354, 121.522965037517 25.1458581812332, 121.523105716827 25.1458570178065, 121.523471365584 25.1456740440981, 121.523541591396 25.1455298672365, 121.523542774188 25.1453959026473, 121.523518351243 25.1452338405692, 121.52341299632 25.1450777233392, 121.523192591396 25.1448885048606, 121.52309897132 25.1447919649594, 121.522564913959 25.1443239024346, 121.522456720586 25.1442297311376, 121.522291494645 25.1441533904534, 121.52211502868 25.1440988503452, 121.521938562715 25.1440511952539, 121.521638207841 25.1439523448801, 121.521451333272 25.1438690346072, 121.521261562715 25.143750327575, 121.520926559085 25.1435876264537, 121.520712247231 25.1434876608165, 121.520518555454 25.1433983503448, 121.520393315301 25.1433734479858, 121.52020522926 25.1433772008789, 121.519997128879 25.1433991664926, 121.519757691777 25.1434305522759, 121.519590634416 25.1434443224156, 121.519131365584 25.1432423569685, 121.518663731167 25.1430717189394, 121.518014394264 25.1428772935827, 121.516868577056 25.1424888851225, 121.516412 25.142297, 121.516251 25.142203, 121.516133620076 25.142117114856, 121.516018663097 25.1419470168112, 121.515913903249 25.1418163780923, 121.515795254493 25.1417217561199, 121.515718634417 25.1417141986796, 121.515531648757 25.1418119187235, 121.515204 25.141984, 121.51501502868 25.1420934425728, 121.514811663097 25.1421551148583, 121.51467802868 25.1421704425705, 121.514413154111 25.1421491148577, 121.514240168452 25.142084442573, 121.514026802868 25.1419067871115, 121.513815491014 25.1418327058481, 121.513315817208 25.1416651483267, 121.51309801393 25.1416122211669, 121.512934229443 25.1415610000003, 121.512704736098 25.1415036569013, 121.512540405156 25.1415081295715, 121.512283346707 25.1415041264225, 121.5120318782 25.1414685722198, 121.51178094627 25.1413518352458, 121.511565845889 25.141286294525, 121.511358605736 25.1412197371652, 121.511106523326 25.1412209833783, 121.510927831548 25.1412521963602, 121.510754605736 25.1412316389668, 121.510521480305 25.141143966803, 121.510264874569 25.1410422295922, 121.509998595027 25.141073540813, 121.509766369214 25.1411016556062, 121.509541046651 25.1410920332023, 121.509164211472 25.1411437870043, 121.508908713379 25.1411476405406, 121.508702415866 25.1411440997797, 121.508495007981 25.1411310766703, 121.508265537666 25.14114567385, 121.508102254493 25.1411830998322, 121.507902139771 25.1413462462906, 121.507736777475 25.1415247975636, 121.507614336903 25.141566655528, 121.507404089671 25.1414742643757, 121.507137337287 25.1414279199155, 121.506942559085 25.1414588351697, 121.506827283173 25.1414284408612, 121.506509878659 25.1410625343457, 121.506261745507 25.1407076391852, 121.506258942639 25.1405905903344, 121.506431788528 25.1401554426275, 121.506501225812 25.1399805900131, 121.506476 25.1398617372817, 121.505944130407 25.1393929386918, 121.50544402868 25.139008, 121.504456869134 25.1379235044183, 121.503824750897 25.1372289869305, 121.504056859305 25.1370371670454, 121.504239283173 25.1368646295418, 121.504293279542 25.136591061867, 121.504310365584 25.1364622753731, 121.503140522977 25.1357061990543, 121.502947659975 25.135568828857, 121.502759182792 25.1354209697054, 121.502551899619 25.1351577710718, 121.502481759847 25.1349759099202, 121.502371096751 25.134480905635, 121.502322906348 25.1342912195158, 121.502297351243 25.1341161991732, 121.502271408604 25.1340092840687, 121.502223086041 25.1338813543916, 121.501986577056 25.1336166421883, 121.501805422944 25.133451498623, 121.501524394264 25.133482067919, 121.501472990403 25.1334131751758, 121.501499957175 25.1332205377134, 121.501463560532 25.1328481586832, 121.50135171317 25.1322223236259, 121.50112198566 25.1306572423739, 121.500782488059 25.1306154731298, 121.50026175187 25.1304696599926, 121.499645817208 25.1302742006922, 121.499104620076 25.1308672144463, 121.498498623707 25.1315294134461, 121.497628496815 25.1326024069516, 121.49700317553 25.1335336066675, 121.496900336903 25.13387208157, 121.496818956979 25.1340577711962, 121.49641797132 25.1346621144357, 121.497087716827 25.135853404641, 121.497204245966 25.136026374632, 121.498177861683 25.135568198889, 121.498825420761 25.1352191933774, 121.49998795599 25.1344484543196, 121.500990341579 25.133775942208, 121.501475512339 25.1334389458476, 121.501513226545 25.1334919153452, 121.501041339819 25.133822998829, 121.500021567838 25.1345003236334, 121.498805253411 25.1353102818566, 121.498226414171 25.1356254566442, 121.497097211472 25.1361473128881, 121.495981655752 25.1366316084134, 121.494622803063 25.137267343929, 121.494202297513 25.1374317032347, 121.491869450811 25.1383664031329, 121.491617605736 25.1384798535157, 121.491490591396 25.1385293120861, 121.491387591396 25.1385382293097, 121.491348 25.138591, 121.491327620076 25.1386570986887, 121.491285422944 25.1387271973509, 121.491135777818 25.1388369334196, 121.490880831548 25.1389856559644, 121.490621620076 25.1391564265618, 121.490145311854 25.1394345897141, 121.489911422944 25.1395817867844, 121.489829 25.1396855411252, 121.489741168452 25.1397971806891, 121.48966786392 25.1398910612927, 121.489616 25.140047, 121.489603804146 25.1401104184423, 121.489586 25.140203, 121.489634437285 25.1406724584766, 121.489652605736 25.14102422959, 121.489689358322 25.1411094818112, 121.489940741876 25.141365135979, 121.490127870938 25.1415563803762, 121.49026997132 25.1417929355019, 121.490310394264 25.1418603613201, 121.490314788528 25.1419690980337, 121.490303168452 25.1420439663539, 121.490406831548 25.142082966326, 121.490530903249 25.1421701623068, 121.490637620076 25.1422986385154, 121.49075401434 25.1424304256386, 121.490824211472 25.1426028681496, 121.490844774188 25.1427883662662, 121.490862577056 25.1429731832393, 121.490877577056 25.1431605574574, 121.490900379924 25.1432845231837, 121.491062379924 25.1436355402359, 121.491276197132 25.1440327354246, 121.491425562715 25.1441336377378, 121.491629860229 25.1442092581031, 121.491822595027 25.144329401093, 121.491997115201 25.1444722511539, 121.492279531854 25.1447362053583, 121.492401223631 25.1448601352247, 121.492029147033 25.1448801841503)","wkt0":"LINESTRING (121.490793316927 25.1430159417217, 121.490785061273 25.1427803235162, 121.490758208055 25.1425624433348, 121.49068262122 25.1423931807766, 121.490499621513 25.1421852035887, 121.490392208642 25.1421131767743, 121.490229100208 25.1420141398352, 121.490225121953 25.1417566434174, 121.490050078756 25.1415153525749, 121.489604514253 25.1410579790723, 121.489576666471 25.140861704091, 121.489568709962 25.1404457441428, 121.489544840435 25.1401504297262, 121.489648275052 25.1398479117783, 121.489835253013 25.1396012150398, 121.489936698503 25.1395003753535, 121.491177913904 25.1387080606348, 121.49142655481 25.1384649630426, 121.494235202482 25.1373629145542, 121.497054634953 25.1360343544177, 121.496262962309 25.1346801749811, 121.495769658752 25.1336969448635, 121.4955687569 25.133180115602, 121.495576713409 25.1326812922546, 121.495686115408 25.1322887150467, 121.496048136567 25.1314963535357, 121.496147592929 25.1313090673365, 121.49754495482 25.1317984419681, 121.497435055539 25.1320519075428, 121.497411683294 25.1322133058629, 121.497404472708 25.1323218050321, 121.497427751712 25.1324794325435, 121.497507068161 25.1326261987117, 121.496864828702 25.1336057233072, 121.496671883359 25.1338821452349, 121.496201454765 25.1345546267501, 121.496672722522 25.1338824266087, 121.496865667865 25.1336069050798, 121.497508155966 25.1326263675377, 121.497434558257 25.1324787009631, 121.497406710476 25.1323211297263, 121.49741317514 25.1322139811692, 121.497438536512 25.1320528079524, 121.497545452101 25.1317979917623, 121.497704084999 25.1316210607735, 121.497906975979 25.1314914012601, 121.498153627757 25.1314229697948, 121.498334638336 25.1313923557058, 121.498469898989 25.1314193681376, 121.498453985971 25.1316390690283, 121.497930845505 25.1322711570916, 121.497482794593 25.132830759392, 121.496982736292 25.1336384940449, 121.496962845019 25.1337441406903, 121.496942953747 25.1339314231554, 121.496908475541 25.1339962516341, 121.496522584855 25.1345677011798, 121.496470867547 25.1346409329661, 121.49719623595 25.1359578971023, 121.497304974906 25.1359783057329, 121.497983930339 25.1356817800007, 121.498477233896 25.1354416776657, 121.498812733358 25.1352387908247, 121.499583188645 25.1347153652285, 121.500719643345 25.1339518321246, 121.501447663918 25.1334464090008, 121.50146755519 25.1333251551612, 121.501570989807 25.1331390723019, 121.50174470692 25.1332423183104, 121.502089488976 25.1336264887385, 121.502322879906 25.1339230194612, 121.502458140559 25.1345052740486, 121.502499249189 25.1347093626284, 121.502577488194 25.1349686746848, 121.502806900869 25.1353264283773, 121.502934205013 25.1354644874078, 121.503113226465 25.1355893406576, 121.504121050937 25.136254422164, 121.504319963661 25.1363516630193, 121.504408811345 25.1365005254133, 121.504402180921 25.1367682371652, 121.504228463808 25.1369723219629, 121.504079942307 25.1371391910441, 121.504052094526 25.1372916539621, 121.504103811834 25.1374309112641, 121.504355767952 25.1376830145965, 121.504986984331 25.1383348793717, 121.505013506028 25.1383985050289, 121.505072114362 25.1385467623921, 121.505406025536 25.1389217326485, 121.505616313108 25.1390832579425, 121.505816404918 25.1392170930243, 121.506150316092 25.1394432278291, 121.506382269656 25.1396509022808, 121.506551774184 25.1398493464269, 121.506584910407 25.1399751044688, 121.506304526978 25.1406731169337, 121.506357417489 25.1407804143636, 121.50682737835 25.141330744861, 121.506967888682 25.1413642030293, 121.507147270353 25.1413460317839, 121.507233934321 25.1413471855138, 121.507356283454 25.1413979496208, 121.507491377288 25.1414533286224, 121.507561473145 25.1414729420128, 121.507639215823 25.1414694808265, 121.507793426709 25.1413783362183, 121.507961656766 25.1411925856035, 121.508061065436 25.1411199005034, 121.508320738726 25.1410580316044, 121.508740676634 25.141057454738, 121.508952238676 25.1410839905868, 121.509161251777 25.1410862980516, 121.509253013627 25.1410678383317, 121.509513005533 25.1410113054221, 121.50967613771 25.1410355338151, 121.509809957074 25.1410314957499, 121.509953972199 25.1410245733522, 121.510179553412 25.1409911150908, 121.510322294067 25.1409888076242, 121.510758162851 25.1411780197437, 121.511001586646 25.1411734048174, 121.511350791462 25.1411503301835, 121.511580514703 25.1412057092975, 121.511789846422 25.1413026226866, 121.511953934452 25.1413724233537, 121.512010648373 25.1413952095132, 121.512144149119 25.1414272255024, 121.512281791893 25.1414396280905, 121.512701729801 25.1414315519867, 121.512946109449 25.1414852003802, 121.513562952992 25.1416957556753, 121.513655989312 25.1417254641329, 121.514001370717 25.1418108398543, 121.514114161324 25.1418846782679, 121.514229500871 25.1419913977711, 121.514288763732 25.1420352392697, 121.514352487238 25.1420675435218, 121.514438513972 25.1420848493676, 121.514606106794 25.1420963865968, 121.514682575002 25.1420975403196, 121.514813845426 25.1420738889989, 121.514990359539 25.1420000506997, 121.515219054887 25.1418834597212, 121.51566727156 25.1416517727442, 121.515860879945 25.1416889867442, 121.51609559696 25.1419506848758, 121.516189748983 25.1420587252252, 121.5162931836 25.14213555386, 121.516506683258 25.142267602963, 121.516816987108 25.1423840461444, 121.517831442004 25.1427633860476, 121.518644332005 25.1430094761772, 121.518987787977 25.1431163151522, 121.519202613719 25.1431715352599, 121.519302070082 25.143220753161, 121.5195540262 25.1433612041353, 121.519691939022 25.1433720080498, 121.520446481291 25.1433179884681, 121.52053135072 25.1433467989146, 121.520801872025 25.1434704436704, 121.521171849693 25.1436517090567, 121.521592218585 25.1438593836387, 121.522499260609 25.1441895014668, 121.522581477869 25.144244721089, 121.522634521262 25.1443131453689, 121.522715412437 25.1443863713102, 121.522869238277 25.1444872069607, 121.523580019746 25.1451534404152, 121.523644997903 25.1454067282159, 121.523565432813 25.1458532817314, 121.523456693857 25.146010535403, 121.523139817561 25.1459436387681, 121.522066560897 25.1458556077148, 121.521859689349 25.1459276331268, 121.521764210173 25.1460604798863, 121.521751833243 25.1462909606682, 121.521834935489 25.1463725891741, 121.521958704791 25.1463853936407, 121.522126677415 25.1463597847062, 121.522330012698 25.1464334103783, 121.522425491874 25.146838350781, 121.522404274279 25.1470144114067, 121.522312331369 25.1472560942155, 121.522268128046 25.1475281868713, 121.522317635767 25.1477010454199, 121.522390129216 25.1479795392332, 121.522581671179 25.1485968146736, 121.522722538199 25.1492295524872, 121.522837466837 25.1499097719901, 121.522825089907 25.1500570190068, 121.5227172338 25.1501962633048, 121.522719001933 25.150279489706, 121.522780002518 25.1503363076972, 121.5229833378 25.1504323380448, 121.523071744445 25.1504243355187, 121.523528806797 25.1502538815886, 121.523727721747 25.1500930304784, 121.52375689594 25.1500122047162, 121.523775461335 25.1494424215863, 121.52383646192 25.1493319857843, 121.524073391727 25.1491023110063, 121.524223683022 25.1490462927022, 121.524305901202 25.1490598971499, 121.524419945773 25.1490975094384, 121.524543715075 25.1492087457133, 121.524811587208 25.149363996172, 121.524929168045 25.1494960389324, 121.524985748298 25.149694502934, 121.525058241746 25.1498857643075, 121.525347331474 25.1503587147851, 121.525452977414 25.1505127634031, 121.525586471447 25.1507204286338, 121.525714661081 25.1507820479219, 121.52601347554 25.1507964524262, 121.526131940443 25.1507484374051, 121.526232724018 25.1506988218635, 121.526444899965 25.1506700128301, 121.526547451672 25.15070522387, 121.52662524952 25.1507804474213, 121.526772004549 25.1509709068438, 121.526894005719 25.1510925446388, 121.527321893878 25.15128940555, 121.527631317134 25.151276601598, 121.527797521625 25.1513038099945, 121.527855870011 25.1514574572962, 121.527878855738 25.1516767244646, 121.527799289758 25.1517695527821, 121.527549983021 25.1520256305334, 121.527350184004 25.1523217197635, 121.52732896641 25.1524609614773, 121.527383778529 25.152601803509, 121.527472185174 25.1526706239881, 121.527712651247 25.1527506477521, 121.527915986529 25.1528146667256, 121.528055669027 25.1528962908681, 121.528152916336 25.1530595389892, 121.528352715353 25.1538405661937, 121.528805357372 25.1543655160955, 121.52953205999 25.1552425615023, 121.529590408375 25.1553513915145, 121.529807888721 25.1556874835866, 121.530298524761 25.1563881090111)","wkt1":"LINESTRING (121.530298524761 25.1563881090111, 121.530258904192 25.1564042132843, 121.529906456369 25.1559059460461, 121.529427881733 25.1551622757407, 121.528844397879 25.1544612796384, 121.528356393201 25.1539139237172, 121.528299812948 25.1538146951879, 121.528138323478 25.1531307630221, 121.528054631854 25.1529709826852, 121.527951490769 25.1528813562277, 121.527604347345 25.1527634546565, 121.527462896713 25.1527239762769, 121.527386277622 25.152670627095, 121.527274885249 25.152492974151, 121.52727960027 25.1524273545298, 121.527284904669 25.1523830746028, 121.527330286747 25.1522918472327, 121.527481756798 25.152054975848, 121.527825363956 25.1516628566667, 121.527830668355 25.1515844326793, 121.527804735739 25.1514275845532, 121.527768783704 25.1513571628799, 121.527686270835 25.1513123490667, 121.527326161103 25.1513192845389, 121.527179406073 25.151279272194, 121.526868804062 25.151121890177, 121.526733836585 25.1510066544019, 121.526576472757 25.15078952003, 121.526501621798 25.1507431055072, 121.526413804532 25.1507142964842, 121.526258798215 25.1507297679974, 121.526104381276 25.1508044580335, 121.525987095127 25.1508460710338, 121.525867451468 25.1508476715335, 121.525629932283 25.1507980560322, 121.525575120164 25.1507655125204, 121.525375910525 25.1504582159809, 121.525294576412 25.1503925952654, 121.52496157805 25.1498526901531, 121.524942128589 25.1497902701392, 121.524896157133 25.1495613964819, 121.524835451238 25.1494685664846, 121.524752348992 25.1493869400493, 121.524542530555 25.1492588984721, 121.524464732708 25.1491783389109, 121.524349214693 25.1491260551938, 121.524230160411 25.1490999133268, 121.524066902808 25.1491548645917, 121.52384234993 25.1494146823733, 121.523821132336 25.1495149814921, 121.523793431587 25.1499241797024, 121.52380521914 25.1499823316183, 121.523769267104 25.1501029033924, 121.523631942116 25.1502341450997, 121.523337842679 25.1503760567055, 121.52302429378 25.1504870250643, 121.522892862568 25.1504470124466, 121.522625285124 25.1502981653934, 121.522648860229 25.1502074699673, 121.522780291441 25.1500031382604, 121.522783238329 25.1498996385186, 121.52269836795 25.1492914423857, 121.52260878255 25.1489115850176, 121.522554559808 25.1486608358263, 121.522492085779 25.1483951478231, 121.52242489673 25.1481860114781, 121.52229051863 25.1478061506694, 121.522199754475 25.1475586002926, 121.522202111985 25.1474625676837, 121.522354171414 25.1470197496761, 121.522367137722 25.1468970407873, 121.522285803609 25.1466046730247, 121.522202111985 25.1465171759669, 121.522094845257 25.1464680922241, 121.521861451715 25.1464563548044, 121.521764793784 25.1464211425386, 121.521708213531 25.1463528520547, 121.521683459671 25.1462706900156, 121.52168110216 25.1462023994476, 121.521738861168 25.1459751196255, 121.521794262665 25.1459057618491, 121.52188502682 25.1458481415125, 121.522028834962 25.1458054597642, 121.522164391817 25.1457937222808, 121.522652396495 25.1458449403819, 121.522898756344 25.1458353369896, 121.523373595992 25.1457090635801, 121.523556595699 25.1454677805501, 121.523564552208 25.1453393361555, 121.523544660936 25.1452264970431, 121.523498247967 25.1451364657615, 121.523068596481 25.1447211205896, 121.522788461061 25.1445089458849, 121.522626678711 25.1443768992064, 121.522536504943 25.1442640592043, 121.522415831223 25.1442004366039, 121.521888049461 25.1439987647459, 121.521622832494 25.1439255385721, 121.521470332739 25.1438547132147, 121.521227659215 25.1437274675541, 121.521052616017 25.1436338338701, 121.520678660095 25.1434489671549, 121.520544725527 25.143396148042, 121.520406812704 25.1433709389118, 121.520264921628 25.1433601349973, 121.519714596423 25.1434165554292, 121.5195766836 25.1434105532568, 121.519428162099 25.1433565336923, 121.519212010272 25.1432592984158, 121.517595512863 25.1427431098489, 121.516456405993 25.1423181529719, 121.516274732371 25.1422113132984, 121.516144776058 25.1420984712945, 121.515907406873 25.1418067622266, 121.515806624426 25.1417308337232, 121.5157499343 25.1417137272949, 121.515700869161 25.1417182289868, 121.515563619381 25.1417692481498, 121.51521751124 25.141938511573, 121.514896367367 25.1421066258868, 121.514785488465 25.1421348920913, 121.514702010672 25.1421475830381, 121.514515300798 25.1421481598993, 121.514279523823 25.1420875894596, 121.514081980953 25.1419179920688, 121.513920123246 25.1418303089716, 121.51376081448 25.1418072344618, 121.513572192901 25.1417507018946, 121.512924762074 25.1415303400049, 121.512804961882 25.1415003430677, 121.512676240399 25.1414888057822, 121.51239968038 25.141492266968, 121.512320663232 25.1414957281536, 121.512242920554 25.1414968818822, 121.512054298975 25.1414622700214, 121.511735681442 25.1413215150199, 121.511490983177 25.1412222941836, 121.51132530206 25.141187682245, 121.511194031636 25.1412003732903, 121.510891982215 25.1412349852253, 121.510793848015 25.1412246016458, 121.510679145703 25.1411934509021, 121.510370723931 25.1410775008417, 121.510185288527 25.1410226985361, 121.509787653847 25.1410826926378, 121.509573542865 25.1410850001027, 121.509443546911 25.1410930762294, 121.509218602933 25.1411253807307, 121.509069489928 25.1411323031222, 121.509003854716 25.1411406676793, 121.508792292674 25.1411070652332, 121.5085565157 25.1411082189654, 121.508500439014 25.1411106706464, 121.508369168591 25.1411614348517, 121.508134666087 25.1411591273882, 121.50797790626 25.1412525796218, 121.507858106068 25.1413956421618, 121.507705169652 25.1415052464137, 121.507618505683 25.1415329358934, 121.507516548073 25.141526013524, 121.507357239307 25.1414417913325, 121.50719410713 25.1414141018322, 121.506842353374 25.1414244853955, 121.506652457324 25.1411891244093, 121.506373348365 25.140862617976, 121.506293056747 25.1407576280894, 121.506266292874 25.1406572530583, 121.506276488635 25.140589182588, 121.506344035552 25.1404265055476, 121.506496971968 25.1399603942458, 121.506466384685 25.1398404049098, 121.506076396825 25.1394677449702, 121.505794738926 25.1392773764507, 121.505678762144 25.1391596939447, 121.505463376692 25.1390085525206, 121.505331469033 25.1389000997804, 121.504969519516 25.1384936895859, 121.504851506117 25.1383701248383, 121.504623419526 25.1380946134347, 121.50453125663 25.1379721637225, 121.50423752884 25.1377008531382, 121.504185148489 25.1376318249067, 121.504094974721 25.1375321840862, 121.503959051026 25.1373899256655, 121.503842355561 25.137327499977, 121.503775388277 25.1370964046027, 121.504004800952 25.1369643499067, 121.50417719198 25.1367794730924, 121.504270680961 25.1366936373335, 121.504273333131 25.1365939957474, 121.504256094028 25.1365399731668, 121.504207691932 25.1364421322099, 121.504069779109 25.1363178800842, 121.503772736107 25.1361396050742, 121.503036759026 25.1356365920269, 121.502763585551 25.1354235011493, 121.502682031334 25.1353208572418, 121.502499031627 25.1350567438668, 121.502262325485 25.134069314939, 121.502237129873 25.1339504627729, 121.501871130459 25.1335170715711, 121.501649674293 25.1334552441691, 121.501502478876 25.1334636478955, 121.50147860935 25.133075875347, 121.501367218224 25.1323855651317, 121.501153718566 25.1307948354336, 121.501127196869 25.1306507683246, 121.500875240751 25.1306411638446, 121.500714784487 25.1306183532016, 121.500332872056 25.1304910937469, 121.4997082861 25.1302797947368, 121.498432592493 25.1316484295682, 121.497929011778 25.1322691124152, 121.497475159245 25.132827364119, 121.496978871997 25.133635924159, 121.496956328555 25.1337511750429, 121.496940415537 25.1339300538034, 121.496900632992 25.1339960828099, 121.496518720561 25.1345579281844, 121.496452416319 25.1346383631013, 121.497185741231 25.1359637308195, 121.497079985965 25.1361801221448, 121.495455863569 25.13692473347, 121.494147017841 25.1375117757153, 121.491541261148 25.1385057794622, 121.49128665286 25.138685851739, 121.490795338431 25.1390117818846, 121.48995791586 25.1395429921358, 121.489790829171 25.1397545752363, 121.489747068372 25.1398437101348, 121.489646617446 25.1400354849989, 121.489622747919 25.1401606336915, 121.489621753355 25.140478456773, 121.489666508718 25.1409673444871, 121.489685405427 25.1410573788434, 121.490151855766 25.1415300581249, 121.490298056619 25.1417641462344, 121.490332866346 25.1419190042755, 121.490386572782 25.1420099382662, 121.490601398524 25.1421873043701, 121.490731686359 25.1423340588703, 121.490812246012 25.1424745108648, 121.490857995939 25.1427392084153, 121.490879123 25.1430050313812)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0151002600'=='0100020200' || '0151002600'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
