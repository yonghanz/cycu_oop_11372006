
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231491784</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100010820">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100010820">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100010820" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0100010820" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100010820" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0100010820',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="MeTQyizQ0sCa5I8I9nZtCTUB3LPJ0fu0KtBaAUiKUBK_9NGqA9U7b1KpM82Inj9uB8QjIGMoZIpLe_961yLnwJFBPiU1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/taipei_city.svg" width="100%" class="vipstop-city" alt="臺北市">                
 <span class="stationlist-title">108區 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0100010820" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0100010820" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">臺北市公共運輸處公車申訴服務電話02-27291181</a>                </div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">陽明山 - 二子坪</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0740 - 1540 <br>
                        [假日] 0740 - 1540
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 班表:0740 0820 0900 0940 1020 1100 1140 1220 1300 1340 1420 1500 1540<br>
[假日]<br /> 尖峰:10分至20分<br/>離峰:10分至20分<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">大都會客運陽明山站:02-2861-6206</span>
                </li>

                    <li>
                        <span class="stationlist-move-route-bus-item">備註 :</span>
                        <span class="stationlist-move-route-bus-content">台北降雨機率預報達70%、低溫及豪大雨特報及颱風期間平日停駛，假日間距20-30分(颱風警報期間停駛)</span>
                    </li>
            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 二子坪</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 陽明山</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">陽明山總站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129102120" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.15148" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.54603" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">陽明山國家公園管理處</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129201500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.15532" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54608" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">童軍站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129202000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.158318" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5468387" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">磺仔外</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129200500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.16067" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54528" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">氣象台</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129201100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.16172" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54429" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">陽明書屋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129202100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.163105" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5448478" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">竹子湖派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129200600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.16727" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5404" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">頂湖山</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129201700" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.173294" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.540701" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">游園站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129201800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.17508" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.541178" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">百拉卡公路入口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129200060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.179701" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54296" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">鞍部</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129202400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.18278" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52994" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">二子坪</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2524300020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.18604" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52552" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">百拉卡公路入口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129200020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.179585" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5428901" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">頂湖山</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129201740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.1732" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54048" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">竹子湖派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129200640" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.167226" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5402309" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">水雲澗</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129200340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.1644" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54405" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">陽明書屋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129202140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.16297" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54468" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">氣象台</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129201140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.16177" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54402" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">磺仔外</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129200530" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.160523" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5452729" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">童軍站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129202040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.158277" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5467266" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">陽明山國家公園管理處</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129201520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.1552" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54612" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">陽明山總站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1129102120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.15148" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54603" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0100010820";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 12;
        var existBackNum = 10;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0100010820',
                        url: './StopStatusRecent3OfRoute?routeid=0100010820&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0100010820',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0100010820',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0100010820');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0100010820","Name":"108區","BeginStop":"陽明山","GoDirStops":[{"UniStopId":"1129102120","Name":"陽明山總站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54603,"Latitude":25.15148,"PublicId":"1129102120"},{"UniStopId":"1129201500","Name":"陽明山國家公園管理處","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54608,"Latitude":25.15532,"PublicId":"1129201500"},{"UniStopId":"1129202000","Name":"童軍站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5468387,"Latitude":25.158318,"PublicId":"1129202000"},{"UniStopId":"1129200500","Name":"磺仔外","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54528,"Latitude":25.16067,"PublicId":"1129200500"},{"UniStopId":"1129201100","Name":"氣象台","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54429,"Latitude":25.16172,"PublicId":"1129201100"},{"UniStopId":"1129202100","Name":"陽明書屋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5448478,"Latitude":25.163105,"PublicId":"1129202100"},{"UniStopId":"1129200600","Name":"竹子湖派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5404,"Latitude":25.16727,"PublicId":"1129200600"},{"UniStopId":"1129201700","Name":"頂湖山","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.540701,"Latitude":25.173294,"PublicId":"1129201700"},{"UniStopId":"1129201800","Name":"游園站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.541178,"Latitude":25.17508,"PublicId":"1129201800"},{"UniStopId":"1129200060","Name":"百拉卡公路入口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54296,"Latitude":25.179701,"PublicId":"1129200060"},{"UniStopId":"1129202400","Name":"鞍部","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52994,"Latitude":25.18278,"PublicId":"1129202400"},{"UniStopId":"2524300020","Name":"二子坪","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52552,"Latitude":25.18604,"PublicId":"2524300020"}],"LastStop":"二子坪","BackDirStops":[{"UniStopId":"1129200020","Name":"百拉卡公路入口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5428901,"Latitude":25.179585,"PublicId":"1129200020"},{"UniStopId":"1129201740","Name":"頂湖山","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54048,"Latitude":25.1732,"PublicId":"1129201740"},{"UniStopId":"1129200640","Name":"竹子湖派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5402309,"Latitude":25.167226,"PublicId":"1129200640"},{"UniStopId":"1129200340","Name":"水雲澗","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54405,"Latitude":25.1644,"PublicId":"1129200340"},{"UniStopId":"1129202140","Name":"陽明書屋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54468,"Latitude":25.16297,"PublicId":"1129202140"},{"UniStopId":"1129201140","Name":"氣象台","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54402,"Latitude":25.16177,"PublicId":"1129201140"},{"UniStopId":"1129200530","Name":"磺仔外","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5452729,"Latitude":25.160523,"PublicId":"1129200530"},{"UniStopId":"1129202040","Name":"童軍站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5467266,"Latitude":25.158276999999998,"PublicId":"1129202040"},{"UniStopId":"1129201520","Name":"陽明山國家公園管理處","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54612,"Latitude":25.1552,"PublicId":"1129201520"},{"UniStopId":"1129102120","Name":"陽明山總站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54603,"Latitude":25.15148,"PublicId":"1129102120"}],"RouteMapUrl":"../MapOverview?nid=0100010820","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0740 - 1540","HeadwayDesc":"班表:0740 0820 0900 0940 1020 1100 1140 1220 1300 1340 1420 1500 1540","HolidayBusTimeDesc":"0740 - 1540","HolidayHeadwayDesc":"尖峰:10分至20分;離峰:10分至20分","RouteNote":"台北降雨機率預報達70%、低溫及豪大雨特報及颱風期間平日停駛，假日間距20-30分(颱風警報期間停駛)","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"大都會客運陽明山站:02-2861-6206","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.546030801371 25.1514785032926, 121.546234206764 25.1513281443506, 121.546528680758 25.1517826511221, 121.546804594927 25.1519974728853, 121.547134137843 25.1522246512703, 121.547147808849 25.1522609213222, 121.547153156522 25.1522971659794, 121.547140991545 25.1523408009281, 121.547114578017 25.1523685477577, 121.54669073277 25.1522778009484, 121.546132206764 25.1522576847124, 121.546024611837 25.1522648216532, 121.545955206764 25.1522581162399, 121.545888068921 25.1522469792974, 121.54581399999999 25.1522237054147, 121.545737 25.152196, 121.545657 25.152174, 121.545571534461 25.1521497261104, 121.545497 25.152145, 121.545427995882 25.1521560018282, 121.545107102742 25.1522650127378, 121.545050473994 25.1522810748428, 121.544223465539 25.1523749585762, 121.544133465539 25.1523839585762, 121.544044465539 25.1523939585762, 121.543942776326 25.1524118423443, 121.543867776326 25.1524388423443, 121.543799776326 25.1524708423443, 121.543738310786 25.1525084315219, 121.543699509095 25.1525424522461, 121.543674509095 25.1525964522461, 121.543653845247 25.1526600207121, 121.543651845247 25.1527170207121, 121.543657646938 25.1527724522461, 121.543682509095 25.1528164522461, 121.543707776326 25.152845431492, 121.543743806511 25.1528655210759, 121.543799362497 25.1528770776013, 121.543877027291 25.1528823186054, 121.544220095007 25.1528258800618, 121.544473728156 25.1528120498812, 121.544534370996 25.1528090328547, 121.544601120933 25.1528143776232, 121.54467426723 25.1528232407036, 121.545460251601 25.1530180830898, 121.545521328977 25.1530308300286, 121.545567345887 25.1530390085144, 121.545618293876 25.1530548715991, 121.545660578017 25.1530703239405, 121.546401 25.1534363034139, 121.546868831406 25.1536625865661, 121.546923223386 25.1536991961072, 121.547072888803 25.1538379791556, 121.547121552651 25.1538970952018, 121.547172613118 25.1539448005414, 121.547211613118 25.1539661368981, 121.547256613118 25.1539792946531, 121.547752136888 25.1540548101729, 121.547810171828 25.1540776433188, 121.547854035101 25.1541071160273, 121.54789595999 25.1541428148683, 121.547915600923 25.154174295785, 121.547914 25.154215, 121.547917985884 25.1543298851934, 121.547912120933 25.1543738213283, 121.547538526006 25.154876115938, 121.547492526006 25.154918115938, 121.547439526006 25.154955115938, 121.547376526006 25.154985115938, 121.547303526006 25.154998115938, 121.547234526006 25.155003115938, 121.547164526006 25.154997115938, 121.546827 25.1549073687433, 121.546611417253 25.1548629266898, 121.546555931079 25.1548638003178, 121.546516784781 25.1548881578139, 121.546057 25.155316, 121.546006 25.155364, 121.545963120933 25.1554112628545, 121.545938120933 25.1554662628545, 121.545932120933 25.1555252628545, 121.545937120933 25.1555852628545, 121.545952120933 25.1556522628545, 121.546173388163 25.1561136736827, 121.546494635733 25.156688298518, 121.546644641189 25.1569937608425, 121.546741 25.157224, 121.546777 25.157302, 121.546812 25.157387, 121.546839862157 25.1574628631917, 121.546853 25.157544, 121.546862 25.157627, 121.54686573277 25.1577101367935, 121.546860996391 25.1580470419003, 121.546854 25.1580930613722, 121.546802082223 25.1583340581513, 121.546755 25.158574, 121.546668689214 25.1589207838764, 121.546650956444 25.1589930998332, 121.546622163208 25.1590631422986, 121.546593978633 25.1591148827255, 121.546557473994 25.1591565044159, 121.54633 25.1593590940803, 121.546078037084 25.1598325213114, 121.545767550923 25.1602923582446, 121.545686198309 25.1604244959494, 121.545620181399 25.1604895816835, 121.545563151915 25.1605266518146, 121.545472336152 25.160561632623, 121.545361275685 25.160598747884, 121.54529226723 25.1606183163645, 121.545013863933 25.1606881932796, 121.5449562155 25.160691345342, 121.544518620292 25.1607340723354, 121.544452680758 25.1607499141426, 121.544398672303 25.1607675039625, 121.54436226723 25.1607953886995, 121.544332946316 25.1608395584557, 121.544316801691 25.1608780293464, 121.544308396618 25.1609172304803, 121.544301327697 25.1609705683591, 121.544314724315 25.1615310075045, 121.544317457084 25.1616120074592, 121.544306258775 25.1616679138117, 121.544294724315 25.1617087266013, 121.54427998309 25.1617396761351, 121.544106603382 25.1619582302386, 121.544069068921 25.1620183884942, 121.54404526723 25.1620853884845, 121.544040336152 25.162152, 121.544046978462 25.1622063589249, 121.544076594927 25.1622672301682, 121.544110327697 25.1623131366839, 121.544154327697 25.1623594532704, 121.54447524277 25.1626142997573, 121.544648777606 25.1627829988848, 121.544709510376 25.1628499554931, 121.544757113758 25.1629210703764, 121.544790389444 25.1629874802661, 121.544807802972 25.1630449118105, 121.5448222165 25.1631069116724, 121.544820767871 25.1631748898393, 121.54481551755 25.1632491413662, 121.544805465539 25.1633047679758, 121.544794931079 25.1633599782994, 121.544762068921 25.1634349131745, 121.544743801691 25.1634752081794, 121.544717068921 25.1635110932269, 121.544688129388 25.1635374099568, 121.544400136562 25.1636843293475, 121.544362662568 25.16371719267, 121.544338275685 25.1637466832346, 121.544270672303 25.1641934376731, 121.54424357724 25.1642438939876, 121.544217724315 25.164288524747, 121.543962199744 25.1646451625801, 121.543577 25.165288, 121.54353 25.165368, 121.54348 25.165442, 121.543377353062 25.1655988467034, 121.543318421983 25.1656705515549, 121.543256292596 25.1657416881096, 121.54318354209 25.1657998337687, 121.543111801691 25.165845, 121.543012996781 25.1658867922465, 121.542838141244 25.1659414562095, 121.541951343326 25.1661853926752, 121.541719249653 25.1662778062592, 121.541390879067 25.1664308901241, 121.541048130058 25.1666036393374, 121.540915863685 25.1666838965073, 121.540778365741 25.1667844471815, 121.540726206982 25.1668275746982, 121.540692939534 25.1668571630632, 121.540201430438 25.1673612773082, 121.540147781832 25.1674192307737, 121.540121317422 25.1674626427889, 121.540114663848 25.1674993352555, 121.540209 25.168287, 121.540216137843 25.1683229520722, 121.540232206764 25.1683694502994, 121.540397293876 25.168720464323, 121.540420897258 25.1687705307669, 121.540452413528 25.1688042219678, 121.540698006746 25.1690380931693, 121.540747535741 25.1690886413701, 121.540777147578 25.1691380952807, 121.540800828337 25.1691919587387, 121.540816862157 25.1692503206008, 121.540822947989 25.1693187047551, 121.540685319242 25.1700399673234, 121.540614361765 25.1711565650052, 121.540458440198 25.1722634098145, 121.540443799565 25.1723199430879, 121.54043068818 25.1723687992781, 121.540415058242 25.1726193856701, 121.540422024332 25.1726573500333, 121.540430327697 25.1726972277537, 121.540605733258 25.1731571302327, 121.540622594333 25.1731938949549, 121.540647213585 25.1732592162941, 121.540666003725 25.1733212143137, 121.540677164489 25.1733848200436, 121.540682104022 25.1734534107519, 121.540687052011 25.1735360911631, 121.540609163456 25.1742616170468, 121.540624758382 25.1743839356603, 121.540633746799 25.1744360065844, 121.540655517551 25.1744870692887, 121.54068396618 25.1745282733418, 121.540713776326 25.1745749090544, 121.540741784781 25.1746124317606, 121.541385715859 25.1753276592977, 121.541643626943 25.1755945696698, 121.541677836792 25.1756224774417, 121.541920690677 25.1757979789129, 121.541966097556 25.17582098532, 121.542037265895 25.1758412454844, 121.54208725032 25.1758527729843, 121.542172298424 25.1758562149932, 121.542258283751 25.1758478985707, 121.542337760878 25.1758341701321, 121.542420601934 25.175811004147, 121.542745865572 25.1756789649972, 121.542832330295 25.1756526384916, 121.542918344058 25.1756323387909, 121.543030432288 25.1756127341001, 121.543156113696 25.1756020913695, 121.543306329564 25.1756004611745, 121.543468254158 25.1755985952514, 121.543651458696 25.1756060517662, 121.543851053273 25.1756334611792, 121.544011407134 25.1756950421239, 121.544129050499 25.17575877961, 121.544200027172 25.1758199983944, 121.544296859492 25.1759178114689, 121.544356326433 25.1759932268135, 121.544397294312 25.1760800080802, 121.544429420239 25.1761711810825, 121.544452090479 25.1762926148546, 121.5444430185 25.1764308818078, 121.544410983046 25.1765459699638, 121.544376958226 25.1766275927679, 121.54433120194 25.1767223678877, 121.544314672303 25.1767572257163, 121.544268206764 25.1768909976528, 121.54425101691 25.1769697707797, 121.544238611837 25.1770420662535, 121.544243336152 25.1771099528229, 121.544258327697 25.177187248305, 121.544280120933 25.1772611349037, 121.544313991545 25.1773334548111, 121.544462517551 25.1775343644997, 121.545000682256 25.1782628280196, 121.545046216717 25.1783332368259, 121.545080483947 25.1783985324058, 121.545101483947 25.1784669873207, 121.545109483947 25.1785377147817, 121.545098759369 25.1785966425743, 121.545079634426 25.1786619725696, 121.545043699167 25.1787181883696, 121.544988242082 25.1787760751332, 121.544928043773 25.1788283937789, 121.544854695414 25.1788601039605, 121.544796862375 25.1788653729655, 121.544705526418 25.1788624104222, 121.544523008455 25.1788630900698, 121.544469519791 25.1788677805084, 121.544424722248 25.1788861161183, 121.54438373277 25.1789138175384, 121.544239956444 25.1791074939522, 121.544191085832 25.1791875838927, 121.544155146298 25.1792396069245, 121.544113810146 25.1792833805814, 121.544067319242 25.1793287043687, 121.544019254148 25.1793643944132, 121.543907573287 25.1794134719506, 121.543848362798 25.1794308869065, 121.542660762734 25.1797548562855, 121.542605215219 25.1797900898751, 121.542579672303 25.1798179536352, 121.542573327697 25.1798515449309, 121.542567189854 25.1798959768105, 121.542580258775 25.1799401362304, 121.542620724315 25.1799755681148, 121.542680120933 25.1799942724578, 121.543686853702 25.1797086376509, 121.543749853702 25.1797006376509, 121.543796853702 25.1797126376509, 121.543827853702 25.1797426376509, 121.543837189854 25.1797854782369, 121.543830189854 25.179821910118, 121.543809655393 25.1798631825807, 121.543776655393 25.179893455041, 121.543212620292 25.1800419535947, 121.543080706124 25.1800866579259, 121.542982309506 25.1801280665959, 121.54286951627 25.180189428835, 121.542585808865 25.1804205585643, 121.54253224904 25.1804614920524, 121.5424676567 25.1804918681636, 121.542398669139 25.1805156961553, 121.542330025365 25.1805315648592, 121.542005616048 25.180567921974, 121.541954947989 25.1805908605044, 121.541923870612 25.1806380864033, 121.541899396618 25.1806950631124, 121.541844258775 25.180907089646, 121.541826060466 25.1809757939366, 121.541800060466 25.1810383387347, 121.541770614601 25.1810767181075, 121.541721866546 25.1811042717592, 121.541679413528 25.181121973115, 121.541617635398 25.1811238151358, 121.540969579545 25.1810234567046, 121.540863780011 25.1810244808014, 121.540780102742 25.1810350430406, 121.540698052326 25.1810622527433, 121.540614361764 25.1811112703365, 121.540563396618 25.1811521791923, 121.540498388163 25.1812347938742, 121.540414950284 25.1813622863119, 121.540384388163 25.1813984319037, 121.540327048886 25.1814216731689, 121.539772129388 25.1815329766622, 121.539704760298 25.1815416104842, 121.539635346906 25.1815315204125, 121.539576432738 25.1815111351812, 121.539528405073 25.1814885447704, 121.539504557286 25.1814552801485, 121.539479397637 25.1814201856455, 121.539382719024 25.1811451660493, 121.539268659176 25.1808413712158, 121.539229371885 25.1807903922389, 121.539186490905 25.1807452292826, 121.539100413409 25.1806684668009, 121.539040092117 25.1806392143337, 121.538969618314 25.180611734531, 121.53890228286 25.1805873920621, 121.538635532972 25.1804642733082, 121.538148870563 25.180239613597, 121.538076014487 25.1802227714186, 121.538019722745 25.1802095539005, 121.537688416637 25.1800793690778, 121.537640142468 25.1800483770841, 121.537443310638 25.1799274003456, 121.537392756265 25.1799117925305, 121.537349680758 25.1799117507312, 121.537297238158 25.1799273415357, 121.537027114451 25.1800388943078, 121.536690912888 25.1802127910655, 121.53637749589 25.1804358266337, 121.536055853702 25.1807276345231, 121.535547743277 25.1812382863705, 121.535498835537 25.1812755906582, 121.53545023341 25.1813035447802, 121.53414509875 25.1818586747037, 121.534092346526 25.1818712063985, 121.534041672303 25.1818823851722, 121.532646951137 25.1818077439641, 121.532599268807 25.1817978906891, 121.532337696676 25.1817221153815, 121.53228984655 25.1817216182611, 121.532237060466 25.1817283618451, 121.531678284141 25.1819154085378, 121.530771603382 25.1821727042592, 121.53058436791 25.1822503137917, 121.530319977211 25.1824065140554, 121.530278459057 25.1824394715354, 121.530244421983 25.1824695403216, 121.529961008455 25.1827882488642, 121.52973852409 25.1830249358158, 121.529702862914 25.1830479123116, 121.529659741225 25.1830780422476, 121.529609534461 25.1831060891873, 121.529567189854 25.1831301361429, 121.529533638483 25.1831421831103, 121.528797870612 25.1833710656382, 121.528619435456 25.1834527622813, 121.52857327012 25.1834846691531, 121.528543266614 25.1835151091509, 121.528510614557 25.183551945279, 121.528489879399 25.1835924928922, 121.528479775831 25.1836311809857, 121.528468837761 25.1836762169359, 121.528467526006 25.1837252621844, 121.528467104022 25.1837750235405, 121.528480776839 25.1840825158333, 121.528480029571 25.1841185783004, 121.528474060466 25.184155929283, 121.528336691691 25.1844634433535, 121.528332181399 25.1844982722254, 121.52828224009 25.1849028771545, 121.528271845247 25.1849544377468, 121.528243465681 25.184992889539, 121.528208717792 25.1850335458317, 121.52727942183 25.1856793933338, 121.527222784781 25.1857021360819, 121.526675870612 25.185822136077, 121.526090603382 25.1861149762538, 121.525888628747 25.1861933131779, 121.525819711186 25.1862217101674, 121.525716131252 25.1862431509076, 121.525426840261 25.1862631856593, 121.525312870612 25.1862652073627, 121.525276405073 25.1861082894738, 121.525768697137 25.1859889280979, 121.525951698949 25.1859200712031, 121.525975465539 25.1859261789732, 121.526077344607 25.1860789114254, 121.526657741225 25.1857813670489, 121.527211784781 25.1856569587615, 121.527270704307 25.1856330706859, 121.528192137843 25.1849922070518, 121.528212929303 25.1849593269851, 121.528230665675 25.1849199572682, 121.528242386387 25.1848668119714, 121.528278931079 25.1844871597176, 121.528289171168 25.1844497095123, 121.528429206764 25.1841403847959, 121.528433907627 25.1841038160374, 121.528432584106 25.1840665609586, 121.528409655393 25.1837835680657, 121.528406999505 25.1837299692038, 121.528414745819 25.1836791467536, 121.528428137843 25.1836314739671, 121.528442760319 25.1835776791378, 121.528472960663 25.1835301820761, 121.528505487863 25.1834922508676, 121.528548474402 25.1834558451868, 121.528608118465 25.183415373746, 121.528793534461 25.1833340235029, 121.529525905713 25.1831016854765, 121.529558189854 25.1830905023626, 121.529591137843 25.1830745915523, 121.529655008455 25.1830388403768, 121.529711579128 25.182998811978, 121.52994148245 25.1827631596062, 121.530219628747 25.18244061058, 121.530260549142 25.1824023292229, 121.53030368301 25.1823710707931, 121.530563518027 25.182217240493, 121.530743611837 25.1821424787011, 121.531682353062 25.1818848871909, 121.532231 25.181695, 121.532286372325 25.1816875840625, 121.53234466181 25.1816889155915, 121.532605500393 25.1817667343751, 121.532657299288 25.1817757682767, 121.534046008455 25.1818397510042, 121.534092216762 25.1818294580215, 121.534137834778 25.1818197938569, 121.535428112477 25.181266887118, 121.535485363569 25.1812335820754, 121.53553088182 25.1811997054, 121.536030465539 25.1806986810545, 121.536350189195 25.1804079460749, 121.536650662568 25.1801896780779, 121.53699814949 25.1800085020712, 121.537302537556 25.1798836823049, 121.537349413528 25.1798706840662, 121.537397268752 25.1798779185148, 121.537446709157 25.1798890037342, 121.53766756565 25.1800238365665, 121.537709246037 25.1800495812874, 121.538032199696 25.1801872621733, 121.538080394657 25.1801975870814, 121.538154568206 25.1802151468752, 121.538645877851 25.1804376780137, 121.538914610556 25.1805607342341, 121.538977338665 25.1805771165621, 121.539054058404 25.1806055971924, 121.539124179856 25.1806392713215, 121.53921548245 25.1807122990751, 121.53925760312 25.1807568792205, 121.539295785183 25.1808090687695, 121.539425088777 25.1811005260867, 121.539516128867 25.1813988488338, 121.539540044575 25.1814358666047, 121.539567248676 25.1814590712624, 121.539607832993 25.1814818932024, 121.539673467839 25.1814923180414, 121.539742778625 25.1814954542314, 121.54031663631 25.181384695016, 121.540364588192 25.1813588840136, 121.540393597395 25.1813225854271, 121.540472705766 25.1811929727485, 121.540536232001 25.1811158277722, 121.540591390956 25.1810686113481, 121.540675008703 25.1810234567048, 121.540772043804 25.1809936627801, 121.54086260692 25.1809812761345, 121.540965664369 25.1809799264671, 121.541619368168 25.1810830445331, 121.541676305238 25.1810789503391, 121.541717468827 25.1810588779132, 121.541753532555 25.1810288628514, 121.541779750297 25.1809697599599, 121.541799018389 25.1809044844468, 121.54186022315 25.180686314495, 121.541885781201 25.1806262741554, 121.541922122074 25.180570492735, 121.541982637666 25.1805330387175, 121.542331536498 25.1804918692612, 121.542392039319 25.1804761736617, 121.542459485349 25.1804544540337, 121.542515210082 25.180426008709, 121.542567193172 25.1803868059815, 121.542844947546 25.1801579816861, 121.542933712986 25.1801068268501, 121.543050623788 25.1800570762068, 121.543197545562 25.1800056697724, 121.543766600274 25.1798537355199, 121.543786014763 25.1798267255722, 121.543802276081 25.1797973539336, 121.543804525042 25.1797639041521, 121.543786114932 25.1797387266313, 121.543746912635 25.1797378361721, 121.543694908511 25.1797462085356, 121.542666270157 25.180033420607, 121.542610047212 25.180022021611, 121.542562632937 25.1799897562959, 121.542543398884 25.1799570996602, 121.542532537779 25.1799163722763, 121.542525857227 25.1798818624603, 121.542527852872 25.1798378883931, 121.542548301029 25.1797996925914, 121.542588372474 25.1797569526362, 121.542644645819 25.1797272518454, 121.543845564667 25.1793813647646, 121.5439137969 25.1793601761569, 121.54400885753 25.1793173507297, 121.544054967741 25.1792822446414, 121.544095891542 25.1792361288606, 121.54415509245 25.1791566198867, 121.544198383617 25.179081328953, 121.54436234254 25.1788782754748, 121.544403143387 25.1788426671665, 121.544466983907 25.178819868229, 121.544518743771 25.178814282494, 121.544715319272 25.178819161993, 121.544791697901 25.1788188276432, 121.544855208597 25.1788151113249, 121.544911105917 25.1787923790535, 121.544957524849 25.1787488848429, 121.545012728011 25.1786952558331, 121.545042592135 25.1786405228351, 121.545058438236 25.178594103534, 121.54506890174 25.1785318000388, 121.545062339425 25.1784658442391, 121.545045057961 25.1784034314205, 121.545012463336 25.1783460239056, 121.544964586622 25.1782808073371, 121.544421256709 25.1775610402192, 121.544279948418 25.1773531597233, 121.544238242449 25.1772701333955, 121.544216157675 25.1771985850673, 121.544201019131 25.177115660084, 121.544200497089 25.1770400118789, 121.544210768627 25.1769709694804, 121.544228919277 25.1768804630927, 121.544276801539 25.176748525334, 121.544298230063 25.1767016933556, 121.544332067034 25.1766217971893, 121.544361679666 25.176521922445, 121.544379328668 25.1764473162849, 121.544380882024 25.1763354852408, 121.544375843002 25.1762410552891, 121.544351302227 25.1761345767196, 121.544311061627 25.1760407908282, 121.544245568564 25.1759475089733, 121.544180588483 25.1758747989341, 121.544105108294 25.1758157991507, 121.544008249075 25.1757588619916, 121.543841043815 25.1756857968051, 121.543626989177 25.1756495750062, 121.543461275722 25.1756445618204, 121.543308609217 25.1756459167418, 121.543145486389 25.1756477023901, 121.543013376128 25.1756616711788, 121.542922462357 25.1756808697889, 121.542833662643 25.175703324639, 121.542733426301 25.1757328816809, 121.542429226532 25.1758551595006, 121.542344063267 25.1758797826938, 121.542256047334 25.17588885246, 121.542175643708 25.1758924223197, 121.542082517547 25.1758894214788, 121.54202981919 25.1758781226793, 121.541953636985 25.1758569468697, 121.541896414802 25.1758347116432, 121.541645811755 25.1756525613645, 121.541614169859 25.1756306375971, 121.541348814235 25.1753611845734, 121.540711506645 25.1746489465444, 121.540680245116 25.1745984916472, 121.540647976853 25.1745473013511, 121.54062335694 25.1744994740675, 121.540599537707 25.1744517529242, 121.540585810234 25.1744034346645, 121.540574735667 25.1743341097384, 121.540570462125 25.1742682187142, 121.540651947238 25.1735372265603, 121.540648497888 25.1734527989588, 121.540640348612 25.1733836487523, 121.540629956691 25.1733332461385, 121.540615845476 25.1732690836688, 121.540598779932 25.1732203553799, 121.540576634992 25.1731781544569, 121.540399997183 25.1727179394051, 121.54039379313 25.17267698615, 121.540389789565 25.1726302144601, 121.54039691937 25.1723595781681, 121.540411637167 25.1723104026546, 121.540423757102 25.1722668654252, 121.540577591834 25.1711640565467, 121.540640205702 25.1700448718566, 121.54078846686 25.1693177920482, 121.540783986541 25.1692552935402, 121.540770304584 25.1692027514219, 121.540751205326 25.1691505069455, 121.540714335963 25.169108217453, 121.540669810394 25.1690613942981, 121.540431792913 25.1688501007578, 121.540395604402 25.1688126707321, 121.540361377394 25.1687383333357, 121.540191565967 25.168379201454, 121.540173732257 25.1683307718822, 121.540164909088 25.1682927066395, 121.540081136344 25.1674960343619, 121.540086646745 25.1674566124494, 121.540114413307 25.1674060308384, 121.540157130102 25.1673521354763, 121.540660131365 25.1668317954486, 121.540698922111 25.1667916675611, 121.540753984192 25.1667461338796, 121.540889444118 25.1666466515663, 121.541018994591 25.1665699181116, 121.541382837268 25.1663810888462, 121.54170165337 25.1662286816911, 121.541946861633 25.1661365636049, 121.54281582698 25.1659058279064, 121.543005072623 25.1658555776567, 121.543098721694 25.1658146706443, 121.543170197014 25.1657695825749, 121.543239132997 25.1657073948687, 121.543299707685 25.1656414418075, 121.543346939519 25.1655719769482, 121.543440718417 25.1654283837195, 121.543480871699 25.1653581029523, 121.54353697533 25.1652713609608, 121.543923188098 25.1646159546975, 121.544169474943 25.1642629189779, 121.544199555485 25.1642198005332, 121.544225453737 25.1641589305528, 121.544308626681 25.1637292106448, 121.544339816535 25.1636884342241, 121.544381231864 25.1636545811995, 121.544660649596 25.1635162145996, 121.544701965394 25.1634735736303, 121.544725873433 25.1634273270657, 121.544763324042 25.1633509136652, 121.544776681033 25.1632939531304, 121.544783941966 25.1632440499282, 121.544786871107 25.1631881378034, 121.544786247223 25.1631217005542, 121.544776299633 25.1630638569441, 121.544756420203 25.1629984263518, 121.544729439935 25.1629448139882, 121.544686317273 25.1628798321023, 121.544620396912 25.1628099393704, 121.544450500259 25.16264589556, 121.544127782925 25.1623960509203, 121.544074889515 25.1623418936723, 121.544041026459 25.1622928861817, 121.544012323069 25.1622408624695, 121.543998460912 25.162193812178, 121.543995940238 25.1621402573611, 121.544004692536 25.1620751995565, 121.544033116305 25.1620087475234, 121.544070778862 25.1619379302402, 121.544242361319 25.1617192460903, 121.544258670586 25.1616825316342, 121.544267305081 25.161652320912, 121.544276059112 25.1616057674627, 121.544276510163 25.1615306302391, 121.5442618419 25.1609579513657, 121.544263375201 25.1609077048965, 121.544271930375 25.1608654616093, 121.544295973078 25.1608136580717, 121.544345748278 25.1607558399309, 121.544390066855 25.1607242656164, 121.544447723956 25.1607075311385, 121.544526201937 25.1606942417616, 121.545000523053 25.1606446147511, 121.545295687889 25.1605742992871, 121.545364159269 25.1605546179897, 121.545469479526 25.1605205924215, 121.545545545775 25.1604870898127, 121.545595612264 25.1604516553067, 121.545646620223 25.1603989953773, 121.546047410625 25.1597988717126, 121.546301311791 25.1593393938912, 121.546336030623 25.1592982369843, 121.546554466482 25.1590953049926, 121.546586092709 25.1590512996536, 121.546606682866 25.1589825790723, 121.546625339717 25.1589096570121, 121.546692917734 25.1585677484794, 121.546759339688 25.1583153850047, 121.546812424563 25.158082910407, 121.546817256997 25.1580284506572, 121.546825694187 25.1577064804898, 121.546824748567 25.1576265734004, 121.546822395216 25.15755148514, 121.54680579791 25.1574696722312, 121.546781364862 25.1574006224401, 121.546748390997 25.1573147744575, 121.546712612402 25.1572350345415, 121.546609747098 25.1570238369232, 121.54645726106 25.1567107606294, 121.546120895387 25.1561276620865, 121.545915329925 25.1556668206895, 121.545897454389 25.1556105339582, 121.545891184477 25.1555647997552, 121.54589023963 25.155509662872, 121.545900376219 25.1554560527026, 121.545923798764 25.1554053612014, 121.545970374203 25.1553428619026, 121.54602718804 25.1552863722598, 121.546497114762 25.1548490392, 121.546535162657 25.1548232670747, 121.546582880822 25.1548138924353, 121.546643519074 25.1548223928275, 121.547187845686 25.1549566284794, 121.54723250729 25.1549612525379, 121.547292848938 25.1549636255192, 121.547364206638 25.1549519801988, 121.547421911786 25.1549226226005, 121.547471307875 25.1548836312382, 121.547518366929 25.15483920823, 121.547872458341 25.1543581979274, 121.547880076317 25.1543256046679, 121.547876321108 25.1542125866678, 121.547865683415 25.1541834476278, 121.54783629019 25.1541471920212, 121.547791788549 25.1541204868989, 121.547742367405 25.1541080083547, 121.547265112446 25.1540319409818, 121.547200153651 25.1540126003291, 121.547156478619 25.1539891541319, 121.5471025254 25.1539464887687, 121.547036006127 25.1538718985561, 121.546896955506 25.1537351929071, 121.54685061425 25.1537029957106, 121.545649142469 25.1531123904026, 121.545606115092 25.1530988537315, 121.545557631549 25.1530839599083, 121.545497306668 25.1530704178043, 121.545436718645 25.1530608211388, 121.544676838774 25.1528710007763, 121.544600822267 25.1528625722271, 121.544535179083 25.1528555716924, 121.544475573999 25.1528491948314, 121.544230353533 25.1528671223486, 121.543895068797 25.152917625189, 121.543819213814 25.1529202160577, 121.543740652677 25.1529058587943, 121.543690439013 25.1528794642883, 121.543649604063 25.1528469697334, 121.543621662821 25.1527974181145, 121.543605855829 25.1527323033154, 121.54360634101 25.152679933431, 121.543613431626 25.1526300572279, 121.543638354947 25.1525611818223, 121.543678694228 25.1525099426482, 121.543724683305 25.1524696959027, 121.54379395372 25.1524330511431, 121.543857265807 25.1524036890728, 121.543934348434 25.1523818616419, 121.544047929197 25.1523554846432, 121.544137924814 25.1523426702216, 121.544229230767 25.1523328061625, 121.545031904916 25.1522422521516, 121.545098166072 25.1522198554236, 121.545430354033 25.1521233270594, 121.545503418238 25.1521139995925, 121.5455766272 25.1521164644008, 121.545674049174 25.1521309062674, 121.545754252333 25.1521559848396, 121.545823660799 25.1521791995347, 121.545896783813 25.1522041745177, 121.545960990394 25.1522172059589, 121.546033781325 25.1522176698672, 121.546124702364 25.1522159819022, 121.546707410967 25.1522428850197, 121.547098385835 25.1523191229047, 121.547108973267 25.152296740796, 121.547109731978 25.1522645003869, 121.547097485444 25.1522327576763, 121.546788522083 25.1520435895436, 121.54651097692 25.1518030950306, 121.546309809241 25.1518765044618, 121.546267856568 25.1518743625942, 121.546228780203 25.1518723921185, 121.546175154767 25.151852327903, 121.546138954345 25.1518329252916, 121.545838662291 25.1515395906228, 121.54602475684 25.1514824882213)","wkt0":"LINESTRING (121.546019660469 25.1514546421838, 121.546203670498 25.151362160134, 121.546310656834 25.151355557218, 121.546512471968 25.1517220185158, 121.546615811043 25.151838669629, 121.547052266664 25.1521622108121, 121.547336753058 25.1523338853772, 121.547415777056 25.1524637416186, 121.54712399614 25.1523944116086, 121.546848020022 25.1523008710565, 121.546595143228 25.1522700576825, 121.546161119114 25.1522579524263, 121.545973893026 25.1522887658034, 121.545657797033 25.1521710146418, 121.545429235315 25.1521567084182, 121.545132591383 25.1522700576825, 121.544846889235 25.1523151772633, 121.544053001991 25.1523900097019, 121.543822008765 25.1524505359054, 121.543695570368 25.152548478244, 121.543672471045 25.1526717314122, 121.543738121751 25.1527784773591, 121.543840245072 25.1528257976974, 121.544028686914 25.15280378824, 121.544365450722 25.1527828792518, 121.544925913233 25.1528555104586, 121.545446255868 25.1530095765118, 121.54567603334 25.1530634995844, 121.546095468408 25.1532868949173, 121.546483293876 25.1534772758387, 121.546759269994 25.1535851215468, 121.54697532488 25.1537366752254, 121.547173842046 25.1539592793869, 121.547289338659 25.1539966951078, 121.547742814834 25.1540605218993, 121.547853448431 25.1540968371279, 121.54793247243 25.1542872167855, 121.547889921046 25.1544148700313, 121.547718499757 25.1546239569556, 121.547497232562 25.1549155775937, 121.547357420873 25.1549805043579, 121.546998773496 25.154945289846, 121.54661824255 25.1548605548851, 121.54655745486 25.1548693585202, 121.546494235661 25.1549122762319, 121.546040759486 25.1553315484675, 121.545938636165 25.155509821265, 121.545960519734 25.1556264687569, 121.546068721824 25.1559048816596, 121.546214612282 25.1562251107343, 121.546503961691 25.1567093043026, 121.54675805424 25.1572463167398, 121.546837078238 25.1575016169055, 121.546848020022 25.1577723225321, 121.546856530299 25.1580804420265, 121.546778722055 25.1584402805937, 121.546648636396 25.1590444108472, 121.546602437751 25.1591423478924, 121.546424937693 25.1592743977166, 121.546387249325 25.159306309736, 121.546332540403 25.159358029198, 121.546245006128 25.1595318944626, 121.546096684162 25.1598058968132, 121.545910673827 25.1600611916223, 121.545773293646 25.1602944777909, 121.54566630731 25.160452936066, 121.545604303865 25.1605057554454, 121.545509475067 25.1605431691585, 121.545133807136 25.1606554102292, 121.544839594712 25.1607104303242, 121.544725313853 25.1607148319307, 121.544592796687 25.1607159323323, 121.544463926782 25.1607445427706, 121.544360587707 25.1607863580145, 121.544324115093 25.1608336752468, 121.544304663031 25.1610878675065, 121.544314389062 25.1616600732522, 121.54428521097 25.1617470042749, 121.544161204081 25.1618768504971, 121.544070022544 25.1619868895603, 121.544035981437 25.1621024304697, 121.544067591037 25.1622520832946, 121.544130810235 25.1623555196985, 121.544256032879 25.1624468517695, 121.544440827459 25.1625755968619, 121.544586717918 25.1627230483392, 121.54475935496 25.1629475263653, 121.544822574159 25.1631125834739, 121.54481041662 25.1632413278635, 121.544731392622 25.1634669053125, 121.544613464502 25.1635769429411, 121.544382471276 25.1636968838432, 121.544345998661 25.163750802192, 121.544308310293 25.163888348892, 121.544270621924 25.1641480366389, 121.544231717802 25.1642382669977, 121.544115005436 25.1644055230961, 121.543898601256 25.1646949196193, 121.543740553259 25.1650118245299, 121.54360074157 25.1652638073607, 121.543349080529 25.1656544347373, 121.543214131855 25.1658139864045, 121.542923566692 25.1659482297144, 121.542419028857 25.1660593654576, 121.541728480687 25.1662662317197, 121.541574079952 25.1663498584069, 121.541197196268 25.1665380182434, 121.540893257813 25.1667008697974, 121.540707247479 25.1668516173258, 121.540392367239 25.1671795200652, 121.540117606876 25.1674700103461, 121.540150432229 25.1679035437965, 121.540210004166 25.1682116376973, 121.540284165149 25.168497724194, 121.540413035054 25.1687485994925, 121.540595398127 25.1689587621741, 121.540754661878 25.16909080137, 121.540802076277 25.1691898306731, 121.540817881076 25.1693273712384, 121.540775329693 25.1695265297019, 121.540696305694 25.1698731306722, 121.540654970065 25.1701647148523, 121.540633086496 25.1704584989625, 121.540599045389 25.1711076823135, 121.540565004282 25.171548904957, 121.540506648098 25.1719285091954, 121.540409387793 25.1725578794151, 121.540430055608 25.1727119205824, 121.540516374129 25.1729396810944, 121.540648891295 25.1732708683261, 121.540681716649 25.1734667194883, 121.540681716649 25.1736966791591, 121.540639165265 25.1741312907495, 121.540622144711 25.1743227394141, 121.540680500895 25.1745394941485, 121.540758309139 25.1746506220609, 121.541180175715 25.1751127370455, 121.541529097061 25.1754879291134, 121.541794131394 25.1757321884314, 121.542048223942 25.1758532176419, 121.542324200059 25.1758510171118, 121.542494405594 25.1757783995987, 121.54284332694 25.1756221617722, 121.543058515366 25.1755869532202, 121.543717453937 25.1756078582992, 121.543943584147 25.1756727740477, 121.544179440388 25.175807006503, 121.544339919892 25.1760204578076, 121.544406786352 25.176186597482, 121.544421375398 25.1763527369299, 121.544416512383 25.1764847681177, 121.544347214415 25.1766322027751, 121.544273053432 25.1768390510983, 121.544237796571 25.1770580018664, 121.544248738356 25.1771834307725, 121.544314389062 25.1773132605569, 121.544523498719 25.1775894234519, 121.544891872126 25.1780878353798, 121.545079098215 25.1783694977312, 121.545094903014 25.1785312332404, 121.545079098215 25.1786533599113, 121.544987916678 25.1787743862211, 121.544902813911 25.1788448014734, 121.5447082933 25.1788492024253, 121.544502830904 25.1788503026632, 121.544377608261 25.1788943121732, 121.544153909558 25.1792232827572, 121.544035981437 25.1793366068664, 121.543628703908 25.1794686348219, 121.542821443371 25.1797084852418, 121.542647590575 25.1797656971989, 121.542590450146 25.1798207086707, 121.542591665899 25.1799307315399, 121.542654885098 25.1799769411153, 121.542786186511 25.1799670390649, 121.543104714011 25.1798779205751, 121.54360074157 25.1797271891538, 121.543926563594 25.1796831799446, 121.54386820741 25.1798141072954, 121.543819577257 25.179874619889, 121.543373395606 25.1799923443032, 121.543084046196 25.1800913647505, 121.542862779001 25.1801793828583, 121.542517504916 25.180451138365, 121.54237526172 25.1805072497504, 121.542059165726 25.1805435571037, 121.541987436251 25.1805666617774, 121.541915706776 25.1806238733316, 121.541831819762 25.1808406168605, 121.541774679333 25.1810221530221, 121.541734559457 25.1811013687169, 121.541636083397 25.1811244732849, 121.541073189379 25.1810265538954, 121.540815449569 25.1810232532404, 121.540622144711 25.1811002684993, 121.54048476453 25.1812201921626, 121.540374130932 25.1814061286184, 121.539679935501 25.1815403547592, 121.539535260797 25.1814743419215, 121.53948541489 25.1814226318404, 121.539448942275 25.181340115708, 121.539250774403 25.1808373162005, 121.539179044927 25.1807261939288, 121.539061116807 25.1806502786552, 121.538811887274 25.1805644613325, 121.538483633742 25.1803796238167, 121.538233188456 25.1802574988757, 121.537987606184 25.1801914853431, 121.537508599179 25.1799615379254, 121.537396749828 25.1799230299422, 121.537241133339 25.1799494354177, 121.536616235875 25.1802607995514, 121.535834506169 25.1808824252126, 121.535523273191 25.1812564993035, 121.534643067426 25.1816404741614, 121.534125156299 25.1818814205175, 121.534047651992 25.1818955857279, 121.533868176335 25.1818724813062, 121.533648124893 25.181853227618, 121.533091309644 25.181820771394, 121.532768527005 25.1818048183315, 121.532620812916 25.1818097692822, 121.532377054275 25.1817613599784, 121.53223237957 25.1817619100842, 121.532087704866 25.1817883151613, 121.531956403453 25.1818741316222, 121.531798355457 25.1819104385682, 121.531668269798 25.1819582977078, 121.531151574425 25.1820914230317, 121.530696882496 25.1822036442662, 121.530327293335 25.1824049821044, 121.530078063802 25.1826932356979, 121.529793577408 25.1829924906156, 121.52961607735 25.1831223142116, 121.529171111452 25.1832521376693, 121.528852583952 25.183355556257, 121.528574176327 25.1834930808386, 121.528450169437 25.1836647112988, 121.528438011899 25.1837813318582, 121.528475700267 25.1839793665147, 121.528464758483 25.1841586976203, 121.528376008454 25.1843490303456, 121.528326162548 25.1845646670623, 121.52830792624 25.1847671011838, 121.528281179656 25.1849497316788, 121.52813285769 25.1851004566401, 121.527630751363 25.1854294104703, 121.527374227307 25.1856263422713, 121.527064210083 25.1857220576128, 121.526752977105 25.1857902684998, 121.526496453049 25.1859057868506, 121.526194946102 25.1860917161565, 121.525849672017 25.1862303378212, 121.525517467286 25.1862702190249, 121.525432972395 25.1862718692813, 121.525423246365 25.1860441336836, 121.525519913832 25.1860385463724)","wkt1":"LINESTRING (121.525519913832 25.1860385463724, 121.525840857802 25.1860050775359, 121.525955138661 25.1861613020515, 121.526192210656 25.1860573357588, 121.526641431692 25.1858070461719, 121.526739907751 25.1857707403869, 121.527278486693 25.1856442201425, 121.527372099738 25.1855991128932, 121.528094257506 25.1850985313225, 121.528241363719 25.1849643091011, 121.528268110303 25.1848982981183, 121.528300935656 25.1845748437857, 121.52832768224 25.184427418737, 121.528351997316 25.1843427042627, 121.528427374053 25.1841688743776, 121.528437100084 25.1840654564802, 121.528400627469 25.1837684045847, 121.528418863776 25.1836264795346, 121.528579343281 25.1834526486278, 121.528812768014 25.1833448293331, 121.529130079761 25.1832282083559, 121.529440096985 25.1831555952383, 121.529588418951 25.1831049860701, 121.529747682701 25.1829960662673, 121.529894788913 25.182844238501, 121.530191432845 25.1824888727721, 121.530272888351 25.18240415695, 121.530550080222 25.1822402261659, 121.530755542618 25.1821500091303, 121.531395029127 25.1819959798907, 121.531690457305 25.1819299672999, 121.531839995025 25.1818738565695, 121.531959138899 25.1818408502455, 121.532043937728 25.1817877650556, 121.532089528497 25.1817577842904, 121.53214393348 25.181740180902, 121.532225388986 25.1817267033059, 121.532369455814 25.1817300039419, 121.532458205842 25.1817382555312, 121.532593154516 25.1817795134696, 121.532667315499 25.181785014527, 121.532861228234 25.1817822639983, 121.533219267734 25.181800967592, 121.534042333069 25.1818570783559, 121.534110415283 25.1818405751928, 121.534290954726 25.1817685113541, 121.534629542164 25.1816238334423, 121.534948677542 25.1814973089035, 121.535486648607 25.1812453596116, 121.535803352477 25.180880087246, 121.535847119615 25.180834428123, 121.536084799487 25.1806391389101, 121.536630065075 25.1802188534579, 121.536763190118 25.1801368866236, 121.537242197123 25.1799107899023, 121.537349791336 25.1798799835039, 121.537444012257 25.1798904356757, 121.537523644132 25.1799168411582, 121.537596589362 25.1799768035869, 121.537972257292 25.1801599913744, 121.53803365286 25.1801709936352, 121.538194132364 25.1802078512015, 121.538345493714 25.1802689137122, 121.538552779741 25.1803783860646, 121.53870839623 25.1804735554168, 121.538806264412 25.180525816012, 121.538935742194 25.180564873916, 121.539054278191 25.1806088828068, 121.539141204589 25.180652341571, 121.539192874127 25.1807106533061, 121.539265211479 25.1807794171088, 121.539304115601 25.1808448802129, 121.539391649876 25.1810385187689, 121.539500459843 25.1813163235462, 121.539546050611 25.1813751850711, 121.539661547224 25.1814571510726, 121.539737531838 25.1814907076076, 121.539963662048 25.1814698035377, 121.540099826476 25.1814439484989, 121.540243893304 25.181415893025, 121.540355742655 25.1813636328115, 121.540460905361 25.1811963999774, 121.540510751267 25.1811397388007, 121.540680348925 25.1810192649489, 121.540797669169 25.1809862583934, 121.540978208611 25.1809890089401, 121.5411338251 25.1810093629832, 121.541482138569 25.1810676745475, 121.54163349992 25.1810907791219, 121.541714955426 25.1810638237847, 121.541748388656 25.1810220154948, 121.541858414377 25.1806402391319, 121.541962969205 25.1805236155664, 121.542003696958 25.1805126133374, 121.542170255231 25.1805060119996, 121.542303988151 25.1804867580956, 121.542455957379 25.1804488003901, 121.542734365004 25.1802573613476, 121.542862019155 25.1801627419397, 121.543046205858 25.1800730734796, 121.543314887453 25.1799861555227, 121.543722164982 25.1798673308737, 121.543796325965 25.1798277226317, 121.543772036429 25.1797581721825, 121.543729112016 25.1797526788618, 121.543536602532 25.1797927016208, 121.542698926126 25.180049317822, 121.542610909402 25.1800501025802, 121.542554977592 25.1800242055571, 121.542518990459 25.1799814362189, 121.542496444303 25.1799163012347, 121.542495143563 25.1798680385433, 121.5425094517 25.179791524481, 121.542548040313 25.1797279589159, 121.542633455558 25.1796879361356, 121.542718437222 25.1796804809104, 121.543849213654 25.1793618677009, 121.544047793258 25.1792771133078, 121.544117166045 25.1791994217291, 121.544299269612 25.1789192607763, 121.544426742108 25.1788235193507, 121.544557683244 25.1788062544954, 121.544849048951 25.1788243041168, 121.544914953099 25.1788007611319, 121.545041558435 25.1786618574285, 121.545063237431 25.1785253078708, 121.545048495714 25.1784177946057, 121.545012942161 25.17833931771, 121.544939233574 25.1782325890508, 121.54485425191 25.1780936846998, 121.544751927049 25.1779563497339, 121.544613181474 25.1777727130235, 121.544278457776 25.1773293155521, 121.544231631144 25.1772170925735, 121.54420041339 25.1770248221951, 121.544244638542 25.1768349058502, 121.544331354526 25.1766128132202, 121.544381649797 25.1764566418352, 121.544385118436 25.1763185202425, 121.544380782637 25.1762384724297, 121.544336557485 25.1760964266716, 121.54430794121 25.1760265809067, 121.54419781191 25.1758837501167, 121.544131907763 25.1758233216551, 121.544027848582 25.1757566148771, 121.543811925781 25.1756663644722, 121.543650634051 25.1756459600236, 121.543584729903 25.175635757798, 121.54316415738 25.1756318338648, 121.542989858252 25.1756341882247, 121.542866721555 25.1756593013942, 121.54267421207 25.1757315017277, 121.542473898147 25.1758413717182, 121.542355964409 25.1758829653316, 121.542098417936 25.1759041545255, 121.541928454607 25.1758554978527, 121.541723804885 25.1757205147231, 121.541394284145 25.1754042455261, 121.541187900103 25.1751758719729, 121.540917346233 25.1748752971941, 121.5406589326 25.1745778608478, 121.540614707449 25.1744695593067, 121.540593028452 25.1743157395611, 121.540641589404 25.1736910410486, 121.540654596801 25.1735403595212, 121.540642456563 25.1734532466782, 121.54049677371 25.173031807991, 121.540413526365 25.1728505182752, 121.540370168373 25.172721025456, 121.540348489377 25.1725577858273, 121.540456884358 25.1719322934959, 121.540512382587 25.1715563687064, 121.540565279338 25.1710015047382, 121.540595629932 25.1704529168049, 121.540616441768 25.1701641027093, 121.54066153408 25.1698313377945, 121.540729172547 25.1695472311816, 121.540776866339 25.1693321887195, 121.540765593261 25.1692113252713, 121.540722235269 25.1691085127634, 121.540545334661 25.1689507621055, 121.54044214264 25.1688338224314, 121.540299928426 25.1686077910655, 121.540233157119 25.1684610274196, 121.540188064807 25.1683385934408, 121.54017158877 25.1682342105284, 121.540129965098 25.1680011145294, 121.540108286102 25.1677750816199, 121.540079669827 25.1674768431121, 121.540411792046 25.1670954106944, 121.540672807158 25.1668324884772, 121.541047420209 25.1665781989876, 121.54169779009 25.1662509182159, 121.542257108187 25.1660641244801, 121.542682016509 25.1659636638652, 121.543006334289 25.1658820395547, 121.543182367737 25.1657941363899, 121.543300301475 25.1656756239871, 121.543559582268 25.1652604372436, 121.543644563932 25.1651254423836, 121.543851815134 25.1646843534851, 121.544182203033 25.1642573904696, 121.544218623747 25.1641537889243, 121.544276723456 25.1637762704274, 121.544339158964 25.1636679592916, 121.544627056032 25.1635062772722, 121.544686022901 25.1634372091597, 121.544714639176 25.1633375312467, 121.544722443614 25.1630102417781, 121.5446903587 25.1629105635161, 121.544501317855 25.1626758876011, 121.544306206891 25.1625259773321, 121.5441483838 25.1624066768817, 121.54403912166 25.1622763880986, 121.54398188911 25.1621076403714, 121.543987959229 25.1620354319703, 121.544057332016 25.1619153461651, 121.544168328476 25.1617976148688, 121.544248107181 25.1616822380882, 121.544268051858 25.1615566577947, 121.544261114579 25.1610794515004, 121.54425677878 25.1608745975678, 121.544299269612 25.1607600047964, 121.544381649797 25.1607136967281, 121.544658273786 25.1606673886423, 121.545006872042 25.1606399177356, 121.545202850166 25.1605951793885, 121.545496817352 25.1605080572972, 121.545652038963 25.1604044525671, 121.545753496665 25.1602427662216, 121.545852352887 25.1600504690753, 121.545975489584 25.159904480019, 121.54605093249 25.1597898863362, 121.546262519491 25.1594107845501, 121.546308478963 25.1593307256371, 121.54654001064 25.1591305781248, 121.54659637603 25.1590677866807, 121.546627593784 25.1589265058134, 121.546762870719 25.1582695476308, 121.546807963031 25.1580835265707, 121.546806228711 25.1578574752805, 121.546800158592 25.1575097636241, 121.546774143797 25.1573967374998, 121.546506191406 25.1567876504717, 121.546200083983 25.1562586213843, 121.546115969478 25.1561118428778, 121.545974622424 25.1558080814506, 121.545932998752 25.155691129175, 121.545908718276 25.1555624030506, 121.545906983957 25.1555003946862, 121.545973755264 25.155363034273, 121.546083884564 25.1552421569814, 121.546343165356 25.1550066813942, 121.54648711389 25.1548591164613, 121.546580767153 25.1548269347235, 121.547123609213 25.1549415330682, 121.547315251538 25.1549548767041, 121.54735860953 25.1549517370252, 121.547424513678 25.1549250497513, 121.547487816346 25.1548818791488, 121.547865030877 25.1543748196561, 121.547891912832 25.1542900478944, 121.547862429397 25.1541699544646, 121.547844219041 25.154137772545, 121.547734956901 25.1540867524112, 121.547640436478 25.1540702689788, 121.547264089107 25.1540231734454, 121.547172170164 25.1539933462648, 121.547118406254 25.1539391863657, 121.54692416245 25.1537453094282, 121.546755933441 25.15363070996, 121.54665274142 25.1535757649713, 121.546125508236 25.1533497053289, 121.545841946968 25.1531848699089, 121.545636430086 25.1530906781404, 121.545524566467 25.1530584959362, 121.544943569373 25.1529022943853, 121.544736318172 25.1528536285346, 121.54436517376 25.1528230161347, 121.543896040286 25.1528803162616, 121.543769434949 25.1528567682675, 121.543684453285 25.1528104571992, 121.543635025174 25.1527052760635, 121.543629822215 25.152582041334, 121.54365757133 25.1525231711964, 121.543760763351 25.1524234843652, 121.543998365147 25.1523512702319, 121.544764934446 25.1522806259298, 121.545006872042 25.152249228449, 121.545368477695 25.1521346275756, 121.545534972385 25.1521118643757, 121.545795987497 25.1521746593998, 121.545921725674 25.1522084117119, 121.54599803574 25.1522182234288, 121.546302408844 25.152191535557, 121.546416006783 25.1522001698691, 121.546779346756 25.1522315673625, 121.546879070138 25.1522606100367, 121.546963184642 25.1522790560559, 121.547048166307 25.1522880828303, 121.547117539094 25.1522739539658, 121.547108433916 25.1522354920486, 121.546961016743 25.152138159796, 121.546853055343 25.1520777195677, 121.546707372489 25.1519866666998, 121.546510960786 25.1518413548163, 121.546493400799 25.1518089269888, 121.546314874267 25.1518769223933, 121.546228049888 25.1518725071084, 121.546176020297 25.1518530798532, 121.546139274399 25.1518339469473, 121.545911885442 25.1515082056976, 121.546019648683 25.151454650266)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0100010820'=='0100020200' || '0100010820'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
