
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492410</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0400094300">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0400094300">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0400094300" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0400094300" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0400094300" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0400094300',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="xgsrZeAhIBUdVTz6qkc-yzOB7-voXiSSGEun2fskIZV6dIrO2hIW5LkFtIQ3_NyBAUm5Q4S3h_KZJgv7wvzeUZ9N5P41" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title"><font style="border-style:solid;}">943</font></span> 

                        <a href="../EBus/VsSimpleMap?routeid=0400094300" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0400094300" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">三峽 - 臺北大學(臺北校區)</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 1620 - 1735 <br>
                        [假日] 停駛
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 943三峽班表:1620 1705 1715 1735<br/>943臺北大學(臺北校區)班表:0710 0750<br/>臺北大學寒暑假期間週一至週五僅行駛07:10(臺北往三峽)及16:20(三峽往臺北)<br>
[假日]<br /> <br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content">樹林交流道，安坑交流道</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">三段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">臺北客運三峽一站:02-2671-1914</span>
                </li>

                    <li>
                        <span class="stationlist-move-route-bus-item">備註 :</span>
                        <span class="stationlist-move-route-bus-content">清明連假停駛  例假日停駛</span>
                    </li>
            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 臺北大學(臺北校區)</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 三峽</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">大學學勤路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2374110570" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="24.946045" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.372978" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">鼎禮社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2374108520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.948053" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.3724734" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">北大高中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2374110620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.949139" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.374955" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">學府大雅路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2385402220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.950251" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.378352" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">學府大成路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2385402320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.950885" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.381509" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">柑園市民活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2385402420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.951229" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.385623" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">國道3號46Km(虛擬站不停靠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2389700020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.95063" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.401652" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">國道3號42Km(虛擬站不停靠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2369700120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.959255" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.426491" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">國道3號31Km(虛擬站不停靠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2319700030" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.973006" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.521323" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">客家文化主題公園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1008600020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.01996" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52587" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">耕莘文教院</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1008900320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.019" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52865" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">長春國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1048700200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.054579" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.537172" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">合江街口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1047800020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057724" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5381394" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">臺北大學(臺北校區)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1048000220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.05774" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.54274" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">臺北大學(臺北校區)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1047800260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.057957" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5417414" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">合江街口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1047800060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.058034" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5383134" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">三軍總醫院(辛亥)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1008900060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.01912" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52802" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">國道3號31Km(虛擬站不停靠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2319700070" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.972783" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.521891" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">國道3號42Km(虛擬站不停靠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2369700160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.9599" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.429231" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">國道3號46Km(虛擬站不停靠)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2389700060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.950848" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.402173" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">柑園市民活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2385402460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.951431" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.385756" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">學府大成路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2385402360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.951068" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.381641" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">學府大雅路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2385402260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.950519" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.378831" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">鼎禮社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2385300760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.94866" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.3733375" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">臺北大學正門</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2374103540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.94489" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.37368" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0400094300";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 14;
        var existBackNum = 11;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0400094300',
                        url: './StopStatusRecent3OfRoute?routeid=0400094300&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0400094300',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0400094300',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0400094300');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0400094300","Name":"943","BeginStop":"三峽","GoDirStops":[{"UniStopId":"2374110570","Name":"大學學勤路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.372978,"Latitude":24.946045,"PublicId":"2374110570"},{"UniStopId":"2374108520","Name":"鼎禮社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.3724734,"Latitude":24.948053,"PublicId":"2374108520"},{"UniStopId":"2374110620","Name":"北大高中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.374955,"Latitude":24.949139,"PublicId":"2374110620"},{"UniStopId":"2385402220","Name":"學府大雅路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.378352,"Latitude":24.950251,"PublicId":"2385402220"},{"UniStopId":"2385402320","Name":"學府大成路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.381509,"Latitude":24.950885,"PublicId":"2385402320"},{"UniStopId":"2385402420","Name":"柑園市民活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.385623,"Latitude":24.951229,"PublicId":"2385402420"},{"UniStopId":"2389700020","Name":"國道3號46Km(虛擬站不停靠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.401652,"Latitude":24.95063,"PublicId":"2389700020"},{"UniStopId":"2369700120","Name":"國道3號42Km(虛擬站不停靠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.426491,"Latitude":24.959255,"PublicId":"2369700120"},{"UniStopId":"2319700030","Name":"國道3號31Km(虛擬站不停靠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.521323,"Latitude":24.973006,"PublicId":"2319700030"},{"UniStopId":"1008600020","Name":"客家文化主題公園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52587,"Latitude":25.01996,"PublicId":"1008600020"},{"UniStopId":"1008900320","Name":"耕莘文教院","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52865,"Latitude":25.019,"PublicId":"1008900320"},{"UniStopId":"1048700200","Name":"長春國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.537172,"Latitude":25.054579,"PublicId":"1048700200"},{"UniStopId":"1047800020","Name":"合江街口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5381394,"Latitude":25.057724,"PublicId":"1047800020"},{"UniStopId":"1048000220","Name":"臺北大學(臺北校區)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.54274,"Latitude":25.05774,"PublicId":"1048000220"}],"LastStop":"臺北大學(臺北校區)","BackDirStops":[{"UniStopId":"1047800260","Name":"臺北大學(臺北校區)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5417414,"Latitude":25.057957,"PublicId":"1047800260"},{"UniStopId":"1047800060","Name":"合江街口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5383134,"Latitude":25.058034,"PublicId":"1047800060"},{"UniStopId":"1008900060","Name":"三軍總醫院(辛亥)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52802,"Latitude":25.01912,"PublicId":"1008900060"},{"UniStopId":"2319700070","Name":"國道3號31Km(虛擬站不停靠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.521891,"Latitude":24.972783,"PublicId":"2319700070"},{"UniStopId":"2369700160","Name":"國道3號42Km(虛擬站不停靠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.429231,"Latitude":24.9599,"PublicId":"2369700160"},{"UniStopId":"2389700060","Name":"國道3號46Km(虛擬站不停靠)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.402173,"Latitude":24.950848,"PublicId":"2389700060"},{"UniStopId":"2385402460","Name":"柑園市民活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.385756,"Latitude":24.951431,"PublicId":"2385402460"},{"UniStopId":"2385402360","Name":"學府大成路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.381641,"Latitude":24.951068,"PublicId":"2385402360"},{"UniStopId":"2385402260","Name":"學府大雅路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.378831,"Latitude":24.950519,"PublicId":"2385402260"},{"UniStopId":"2385300760","Name":"鼎禮社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.3733375,"Latitude":24.94866,"PublicId":"2385300760"},{"UniStopId":"2374103540","Name":"臺北大學正門","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.37368,"Latitude":24.94489,"PublicId":"2374103540"}],"RouteMapUrl":"../MapOverview?nid=0400094300","RouteTracks":null,"StopDirection":null,"TicketPrice":"三段票","BusTimeDesc":"1620 - 1735","HeadwayDesc":"943三峽班表:1620 1705 1715 1735;943臺北大學(臺北校區)班表:0710 0750;臺北大學寒暑假期間週一至週五僅行駛07:10(臺北往三峽)及16:20(三峽往臺北)","HolidayBusTimeDesc":"停駛","HolidayHeadwayDesc":"","RouteNote":"清明連假停駛  例假日停駛","SegmentBuffer":"樹林交流道，安坑交流道","StopLng":0,"StopLat":0,"IsNtpcMainLine":true,"orgphone":"臺北客運三峽一站:02-2671-1914","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.373873021002 24.9448541704425, 121.373404049945 24.9454709727553, 121.371667328655 24.9476952767677, 121.372366259628 24.9480309119969, 121.373757185955 24.9486959451966, 121.375550752222 24.9493985476656, 121.376124564722 24.949599846181, 121.378637005434 24.9503457175219, 121.381028248366 24.9508596562277, 121.381595089312 24.9509296723092, 121.383310627804 24.9511630589602, 121.384944652745 24.9512466890691, 121.3865824316 24.9512914214296, 121.387389523013 24.9515637050128, 121.387835702453 24.9514859097648, 121.388235762382 24.9514684058272, 121.389506730256 24.9514333979446, 121.391065140653 24.951200011806, 121.391795544975 24.9512116811234, 121.392774780138 24.9512272402116, 121.394041457825 24.951118326553, 121.396566232824 24.9508654909027, 121.3993773778 24.9507098994753, 121.399990874529 24.9506865607442, 121.400494078884 24.9506754561211, 121.40098299909 24.9506329002828, 121.401966706544 24.9505482318525, 121.402457582431 24.9505056759702, 121.402966059445 24.9504613469106, 121.403462802375 24.9504174611258, 121.403945855538 24.9503749051984, 121.404444554148 24.9503323492562, 121.404937385716 24.9502880201342, 121.405432172964 24.950245464162, 121.405932827255 24.9502082276743, 121.406423703142 24.9501625686324, 121.407387853788 24.9500845492594, 121.408586686134 24.9499958908209, 121.409306376677 24.9499622005976, 121.409787474159 24.9499657469373, 121.409992820646 24.949978602418, 121.410581480574 24.9500069731292, 121.410849408847 24.950033570665, 121.411215121161 24.9500708072056, 121.411676661835 24.9501151364058, 121.411966102597 24.9501736509257, 121.412386573975 24.9502552165736, 121.412812912394 24.9503740186164, 121.413102353156 24.9504515945153, 121.413376148472 24.9505437989488, 121.413708614212 24.9506572812336, 121.414019567463 24.9507667738078, 121.414066503802 24.9507827322315, 121.414168199205 24.9508266178861, 121.414530000158 24.9510127992772, 121.414721656878 24.9511081063089, 121.414827263643 24.9511626307636, 121.414966116981 24.951226464241, 121.415374854274 24.9514764783752, 121.415670162078 24.95165334977, 121.415979159648 24.9518386433397, 121.416427010557 24.9521365309821, 121.416497415067 24.9521750967403, 121.416745786531 24.9523985119292, 121.416882684189 24.9525181984709, 121.417115410207 24.9527185623468, 121.417412673692 24.9530160045792, 121.417608241775 24.9532159243643, 121.417719715582 24.9533267445045, 121.41800133362 24.9536317210155, 121.418089339257 24.9537212633941, 121.418359223211 24.9540528355956, 121.418668220781 24.9544225286819, 121.418863788864 24.9546774123575, 121.419039800138 24.9548826487424, 121.41937617724 24.9552948935789, 121.419612814619 24.9555901132266, 121.419957014444 24.9559123717036, 121.420178006377 24.956130017598, 121.420391175587 24.9563317054052, 121.420621945924 24.9565316198067, 121.420930943495 24.9567878289199, 121.421101087726 24.9569279014968, 121.421404218254 24.9571473186624, 121.421685836293 24.9573503346006, 121.421975277055 24.9575613289765, 121.422061327011 24.9576065420099, 121.422587405153 24.9578973234755, 121.422966807232 24.9580706395407, 121.423416613822 24.9582776433192, 121.423739301158 24.9583964376216, 121.424187152067 24.9585622175387, 121.424734742697 24.9587607985357, 121.424969424396 24.9588472343607, 121.425223662903 24.9589159397168, 121.425606976345 24.9590152299701, 121.426084162466 24.9591393426741, 121.426453786142 24.9592098209038, 121.426708024649 24.9592630119939, 121.427693687784 24.9594061845639, 121.428702819089 24.9595533462889, 121.429684570863 24.9596947454914, 121.430112864963 24.9597581312881, 121.430629164701 24.9598290524206, 121.431129818992 24.9599017465389, 121.431532689242 24.9599633592032, 121.431644163049 24.959979316435, 121.432117437808 24.9600786058305, 121.432489017164 24.960160164917, 121.432772590884 24.9602182314075, 121.433009228264 24.9602926983172, 121.433112879347 24.9603170773552, 121.433552907533 24.9604908332681, 121.433816924444 24.9605949980473, 121.434321490097 24.9607971217929, 121.434497501371 24.9608609502752, 121.434966864769 24.9610466732402, 121.435606372398 24.9613015432015, 121.4357999848 24.9613737931989, 121.436017065371 24.9614903682586, 121.436290860686 24.9616393004936, 121.436789559297 24.9619030342177, 121.437313681757 24.9621893730498, 121.43772437473 24.9624406946646, 121.43807835296 24.962660102004, 121.438230896064 24.9627802218161, 121.438594652697 24.9630670018527, 121.438976010458 24.9633679650366, 121.439496221557 24.9637784084869, 121.439840421382 24.9640452403198, 121.439893224764 24.9640944401461, 121.440212000739 24.9644047088678, 121.440456460842 24.9646343072182, 121.44061878235 24.9648151488606, 121.440798704986 24.9650256872027, 121.440982538983 24.9652309063347, 121.441342384255 24.9656484353483, 121.441397143318 24.9657047263065, 121.441508617125 24.9658518805008, 121.44182934878 24.9662711803425, 121.442130523627 24.9666745223939, 121.442271332646 24.9668868304811, 121.442547083642 24.9673061267964, 121.442678114258 24.9675126718134, 121.442918662999 24.9679164530234, 121.443411494567 24.9687426269134, 121.443884769326 24.9695200408408, 121.444158564641 24.9699809909068, 121.444275905491 24.9701529602968, 121.444721800719 24.970787649367, 121.444940836971 24.9711049926743, 121.445292859519 24.9715375710598, 121.445468870793 24.9717600646781, 121.446000815978 24.9723123080555, 121.446180738613 24.9724887063005, 121.446681392904 24.9728893687114, 121.446896517795 24.9730586747804, 121.447111642686 24.9732279806165, 121.447404994809 24.9734549032564, 121.447803953697 24.9736986673447, 121.448069926289 24.9738688587127, 121.448425860199 24.9740390498452, 121.44861751692 24.9741232589123, 121.44904385534 24.9743147235239, 121.449309827932 24.9744175469887, 121.44994737988 24.9746648547976, 121.450620134084 24.9748350448289, 121.450913486207 24.9749050708672, 121.451402406413 24.9749901657461, 121.451531481348 24.9750149850747, 121.452016490192 24.9750965342619, 121.452833964776 24.9751284447987, 121.453178164602 24.9751497184854, 121.454320282203 24.975135536028, 121.455368527124 24.9750929886462, 121.456178178985 24.9750610781002, 121.456620162852 24.9750468956326, 121.457030855825 24.9750291675459, 121.457664496412 24.9750433500155, 121.458290314275 24.9750504412497, 121.45861104593 24.9750539868666, 121.45879879129 24.9750610781002, 121.459303244898 24.9750677739729, 121.459818067327 24.9750833300455, 121.46009263929 24.9751611103794, 121.460539347223 24.9752986341887, 121.460672333519 24.9753190214435, 121.460996976536 24.9753722055708, 121.461591503506 24.9755636682385, 121.461810539758 24.9756230570609, 121.462350307666 24.9757967913621, 121.462702330214 24.9759554566574, 121.463531538884 24.976317106398, 121.463785777391 24.976440315258, 121.464431152063 24.9768019635731, 121.464712770101 24.9769712642572, 121.4652329812 24.9773258199085, 121.465471574261 24.9774880287783, 121.465956583105 24.9778284007932, 121.466136505741 24.9779365396216, 121.466551110076 24.9782840014431, 121.466969625772 24.9786243712553, 121.467352939214 24.9789346033364, 121.467869238951 24.9793582904574, 121.468401184135 24.9797943853003, 121.468698447621 24.9800319322471, 121.468823611193 24.9801338645649, 121.46914825421 24.9804033200242, 121.46945725178 24.980650615798, 121.469965728794 24.9810725242855, 121.470204321855 24.9812657507987, 121.470888810143 24.9818223832771, 121.471017885078 24.9819278595297, 121.471401198519 24.9822434013921, 121.471741486983 24.9825190566824, 121.472265609443 24.9829436178017, 121.472617631992 24.9832343393927, 121.473130020368 24.9836518073046, 121.473243449855 24.9837457595479, 121.473509422447 24.9839655720633, 121.473685433722 24.9841002956688, 121.474119594865 24.9844690121501, 121.474205644821 24.9845239649926, 121.47465545141 24.9848962255366, 121.475132637531 24.9852862115644, 121.475422078293 24.985521975245, 121.475934466669 24.9859438670186, 121.476141768837 24.9861060645211, 121.476591575426 24.986467684412, 121.47683799121 24.9866795151777, 121.477287797799 24.9869764321638, 121.477718047581 24.9872600536898, 121.478339954083 24.9876562364136, 121.478754558417 24.9878849050556, 121.479196542284 24.9881082554117, 121.479767601084 24.9883422410637, 121.480010105506 24.9884406212617, 121.480307368992 24.9885717947365, 121.481187425362 24.988780962961, 121.481934495437 24.9889192265071, 121.482102683988 24.9889334073749, 121.482587692832 24.9889865856143, 121.483107903932 24.9890459679545, 121.483432546948 24.9890849652967, 121.483702430902 24.9890814200843, 121.484277401064 24.9890636940207, 121.484805434887 24.9890069706, 121.485286532369 24.9889289758539, 121.485779363937 24.9888190740822, 121.486233081888 24.9887127174353, 121.486768938434 24.9885709084298, 121.487602058465 24.988230566149, 121.488071421863 24.9880470999974, 121.48863465794 24.9877528445352, 121.48896712368 24.9875835586941, 121.489788509626 24.9870420196998, 121.490156177621 24.9867982820582, 121.490402593405 24.9866112684855, 121.491360877009 24.985802941146, 121.493045564982 24.9840977432432, 121.494025872692 24.9830380589667, 121.495810590448 24.9816380950955, 121.497145780886 24.9808075021063, 121.49743913301 24.9805681839287, 121.49760732156 24.9804618201447, 121.497967166832 24.9802570696015, 121.498432618868 24.979984068347, 121.499265738899 24.979593179132, 121.500298338374 24.9791322650829, 121.500712942709 24.9789691720056, 121.502097564732 24.9785029373418, 121.502754673489 24.9783185702951, 121.503396136799 24.9781572489026, 121.504428736275 24.9779445170724, 121.504905922396 24.9778665153092, 121.505916125726 24.9776558885001, 121.506868547221 24.9776014433758, 121.508308807029 24.977646691892, 121.508598247791 24.9776537829761, 121.510802648622 24.9777492229428, 121.511832293481 24.9776792221174, 121.513307527215 24.9776537829761, 121.514058508652 24.9775474166717, 121.514715617409 24.977391412592, 121.515302321656 24.9772442721992, 121.516491375597 24.9768329872761, 121.517336229713 24.9764022003001, 121.518165438382 24.9759554566574, 121.518423588251 24.9757870409741, 121.519659578532 24.9747517226555, 121.520473141754 24.9739752281981, 121.521036377832 24.9733653752336, 121.521419691273 24.9729469859862, 121.521790889857 24.9724285605401, 121.521958207147 24.9721485448882, 121.52213410481 24.9715573986413, 121.522172716492 24.9710508384956, 121.522112653876 24.9704480194815, 121.522116944063 24.9701125785899, 121.52218987724 24.9698558927682, 121.522318582848 24.9696731010232, 121.522430127707 24.9695642036844, 121.522683248735 24.9694086358903, 121.522923499203 24.9693075167187, 121.523262423969 24.9692647355057, 121.523755795464 24.9692375110896, 121.524533391842 24.9693172397196, 121.525073955393 24.9693872453032, 121.525821520463 24.9695933726239, 121.526902647566 24.9700134045859, 121.527398164155 24.9702788407114, 121.527870084715 24.9706191425986, 121.528318945521 24.9710454909205, 121.528644999727 24.971414959195, 121.529179664271 24.9721431973609, 121.528491433133 24.9726128054169, 121.528252840072 24.9727643834534, 121.527924285694 24.9729700328886, 121.527431454126 24.9734229922855, 121.526879952134 24.9739610456055, 121.52668047269 24.9741028714594, 121.526512284139 24.9742438107397, 121.52625413427 24.9744955509392, 121.52582779585 24.974901525246, 121.525608759598 24.9751213535692, 121.525198066625 24.9755211210049, 121.524947739479 24.9757648809988, 121.524599628293 24.9760946210218, 121.524396237487 24.9762949465182, 121.524052037662 24.9766246851203, 121.523860380941 24.976857806233, 121.523711749199 24.9771520877672, 121.523586585626 24.9774703010435, 121.5234770675 24.9779374260052, 121.523434042522 24.9781147025661, 121.52343013116 24.9783939126314, 121.523398840267 24.9786057573057, 121.523293233502 24.9790844008328, 121.523105488143 24.9798909995991, 121.523019438187 24.980308478861, 121.522968590486 24.9805203202374, 121.522984235932 24.9808101611947, 121.523007704102 24.9809697063843, 121.523031172272 24.9811035469115, 121.52309766542 24.9813198187138, 121.523125044952 24.9813756593223, 121.523187626738 24.9815245674876, 121.523328435757 24.9817479293975, 121.5234770675 24.9819172232732, 121.523676546944 24.9821086757523, 121.523950342259 24.9823169686202, 121.52416546715 24.9824800572578, 121.524509666975 24.9827565983663, 121.524885157693 24.9830783425271, 121.525041612159 24.9832228169039, 121.525413191516 24.9835915360165, 121.52551879828 24.9836615570692, 121.52587473219 24.9839168233541, 121.526109413889 24.984106500042, 121.526789990816 24.9846843916988, 121.527059874769 24.9849033162029, 121.527478390466 24.9852862115647, 121.527580085869 24.985370412931, 121.52767786991 24.9854510689226, 121.527994690203 24.985752420511, 121.528315421858 24.9861175867401, 121.528632242152 24.9865385901485, 121.528964707892 24.9870437923357, 121.529254148654 24.9873735021172, 121.529496653076 24.9876562364138, 121.529606171202 24.9877546171608, 121.52981347337 24.9879602415308, 121.530063800515 24.9881552298399, 121.530259368597 24.9882500649511, 121.530411911702 24.9883316053621, 121.530509695743 24.9883706029309, 121.530826516036 24.988621427907, 121.530967325056 24.9888190740824, 121.53138192939 24.9893331299116, 121.531773065555 24.9898143905758, 121.532023392701 24.9901245944252, 121.532477110652 24.9906811867984, 121.53292300588 24.9912253686247, 121.533055992176 24.991380468867, 121.533243737535 24.9916144482907, 121.53332587613 24.991794363984, 121.533533178297 24.9921098805246, 121.533861732675 24.9926017656508, 121.53422940067 24.9931530291646, 121.534471905092 24.9935110832414, 121.53463227092 24.9937432860703, 121.534804370832 24.9939843511384, 121.53494126849 24.9942041453472, 121.535292108078 24.9946969999781, 121.535487311582 24.9950668832436, 121.53556024476 24.9953293490117, 121.535639613218 24.9956933978251, 121.53567661608 24.9962518631343, 121.535638004397 24.9967622078033, 121.535492770483 24.9976818046277, 121.535461479589 24.9980673189013, 121.535445834143 24.9981869610161, 121.535390782377 24.9988390457225, 121.535375766722 24.9994149938549, 121.535358605975 25.0000944633702, 121.535362896162 25.0006456182857, 121.535390782377 25.0009493842679, 121.535446340826 25.0014982385631, 121.535480876302 25.0018757443697, 121.535506617423 25.0021639546661, 121.535519487984 25.0025415917548, 121.535506617423 25.0030023365919, 121.535471759655 25.003300750575, 121.53539775393 25.0036861603959, 121.535323748206 25.0039478787337, 121.535202550426 25.0043187061759, 121.534955596541 25.0047770142991, 121.534714409515 25.0051348662256, 121.534486893621 25.005542477394, 121.534053389396 25.0063126035552, 121.533928225823 25.0066626436998, 121.533799150889 25.0069798944122, 121.533642696423 25.0073698103665, 121.533458321308 25.0078718858993, 121.533125831822 25.0083802383197, 121.532702712138 25.0089269821214, 121.5321659025 25.0094192924576, 121.531305720024 25.0099271524839, 121.530494874697 25.0102488770791, 121.529425545608 25.0106673121874, 121.529148292279 25.0108427531966, 121.528738579429 25.011247578724, 121.528341737139 25.0117977116354, 121.528017291754 25.0122938983048, 121.527732628973 25.0126574801929, 121.527321936 25.0132804301572, 121.52696600209 25.0138067893992, 121.526551397755 25.014433278014, 121.526320627418 25.0147832950139, 121.526078122996 25.0151652111589, 121.525683075469 25.0157491595341, 121.525452305132 25.0160956283499, 121.52518633254 25.0164917181002, 121.524787373652 25.0171031293, 121.52454486923 25.0174673162634, 121.524329744339 25.0178004887922, 121.524032480854 25.0182523968944, 121.523696103752 25.0187769626445, 121.523396760446 25.019283064975, 121.522815440119 25.0201913066929, 121.522898062867 25.0203363855412, 121.524221548881 25.0207268212288, 121.524771229079 25.0208881553333, 121.525322518098 25.0209197418237, 121.52582779585 25.0201610257057, 121.525988161678 25.0199598856281, 121.526348945317 25.0193885166054, 121.526637447711 25.0190286116345, 121.526793902177 25.0187884817996, 121.527301366812 25.0182611027767, 121.527434362607 25.0181366978579, 121.527679975807 25.0181250348903, 121.527873034219 25.0182416645164, 121.529778949755 25.0198676643474, 121.530560543444 25.0205517858835, 121.530976984451 25.0208551109962, 121.531847892395 25.021609297181, 121.532089885849 25.0218135517516, 121.532535781077 25.0220439289509, 121.533162834684 25.022203118352, 121.533501887404 25.0222494959329, 121.534018187141 25.0222459516775, 121.534970075922 25.0222264435112, 121.536681824424 25.0222796220996, 121.536873481144 25.0222822802904, 121.537327199095 25.0223956963787, 121.537483653561 25.0224275946346, 121.538006455711 25.0226589300352, 121.537909991981 25.0230017618242, 121.537870878365 25.02340225957, 121.537866967003 25.0238514888935, 121.537892765758 25.0246930540788, 121.537897055945 25.0250322334518, 121.53793137744 25.0256979552836, 121.537961408748 25.0273938288887, 121.537995730244 25.0293870578191, 121.538007528258 25.0306164100804, 121.538024689005 25.0319633384175, 121.538033269379 25.0332781827697, 121.538050430127 25.0343724179543, 121.538062535085 25.0346581926032, 121.538093331996 25.0354063932098, 121.53821507819 25.0359180415048, 121.538277659976 25.0361164975361, 121.538281571338 25.0362502779832, 121.538277659976 25.0365444172611, 121.538258103168 25.0368305822071, 121.538258103168 25.0369430988915, 121.538258103168 25.0371911668075, 121.538078180532 25.0376297142174, 121.538058623724 25.0377679227731, 121.538070357809 25.0383402462886, 121.538117294148 25.0385909692166, 121.538250280444 25.0390091349386, 121.538258103168 25.0390614055537, 121.538260649286 25.0393643777263, 121.538172053211 25.0397338340212, 121.537913144146 25.0404624455689, 121.5376986348 25.0409949563457, 121.53735112966 25.0417529056534, 121.537260705947 25.042000041417, 121.537135542375 25.0423366910151, 121.537026024249 25.04261929878, 121.536939974292 25.0430153029223, 121.536885215229 25.0433510638219, 121.536861747059 25.043708085617, 121.536885215229 25.0444017503017, 121.536916506122 25.0451086995444, 121.536928240207 25.0454479982973, 121.536936062931 25.0457341424688, 121.536936062931 25.0463073146987, 121.536947797016 25.0468237875351, 121.536975176547 25.0476795507737, 121.536975176547 25.0481570392599, 121.536975176547 25.0484219161155, 121.536963442462 25.0489915322977, 121.536959531101 25.0494158636277, 121.536951708377 25.0497400907523, 121.536971265185 25.0501050667081, 121.536979087909 25.0505754588738, 121.536994733355 25.0514701734538, 121.537026024249 25.0518732358093, 121.537033846972 25.0520636933843, 121.537022112887 25.0522833836149, 121.537033846972 25.0526828999204, 121.537049492418 25.0530398945418, 121.537069049227 25.0539593945109, 121.537080783312 25.0542091996693, 121.537088606035 25.0546946351878, 121.537096428758 25.055493650778, 121.53710034012 25.055584890586, 121.53710034012 25.0558400073588, 121.537096428758 25.0562005360593, 121.537104251481 25.0566177559097, 121.537115985566 25.0569995418319, 121.537127719651 25.0575088831477, 121.537135542375 25.0577772830242, 121.537823942025 25.0577631101081, 121.538680530226 25.057741850731, 121.539501916172 25.0577276778108, 121.54063621105 25.057713504889, 121.54153973559 25.0576993319656, 121.542372855621 25.0576851590405, 121.54343674599 25.0576709861137, 121.544074297938 25.0576603564176, 121.544093854746 25.0578729501648, 121.542529310087 25.0578906662938, 121.541222915297 25.0579083824202, 121.540331124841 25.0579225553194, 121.53921247541 25.0579331849928, 121.538254191806 25.057961530784, 121.537186390076 25.0579757036771, 121.536728760763 25.0579898765686, 121.536736583487 25.0575788620501, 121.536724849402 25.0569410781715, 121.536717026678 25.0562368546165, 121.536677913062 25.0553350882314, 121.536666178977 25.0550170766959, 121.536658356254 25.0545148116707, 121.536646622169 25.0541401046764, 121.53662706536 25.0538654959863, 121.53662706536 25.0532524963038, 121.536623153999 25.0528813288209, 121.536615331276 25.0524605528689, 121.536587951744 25.0520185151026, 121.536580129021 25.0516225400385, 121.536568394936 25.0513789305828, 121.536556660851 25.050777434617, 121.536548838127 25.0503114725322, 121.536521458596 25.0495115372947, 121.536517547234 25.0491297280487, 121.536525369958 25.0487337436535, 121.536529281319 25.048419258491, 121.536517547234 25.0482677738009, 121.536482344979 25.048023271801, 121.536466699533 25.0479107652822, 121.536447142725 25.047443020538, 121.536427585916 25.0470364000775, 121.536415851831 25.0466191476149, 121.536396295023 25.0458803149304, 121.536357181407 25.0453434624892, 121.536337624598 25.0449297478657, 121.536314156429 25.044557669282, 121.536306333705 25.0442582337923, 121.536333713237 25.0438223678082, 121.536357181407 25.0435645682958, 121.536419763193 25.04317919688, 121.536529281319 25.0426414466965, 121.536591863106 25.0423411206089, 121.53669746987 25.0420797743001, 121.536832017043 25.0417606794682, 121.53700362452 25.0412981366309, 121.537264617309 25.0406720383314, 121.53741977265 25.040174811049, 121.537483653561 25.0398233136843, 121.537530589901 25.0395973995578, 121.537578509566 25.0391622544326, 121.53764286237 25.0386297356986, 121.537675310282 25.038193178891, 121.537667487559 25.037910560927, 121.537647930751 25.0377050201805, 121.537488415641 25.0372789935038, 121.53745627403 25.0370795363074, 121.537464096753 25.0368429856262, 121.537424983137 25.0361705413105, 121.537484125454 25.035797047006, 121.53758708994 25.0353694656722, 121.537625701622 25.0349953307825, 121.537616639857 25.0344730238471, 121.537604905772 25.0339848503322, 121.53758065466 25.0333860518583, 121.537572074286 25.0330906263808, 121.537563493912 25.0321606145588, 121.537520592043 25.0313637336173, 121.537464819613 25.0299167012126, 121.537430498118 25.0263471520739, 121.537443368679 25.0255891075814, 121.537490560735 25.0254870627729, 121.537398321716 25.0248587564397, 121.537396176622 25.0239889380325, 121.53738586952 25.0234811184854, 121.537358489989 25.023292388637, 121.537273906295 25.0230821822255, 121.537113024286 25.0228858633658, 121.536971448118 25.0227945069577, 121.536861747059 25.0227253112904, 121.534374812488 25.0226462956191, 121.533314063773 25.0226812832299, 121.532875392161 25.0226229705396, 121.532410979428 25.0224946825236, 121.531969090175 25.022303222129, 121.531501459802 25.0219650070982, 121.530887963073 25.0214314418359, 121.530482316211 25.0210479874913, 121.530188964088 25.0207945704922, 121.529746980222 25.02043305163, 121.529105516911 25.0199058347141, 121.52784300291 25.0188364738863, 121.527435435153 25.0185021369481, 121.526950356643 25.0190693716336, 121.526629624988 25.0194982368911, 121.526426234182 25.0197870998358, 121.526203286568 25.020052924031, 121.525725795668 25.0206500415287, 121.525356839593 25.0210660114656, 121.524907978787 25.0210708709192, 121.524513578337 25.0209903927647, 121.524263251191 25.0209336840845, 121.523297144864 25.0206891276007, 121.522342772622 25.0204135579356, 121.522330112725 25.0203142516846, 121.522475758918 25.0202611525818, 121.522538340704 25.0202292537629, 121.522624390661 25.0201371015728, 121.5235104504 25.0187266481902, 121.52420385186 25.0177265494983, 121.524949271836 25.0165782239946, 121.525385811984 25.0159689148043, 121.525600936875 25.015652573424, 121.52589820036 25.0151882501459, 121.526147306532 25.0148112493432, 121.52630107061 25.0146149325309, 121.526418411459 25.0144634060988, 121.526711763583 25.0140238897761, 121.527235886044 25.0132281485604, 121.528037715181 25.0120398438937, 121.528644195316 25.011200438245, 121.528955233868 25.010879688114, 121.529309710562 25.0106245453661, 121.52957409333 25.010476805323, 121.529928033751 25.0103582243705, 121.530828973003 25.0100262942919, 121.531277297535 25.0098202347582, 121.531803381706 25.0095437062085, 121.53244959111 25.0090105729592, 121.532763311028 25.0086757232721, 121.533095800514 25.0082572813784, 121.533346776448 25.0078193981491, 121.533634755245 25.0071594113756, 121.533908669015 25.0064650262218, 121.534080768928 25.0060981480877, 121.534225489309 25.0058287489534, 121.534386610502 25.0055867040049, 121.53456186641 25.0052810870497, 121.534651827728 25.0051508175966, 121.534831750364 25.0048636926001, 121.534957741635 25.0046319402796, 121.535101634318 25.0043399536093, 121.535172038827 25.0041875283059, 121.535277645592 25.0038693841853, 121.535371518271 25.0034803433192, 121.535408479398 25.0031039140715, 121.535433684246 25.0025765850942, 121.535401507844 25.0020764710051, 121.535383252356 25.0016972974373, 121.53532067057 25.001116827116, 121.53527373423 25.0006639697397, 121.535262000145 25.0003280920556, 121.535238531975 25.0000631113879, 121.535246354699 24.9995358070213, 121.535262000145 24.9991432075106, 121.53527373423 24.9988640445672, 121.535336316017 24.9981772124037, 121.53536760691 24.9978173994411, 121.535418454611 24.997345918792, 121.535488859121 24.9967450442152, 121.535527972737 24.9964658758237, 121.535512327291 24.995896015837, 121.535477125036 24.9956168455168, 121.535438011419 24.9954156652421, 121.535312847847 24.9950434365527, 121.535215063806 24.9948493454318, 121.534976470745 24.9944522996267, 121.534733966323 24.9940543662718, 121.534155084799 24.9932000016648, 121.533306319321 24.9919760519785, 121.53294647405 24.9915169569183, 121.53287606954 24.9914753014901, 121.532269808485 24.9907237287869, 121.531722217854 24.9899774692685, 121.53102599548 24.9890371049207, 121.530752200165 24.9886843556475, 121.530548809359 24.9885673632027, 121.529938636942 24.9881667518667, 121.52969613252 24.9880089886371, 121.529246325931 24.9875516513893, 121.528956885169 24.9871244472295, 121.528694823938 24.9867238311915, 121.528417117261 24.9863622120539, 121.528237194625 24.986193810622, 121.528084651521 24.9860519987109, 121.527673958548 24.9856123807471, 121.52736887234 24.9853305280805, 121.526367563758 24.9845257376647, 121.525389723346 24.9837271463735, 121.525037700797 24.9834488347603, 121.524161555788 24.9827823024762, 121.523789976432 24.9824632165933, 121.523582674264 24.9823089914531, 121.523328435757 24.9820714489047, 121.523261942609 24.9820076314255, 121.523082019973 24.981798451678, 121.522906008699 24.9814846813895, 121.522784756488 24.9811301377274, 121.522757376957 24.980726843069, 121.522769111042 24.9803917972701, 121.522945122316 24.9795621561254, 121.523125044952 24.9787413731608, 121.523269765332 24.9781439531741, 121.523367549374 24.9777229210249, 121.523653078774 24.9769659459148, 121.523958164983 24.9765590920279, 121.524466641997 24.9760777794829, 121.524603539654 24.9759802757913, 121.525405368792 24.9751860610249, 121.525722189086 24.9748651826225, 121.526113325251 24.974439707207, 121.526387120566 24.9741507376481, 121.526660915881 24.9738741771892, 121.527145924726 24.9734416070196, 121.527716983526 24.972932803275, 121.527896906162 24.9727776797635, 121.528369355217 24.9723702239985, 121.528665378114 24.9721018755509, 121.528691119236 24.9717596332033, 121.528458376596 24.9713668311537, 121.527973585474 24.9707873486125, 121.527317186876 24.970323566156, 121.526728358722 24.970015349175, 121.526320790966 24.9699258980454, 121.526005462227 24.9698928400028, 121.525638114973 24.9699356209974, 121.525225184482 24.9700780621564, 121.524593454459 24.9704285736577, 121.523961724436 24.9708845774173, 121.523125137988 24.9716235138232, 121.522257447684 24.9725199543996, 121.52097039161 24.9738927986728, 121.519952930655 24.974857204972, 121.518490081399 24.9760698019111, 121.517582645496 24.9766601408313, 121.516792550443 24.9770643352147, 121.51545486476 24.9776245322518, 121.513851206484 24.9780074502773, 121.51329579313 24.9780996340684, 121.511793830257 24.9781847267373, 121.509939844836 24.9781209072412, 121.508875954468 24.9780996340684, 121.507733836867 24.978078360892, 121.506001929464 24.9781070043169, 121.505427044418 24.9781925605783, 121.504620392995 24.9783744122665, 121.503697311646 24.9785729612921, 121.502508257705 24.9788424201714, 121.50152259457 24.9791756974422, 121.500615158667 24.9795284739949, 121.50002845442 24.9797553850117, 121.498119709936 24.9807108885279, 121.497650346538 24.9809289337445, 121.496471279233 24.9817080936676, 121.494495648159 24.9832577740717, 121.493191431337 24.9844866159164, 121.491916290362 24.9858694156346, 121.491188777096 24.9865040236073, 121.49022658213 24.9872698031684, 121.489381728014 24.9878636335723, 121.488841960107 24.9881312994732, 121.488239610413 24.9884361897233, 121.487488628976 24.9887410792171, 121.486338688652 24.9890743296595, 121.485274798284 24.9892852696321, 121.484469057784 24.9893561737433, 121.483561621882 24.9893845353764, 121.482497731514 24.9893136312815, 121.48177804097 24.9892001846447, 121.480456000733 24.9888527536681, 121.47968937385 24.9886258594391, 121.478727178885 24.9881862506788, 121.477991842895 24.9877395498444, 121.476450766406 24.9866440623556, 121.474291694776 24.9848731808693, 121.472320368505 24.9832671341635, 121.470161296876 24.9814837950317, 121.467165193853 24.9790445139434, 121.465467662898 24.9776653059871, 121.464521113379 24.9770341979601, 121.463535450244 24.9764899533252, 121.462541964385 24.9760148452909, 121.461712755716 24.9757329706271, 121.460609751731 24.9754493225146, 121.459506747747 24.9752879973588, 121.458192530233 24.9752170851355, 121.457144285311 24.9752099939109, 121.455039972745 24.9752809061383, 121.453342441789 24.9753163622367, 121.452317665038 24.9752809061383, 121.451926528873 24.9752596324744, 121.451081674757 24.9751390816426, 121.450252466087 24.974940527074, 121.449673584564 24.9747366537459, 121.448445417006 24.9742899040542, 121.447976053608 24.974022208025, 121.447350235745 24.9736818254779, 121.446716595158 24.9732137979377, 121.446067309124 24.972667763557, 121.445292859518 24.9719054387771, 121.445144227775 24.9717565189663, 121.444244614596 24.970508422037, 121.443501455883 24.9693223636488, 121.442930397082 24.9683384051882, 121.442179415646 24.9671895572454, 121.441639647738 24.9663988315963, 121.440763502729 24.965265922092, 121.440450593797 24.9649627473571, 121.43993429406 24.9643954008174, 121.438995567264 24.9636241599209, 121.438033372299 24.9628901468549, 121.436789559295 24.9620958475911, 121.436085514198 24.9617501130515, 121.435420582718 24.9614309726145, 121.434474033199 24.9610692791189, 121.433042474836 24.9604965955772, 121.432354075186 24.9602980173803, 121.431477930177 24.9601224881717, 121.430648721508 24.959980646204, 121.429451844843 24.9598246198509, 121.428372309028 24.9597040538971, 121.427597859422 24.9596402248149, 121.426135010166 24.959399092428, 121.425767342171 24.9593157598021, 121.424914665332 24.959081718934, 121.423569156925 24.9585870401806, 121.422434862047 24.9580923594394, 121.421738639673 24.9576313648446, 121.420760799261 24.9568937699023, 121.419743845233 24.9559965931745, 121.419532631704 24.9557660921691, 121.418085427894 24.9540355477619, 121.417060651142 24.9529238019965, 121.416372251492 24.952296113351, 121.415683851842 24.9518350970536, 121.415073679425 24.9514893336978, 121.41399414361 24.9509644808, 121.412797266946 24.9505690664975, 121.411858540151 24.9503350090027, 121.410771181612 24.950214433756, 121.408971955254 24.9501718777584, 121.406734656392 24.9503279163444, 121.404541154025 24.950541179799, 121.402449687904 24.9507979059005, 121.400771152274 24.9511051985608, 121.398113917754 24.9513439333104, 121.395852989249 24.9517290197518, 121.394490854904 24.9518846098916, 121.391438386914 24.9520013023674, 121.38946275584 24.9520829870347, 121.388500681424 24.9521957895814, 121.387865733761 24.9521063255011, 121.387518228621 24.9520985460128, 121.387367535806 24.9516103821381, 121.386547573831 24.9513556026142, 121.384603046612 24.9512836418898, 121.38329561215 24.9512097362373, 121.381814724274 24.9510257201853, 121.380435273999 24.9508241415154, 121.378649875995 24.9504098991993, 121.37758430082 24.9501094119666, 121.37608434422 24.9496718078892, 121.375344571327 24.9494036409971, 121.37371642918 24.948746513259, 121.371579379823 24.9477312581835, 121.371705940337 24.9474973787928, 121.373801964781 24.9448271837512)","wkt0":"LINESTRING (121.373873021002 24.9448541704425, 121.373404049945 24.9454709727553, 121.371667328655 24.9476952767677, 121.372366259628 24.9480309119969, 121.373757185955 24.9486959451966, 121.375550752222 24.9493985476656, 121.376105720539 24.9496228689801, 121.378666209237 24.9503809083974, 121.381028248366 24.9508596562277, 121.381595089312 24.9509296723092, 121.383310627804 24.9511630589602, 121.384944652745 24.9512466890691, 121.3865824316 24.9512914214296, 121.387389523013 24.9515637050128, 121.387835702453 24.9514859097648, 121.388235762382 24.9514684058272, 121.389506730256 24.9514333979446, 121.391065140653 24.951200011806, 121.391795544975 24.9512116811234, 121.392774780138 24.9512272402116, 121.394041457825 24.951118326553, 121.396566232824 24.9508654909027, 121.399790240997 24.9506773860361, 121.400605554503 24.950717814805, 121.403556854634 24.9504853493837, 121.409317954205 24.9500069422849, 121.409995136084 24.9500473710538, 121.411215121161 24.9500708072056, 121.412386573975 24.9502552165736, 121.412812912394 24.9503740186164, 121.413102353156 24.9504515945153, 121.413376148472 24.9505437989488, 121.413708614212 24.9506572812336, 121.414019567463 24.9507667738078, 121.414066503802 24.9507827322315, 121.414168199205 24.9508266178861, 121.414530000158 24.9510127992772, 121.414721656878 24.9511081063089, 121.414827263643 24.9511626307636, 121.414966116981 24.951226464241, 121.415374854274 24.9514764783752, 121.415670162078 24.95165334977, 121.415979159648 24.9518386433397, 121.416427010557 24.9521365309821, 121.416497415067 24.9521750967403, 121.416745786531 24.9523985119292, 121.416882684189 24.9525181984709, 121.417115410207 24.9527185623468, 121.417412673692 24.9530160045792, 121.417608241775 24.9532159243643, 121.417719715582 24.9533267445045, 121.41800133362 24.9536317210155, 121.418089339257 24.9537212633941, 121.418359223211 24.9540528355956, 121.418668220781 24.9544225286819, 121.418863788864 24.9546774123575, 121.419039800138 24.9548826487424, 121.41937617724 24.9552948935789, 121.419612814619 24.9555901132266, 121.419957014444 24.9559123717036, 121.421069249704 24.957014595564, 121.422767257998 24.9580994341966, 121.424492218805 24.9587732470119, 121.427126826913 24.9593459879049, 121.428702819089 24.9595533462889, 121.431644163049 24.959979316435, 121.433552907533 24.9604908332681, 121.4357999848 24.9613737931989, 121.43772437473 24.9624406946646, 121.439496221557 24.9637784084869, 121.44061878235 24.9648151488606, 121.441342384255 24.9656484353483, 121.442130523627 24.9666745223939, 121.443884769326 24.9695200408408, 121.444721800719 24.970787649367, 121.445468870793 24.9717600646781, 121.446000815978 24.9723123080555, 121.447404994809 24.9734549032564, 121.447803953697 24.9736986673447, 121.448069926289 24.9738688587127, 121.448425860199 24.9740390498452, 121.44861751692 24.9741232589123, 121.44904385534 24.9743147235239, 121.449309827932 24.9744175469887, 121.44994737988 24.9746648547976, 121.450620134084 24.9748350448289, 121.450913486207 24.9749050708672, 121.451402406413 24.9749901657461, 121.451531481348 24.9750149850747, 121.452016490192 24.9750965342619, 121.452833964776 24.9751284447987, 121.453178164602 24.9751497184854, 121.454320282203 24.975135536028, 121.455368527124 24.9750929886462, 121.456178178985 24.9750610781002, 121.456620162852 24.9750468956326, 121.457030855825 24.9750291675459, 121.457664496412 24.9750433500155, 121.458290314275 24.9750504412497, 121.45861104593 24.9750539868666, 121.45879879129 24.9750610781002, 121.459303244898 24.9750677739729, 121.459818067327 24.9750833300455, 121.46009263929 24.9751611103794, 121.460539347223 24.9752986341887, 121.460672333519 24.9753190214435, 121.460996976536 24.9753722055708, 121.461591503506 24.9755636682385, 121.461810539758 24.9756230570609, 121.462350307666 24.9757967913621, 121.462702330214 24.9759554566574, 121.463531538884 24.976317106398, 121.463785777391 24.976440315258, 121.464431152063 24.9768019635731, 121.464712770101 24.9769712642572, 121.4652329812 24.9773258199085, 121.465471574261 24.9774880287783, 121.465956583105 24.9778284007932, 121.466136505741 24.9779365396216, 121.466551110076 24.9782840014431, 121.466969625772 24.9786243712553, 121.467352939214 24.9789346033364, 121.467869238951 24.9793582904574, 121.468401184135 24.9797943853003, 121.468698447621 24.9800319322471, 121.468823611193 24.9801338645649, 121.46914825421 24.9804033200242, 121.46945725178 24.980650615798, 121.469965728794 24.9810725242855, 121.470204321855 24.9812657507987, 121.470888810143 24.9818223832771, 121.471017885078 24.9819278595297, 121.471401198519 24.9822434013921, 121.471741486983 24.9825190566824, 121.472265609443 24.9829436178017, 121.472617631992 24.9832343393927, 121.473130020368 24.9836518073046, 121.473243449855 24.9837457595479, 121.473509422447 24.9839655720633, 121.473685433722 24.9841002956688, 121.474119594865 24.9844690121501, 121.474205644821 24.9845239649926, 121.47465545141 24.9848962255366, 121.475132637531 24.9852862115644, 121.475422078293 24.985521975245, 121.475934466669 24.9859438670186, 121.476141768837 24.9861060645211, 121.476591575426 24.986467684412, 121.47683799121 24.9866795151777, 121.477287797799 24.9869764321638, 121.477718047581 24.9872600536898, 121.478339954083 24.9876562364136, 121.478754558417 24.9878849050556, 121.479196542284 24.9881082554117, 121.479767601084 24.9883422410637, 121.480010105506 24.9884406212617, 121.480307368992 24.9885717947365, 121.481187425362 24.988780962961, 121.481934495437 24.9889192265071, 121.482102683988 24.9889334073749, 121.482587692832 24.9889865856143, 121.483107903932 24.9890459679545, 121.483432546948 24.9890849652967, 121.483702430902 24.9890814200843, 121.484277401064 24.9890636940207, 121.484805434887 24.9890069706, 121.485286532369 24.9889289758539, 121.485779363937 24.9888190740822, 121.486233081888 24.9887127174353, 121.486768938434 24.9885709084298, 121.487602058465 24.988230566149, 121.488071421863 24.9880470999974, 121.48863465794 24.9877528445352, 121.48896712368 24.9875835586941, 121.489788509626 24.9870420196998, 121.490156177621 24.9867982820582, 121.490402593405 24.9866112684855, 121.491360877009 24.985802941146, 121.493045564982 24.9840977432432, 121.494025872692 24.9830380589667, 121.495810590448 24.9816380950955, 121.497145780886 24.9808075021063, 121.49743913301 24.9805681839287, 121.49760732156 24.9804618201447, 121.497967166832 24.9802570696015, 121.498432618868 24.979984068347, 121.499265738899 24.979593179132, 121.500298338374 24.9791322650829, 121.500712942709 24.9789691720056, 121.502097564732 24.9785029373418, 121.502754673489 24.9783185702951, 121.503396136799 24.9781572489026, 121.504428736275 24.9779445170724, 121.504905922396 24.9778665153092, 121.505916125726 24.9776558885001, 121.506868547221 24.9776014433758, 121.508308807029 24.977646691892, 121.508598247791 24.9776537829761, 121.510802648622 24.9777492229428, 121.511832293481 24.9776792221174, 121.513307527215 24.9776537829761, 121.514058508652 24.9775474166717, 121.514715617409 24.977391412592, 121.515302321656 24.9772442721992, 121.516491375597 24.9768329872761, 121.517336229713 24.9764022003001, 121.518165438382 24.9759554566574, 121.518423588251 24.9757870409741, 121.519659578532 24.9747517226555, 121.520473141754 24.9739752281981, 121.521036377832 24.9733653752336, 121.521419691273 24.9729469859862, 121.521790889857 24.9724285605401, 121.521958207147 24.9721485448882, 121.52213410481 24.9715573986413, 121.522172716492 24.9710508384956, 121.522112653876 24.9704480194815, 121.522116944063 24.9701125785899, 121.52218987724 24.9698558927682, 121.522318582848 24.9696731010232, 121.522430127707 24.9695642036844, 121.522683248735 24.9694086358903, 121.522923499203 24.9693075167187, 121.523262423969 24.9692647355057, 121.523755795464 24.9692375110896, 121.524533391842 24.9693172397196, 121.525073955393 24.9693872453032, 121.525821520463 24.9695933726239, 121.526902647566 24.9700134045859, 121.527398164155 24.9702788407114, 121.527870084715 24.9706191425986, 121.528318945521 24.9710454909205, 121.528644999727 24.971414959195, 121.529179664271 24.9721431973609, 121.528491433133 24.9726128054169, 121.528252840072 24.9727643834534, 121.527924285694 24.9729700328886, 121.527431454126 24.9734229922855, 121.526879952134 24.9739610456055, 121.52668047269 24.9741028714594, 121.526512284139 24.9742438107397, 121.52625413427 24.9744955509392, 121.52582779585 24.974901525246, 121.525608759598 24.9751213535692, 121.525198066625 24.9755211210049, 121.524947739479 24.9757648809988, 121.524599628293 24.9760946210218, 121.524396237487 24.9762949465182, 121.524052037662 24.9766246851203, 121.523860380941 24.976857806233, 121.523711749199 24.9771520877672, 121.523586585626 24.9774703010435, 121.5234770675 24.9779374260052, 121.523434042522 24.9781147025661, 121.52343013116 24.9783939126314, 121.523398840267 24.9786057573057, 121.523293233502 24.9790844008328, 121.523105488143 24.9798909995991, 121.523019438187 24.980308478861, 121.522968590486 24.9805203202374, 121.522984235932 24.9808101611947, 121.523007704102 24.9809697063843, 121.523031172272 24.9811035469115, 121.52309766542 24.9813198187138, 121.523125044952 24.9813756593223, 121.523187626738 24.9815245674876, 121.523328435757 24.9817479293975, 121.5234770675 24.9819172232732, 121.523676546944 24.9821086757523, 121.523950342259 24.9823169686202, 121.52416546715 24.9824800572578, 121.524509666975 24.9827565983663, 121.524885157693 24.9830783425271, 121.525041612159 24.9832228169039, 121.525413191516 24.9835915360165, 121.52551879828 24.9836615570692, 121.52587473219 24.9839168233541, 121.526109413889 24.984106500042, 121.526789990816 24.9846843916988, 121.527059874769 24.9849033162029, 121.527478390466 24.9852862115647, 121.527580085869 24.985370412931, 121.52767786991 24.9854510689226, 121.527994690203 24.985752420511, 121.528315421858 24.9861175867401, 121.528632242152 24.9865385901485, 121.528964707892 24.9870437923357, 121.529254148654 24.9873735021172, 121.529496653076 24.9876562364138, 121.529606171202 24.9877546171608, 121.52981347337 24.9879602415308, 121.530063800515 24.9881552298399, 121.530259368597 24.9882500649511, 121.530411911702 24.9883316053621, 121.530509695743 24.9883706029309, 121.530826516036 24.988621427907, 121.530967325056 24.9888190740824, 121.53138192939 24.9893331299116, 121.531773065555 24.9898143905758, 121.532023392701 24.9901245944252, 121.532477110652 24.9906811867984, 121.53292300588 24.9912253686247, 121.533055992176 24.991380468867, 121.533243737535 24.9916144482907, 121.53332587613 24.991794363984, 121.533533178297 24.9921098805246, 121.533861732675 24.9926017656508, 121.53422940067 24.9931530291646, 121.534471905092 24.9935110832414, 121.53463227092 24.9937432860703, 121.534804370832 24.9939843511384, 121.53494126849 24.9942041453472, 121.535292108078 24.9946969999781, 121.535487311582 24.9950668832436, 121.53556024476 24.9953293490117, 121.535639613218 24.9956933978251, 121.53567661608 24.9962518631343, 121.535638004397 24.9967622078033, 121.535492770483 24.9976818046277, 121.535461479589 24.9980673189013, 121.535445834143 24.9981869610161, 121.535390782377 24.9988390457225, 121.535375766722 24.9994149938549, 121.535358605975 25.0000944633702, 121.535362896162 25.0006456182857, 121.535390782377 25.0009493842679, 121.535446340826 25.0014982385631, 121.535480876302 25.0018757443697, 121.535506617423 25.0021639546661, 121.535519487984 25.0025415917548, 121.535506617423 25.0030023365919, 121.535471759655 25.003300750575, 121.53539775393 25.0036861603959, 121.535323748206 25.0039478787337, 121.535202550426 25.0043187061759, 121.534955596541 25.0047770142991, 121.534714409515 25.0051348662256, 121.534486893621 25.005542477394, 121.534053389396 25.0063126035552, 121.533928225823 25.0066626436998, 121.533799150889 25.0069798944122, 121.533642696423 25.0073698103665, 121.533458321308 25.0078718858993, 121.533125831822 25.0083802383197, 121.532702712138 25.0089269821214, 121.5321659025 25.0094192924576, 121.531305720024 25.0099271524839, 121.530494874697 25.0102488770791, 121.529425545608 25.0106673121874, 121.529148292279 25.0108427531966, 121.528738579429 25.011247578724, 121.528341737139 25.0117977116354, 121.528017291754 25.0122938983048, 121.527732628973 25.0126574801929, 121.527321936 25.0132804301572, 121.52696600209 25.0138067893992, 121.526551397755 25.014433278014, 121.526320627418 25.0147832950139, 121.526078122996 25.0151652111589, 121.525683075469 25.0157491595341, 121.525452305132 25.0160956283499, 121.52518633254 25.0164917181002, 121.524787373652 25.0171031293, 121.52454486923 25.0174673162634, 121.524329744339 25.0178004887922, 121.524032480854 25.0182523968944, 121.523696103752 25.0187769626445, 121.523396760446 25.019283064975, 121.522815440119 25.0201913066929, 121.522898062867 25.0203363855412, 121.524221548881 25.0207268212288, 121.524771229079 25.0208881553333, 121.525322518098 25.0209197418237, 121.52582779585 25.0201610257057, 121.526348945317 25.0193885166054, 121.526793902177 25.0187884817996, 121.527434362607 25.0181366978579, 121.52766306802 25.0181631085522, 121.530560543444 25.0205517858835, 121.532089885849 25.0218135517516, 121.532535781077 25.0220439289509, 121.533162834684 25.022203118352, 121.533501887404 25.0222494959329, 121.534018187141 25.0222459516775, 121.534970075922 25.0222264435112, 121.536873481144 25.0222822802904, 121.537483653561 25.0224275946346, 121.538006455711 25.0226589300352, 121.537909991981 25.0230017618242, 121.537870878365 25.02340225957, 121.537866967003 25.0238514888935, 121.537892765758 25.0246930540788, 121.537897055945 25.0250322334518, 121.53793137744 25.0256979552836, 121.537961408748 25.0273938288887, 121.537995730244 25.0293870578191, 121.538007528258 25.0306164100804, 121.538024689005 25.0319633384175, 121.538033269379 25.0332781827697, 121.538050430127 25.0343724179543, 121.538062535085 25.0346581926032, 121.538093331996 25.0354063932098, 121.53821507819 25.0359180415048, 121.538277659976 25.0361164975361, 121.538281571338 25.0362502779832, 121.538277659976 25.0365444172611, 121.538258103168 25.0368305822071, 121.538258103168 25.0369430988915, 121.538258103168 25.0371911668075, 121.538078180532 25.0376297142174, 121.538058623724 25.0377679227731, 121.538070357809 25.0383402462886, 121.538117294148 25.0385909692166, 121.538250280444 25.0390091349386, 121.538258103168 25.0390614055537, 121.538260649286 25.0393643777263, 121.538172053211 25.0397338340212, 121.537913144146 25.0404624455689, 121.5376986348 25.0409949563457, 121.53735112966 25.0417529056534, 121.537260705947 25.042000041417, 121.537135542375 25.0423366910151, 121.537026024249 25.04261929878, 121.536939974292 25.0430153029223, 121.536885215229 25.0433510638219, 121.536861747059 25.043708085617, 121.536885215229 25.0444017503017, 121.536916506122 25.0451086995444, 121.536928240207 25.0454479982973, 121.536936062931 25.0457341424688, 121.536936062931 25.0463073146987, 121.536947797016 25.0468237875351, 121.536975176547 25.0476795507737, 121.536975176547 25.0481570392599, 121.536975176547 25.0484219161155, 121.536963442462 25.0489915322977, 121.536959531101 25.0494158636277, 121.536951708377 25.0497400907523, 121.536971265185 25.0501050667081, 121.536979087909 25.0505754588738, 121.536994733355 25.0514701734538, 121.537026024249 25.0518732358093, 121.537033846972 25.0520636933843, 121.537022112887 25.0522833836149, 121.537033846972 25.0526828999204, 121.537049492418 25.0530398945418, 121.537069049227 25.0539593945109, 121.537080783312 25.0542091996693, 121.537088606035 25.0546946351878, 121.537096428758 25.055493650778, 121.53710034012 25.055584890586, 121.53710034012 25.0558400073588, 121.537096428758 25.0562005360593, 121.537104251481 25.0566177559097, 121.537115985566 25.0569995418319, 121.537127719651 25.0575088831477, 121.537135542375 25.0577772830242, 121.537823942025 25.0577631101081, 121.538680530226 25.057741850731, 121.539501916172 25.0577276778108, 121.54063621105 25.057713504889, 121.54153973559 25.0576993319656, 121.542372855621 25.0576851590405, 121.54343674599 25.0576709861137, 121.544074297938 25.0576603564176)","wkt1":"LINESTRING (121.544093854746 25.0578729501648, 121.542529310087 25.0578906662938, 121.541222915297 25.0579083824202, 121.540331124841 25.0579225553194, 121.53921247541 25.0579331849928, 121.538254191806 25.057961530784, 121.537186390076 25.0579757036771, 121.536728760763 25.0579898765686, 121.536736583487 25.0575788620501, 121.536724849402 25.0569410781715, 121.536717026678 25.0562368546165, 121.536677913062 25.0553350882314, 121.536666178977 25.0550170766959, 121.536658356254 25.0545148116707, 121.536646622169 25.0541401046764, 121.53662706536 25.0538654959863, 121.53662706536 25.0532524963038, 121.536623153999 25.0528813288209, 121.536615331276 25.0524605528689, 121.536587951744 25.0520185151026, 121.536580129021 25.0516225400385, 121.536568394936 25.0513789305828, 121.536556660851 25.050777434617, 121.536548838127 25.0503114725322, 121.536521458596 25.0495115372947, 121.536517547234 25.0491297280487, 121.536525369958 25.0487337436535, 121.536529281319 25.048419258491, 121.536517547234 25.0482677738009, 121.536482344979 25.048023271801, 121.536466699533 25.0479107652822, 121.536447142725 25.047443020538, 121.536427585916 25.0470364000775, 121.536415851831 25.0466191476149, 121.536396295023 25.0458803149304, 121.536357181407 25.0453434624892, 121.536337624598 25.0449297478657, 121.536314156429 25.044557669282, 121.536306333705 25.0442582337923, 121.536333713237 25.0438223678082, 121.536357181407 25.0435645682958, 121.536419763193 25.04317919688, 121.536529281319 25.0426414466965, 121.536591863106 25.0423411206089, 121.53669746987 25.0420797743001, 121.536832017043 25.0417606794682, 121.53700362452 25.0412981366309, 121.537264617309 25.0406720383314, 121.53741977265 25.040174811049, 121.537483653561 25.0398233136843, 121.537530589901 25.0395973995578, 121.537578509566 25.0391622544326, 121.53764286237 25.0386297356986, 121.537675310282 25.038193178891, 121.537667487559 25.037910560927, 121.537647930751 25.0377050201805, 121.537488415641 25.0372789935038, 121.53745627403 25.0370795363074, 121.537464096753 25.0368429856262, 121.537424983137 25.0361705413105, 121.537484125454 25.035797047006, 121.53758708994 25.0353694656722, 121.537625701622 25.0349953307825, 121.537616639857 25.0344730238471, 121.537604905772 25.0339848503322, 121.53758065466 25.0333860518583, 121.537572074286 25.0330906263808, 121.537563493912 25.0321606145588, 121.537464819613 25.0299167012126, 121.537443368679 25.0255891075814, 121.53738586952 25.0234811184854, 121.537358489989 25.023292388637, 121.537273906295 25.0230821822255, 121.537113024286 25.0228858633658, 121.536971448118 25.0227945069577, 121.536861747059 25.0227253112904, 121.534374812488 25.0226462956191, 121.533314063773 25.0226812832299, 121.532875392161 25.0226229705396, 121.532410979428 25.0224946825236, 121.531969090175 25.022303222129, 121.531501459802 25.0219650070982, 121.530188964088 25.0207945704922, 121.529105516911 25.0199058347141, 121.527435435153 25.0185021369481, 121.526230239081 25.0200259715184, 121.525725795668 25.0206500415287, 121.525356839593 25.0210660114656, 121.524907978787 25.0210708709192, 121.523297144864 25.0206891276007, 121.522342772622 25.0204135579356, 121.522330112725 25.0203142516846, 121.522475758918 25.0202611525818, 121.522538340704 25.0202292537629, 121.522624390661 25.0201371015728, 121.5235104504 25.0187266481902, 121.52420385186 25.0177265494983, 121.524949271836 25.0165782239946, 121.528037715181 25.0120398438937, 121.528644195316 25.011200438245, 121.528955233868 25.010879688114, 121.529309710562 25.0106245453661, 121.52957409333 25.010476805323, 121.529928033751 25.0103582243705, 121.530828973003 25.0100262942919, 121.531277297535 25.0098202347582, 121.531803381706 25.0095437062085, 121.53244959111 25.0090105729592, 121.532763311028 25.0086757232721, 121.533095800514 25.0082572813784, 121.533346776448 25.0078193981491, 121.533634755245 25.0071594113756, 121.533908669015 25.0064650262218, 121.534080768928 25.0060981480877, 121.534386610502 25.0055867040049, 121.534957741635 25.0046319402796, 121.535172038827 25.0041875283059, 121.535371518271 25.0034803433192, 121.535408479398 25.0031039140715, 121.535433684246 25.0025765850942, 121.535401507844 25.0020764710051, 121.535383252356 25.0016972974373, 121.53532067057 25.001116827116, 121.53527373423 25.0006639697397, 121.535246354699 24.9995358070213, 121.535336316017 24.9981772124037, 121.535488859121 24.9967450442152, 121.535527972737 24.9964658758237, 121.535512327291 24.995896015837, 121.535477125036 24.9956168455168, 121.535438011419 24.9954156652421, 121.535312847847 24.9950434365527, 121.535215063806 24.9948493454318, 121.534976470745 24.9944522996267, 121.534733966323 24.9940543662718, 121.534155084799 24.9932000016648, 121.533306319321 24.9919760519785, 121.532269808485 24.9907237287869, 121.531722217854 24.9899774692685, 121.53102599548 24.9890371049207, 121.530752200165 24.9886843556475, 121.530548809359 24.9885673632027, 121.529938636942 24.9881667518667, 121.52969613252 24.9880089886371, 121.529246325931 24.9875516513893, 121.528956885169 24.9871244472295, 121.528694823938 24.9867238311915, 121.528417117261 24.9863622120539, 121.528237194625 24.986193810622, 121.528084651521 24.9860519987109, 121.527673958548 24.9856123807471, 121.52736887234 24.9853305280805, 121.526367563758 24.9845257376647, 121.525389723346 24.9837271463735, 121.525037700797 24.9834488347603, 121.524161555788 24.9827823024762, 121.523789976432 24.9824632165933, 121.523582674264 24.9823089914531, 121.523328435757 24.9820714489047, 121.523261942609 24.9820076314255, 121.523082019973 24.981798451678, 121.522906008699 24.9814846813895, 121.522784756488 24.9811301377274, 121.522757376957 24.980726843069, 121.522769111042 24.9803917972701, 121.522945122316 24.9795621561254, 121.523125044952 24.9787413731608, 121.523269765332 24.9781439531741, 121.523367549374 24.9777229210249, 121.523653078774 24.9769659459148, 121.523958164983 24.9765590920279, 121.524466641997 24.9760777794829, 121.524603539654 24.9759802757913, 121.525405368792 24.9751860610249, 121.525722189086 24.9748651826225, 121.526113325251 24.974439707207, 121.526660915881 24.9738741771892, 121.527716983526 24.972932803275, 121.527896906162 24.9727776797635, 121.528369355217 24.9723702239985, 121.528665378114 24.9721018755509, 121.528691119236 24.9717596332033, 121.528458376596 24.9713668311537, 121.527973585474 24.9707873486125, 121.527317186876 24.970323566156, 121.526728358722 24.970015349175, 121.526320790966 24.9699258980454, 121.526005462227 24.9698928400028, 121.525638114973 24.9699356209974, 121.525225184482 24.9700780621564, 121.524593454459 24.9704285736577, 121.524004264433 24.9707469007397, 121.523121569645 24.9715150473492, 121.52219170796 24.9724920759313, 121.520897987354 24.9738801303309, 121.519952930655 24.974857204972, 121.518490081399 24.9760698019111, 121.517582645496 24.9766601408313, 121.516792550443 24.9770643352147, 121.51545486476 24.9776245322518, 121.513851206484 24.9780074502773, 121.51329579313 24.9780996340684, 121.511793830257 24.9781847267373, 121.509939844836 24.9781209072412, 121.508875954468 24.9780996340684, 121.507733836867 24.978078360892, 121.506001929464 24.9781070043169, 121.505427044418 24.9781925605783, 121.504620392995 24.9783744122665, 121.503697311646 24.9785729612921, 121.502508257705 24.9788424201714, 121.50152259457 24.9791756974422, 121.500615158667 24.9795284739949, 121.50002845442 24.9797553850117, 121.498119709936 24.9807108885279, 121.497650346538 24.9809289337445, 121.496471279233 24.9817080936676, 121.494495648159 24.9832577740717, 121.493191431337 24.9844866159164, 121.491916290362 24.9858694156346, 121.491188777096 24.9865040236073, 121.49022658213 24.9872698031684, 121.489381728014 24.9878636335723, 121.488841960107 24.9881312994732, 121.488239610413 24.9884361897233, 121.487488628976 24.9887410792171, 121.486338688652 24.9890743296595, 121.485274798284 24.9892852696321, 121.484469057784 24.9893561737433, 121.483561621882 24.9893845353764, 121.482497731514 24.9893136312815, 121.48177804097 24.9892001846447, 121.480456000733 24.9888527536681, 121.47968937385 24.9886258594391, 121.478727178885 24.9881862506788, 121.477991842895 24.9877395498444, 121.476450766406 24.9866440623556, 121.474291694776 24.9848731808693, 121.472320368505 24.9832671341635, 121.470161296876 24.9814837950317, 121.467165193853 24.9790445139434, 121.465467662898 24.9776653059871, 121.464521113379 24.9770341979601, 121.463535450244 24.9764899533252, 121.462541964385 24.9760148452909, 121.461712755716 24.9757329706271, 121.460609751731 24.9754493225146, 121.459506747747 24.9752879973588, 121.458192530233 24.9752170851355, 121.457144285311 24.9752099939109, 121.455039972745 24.9752809061383, 121.453342441789 24.9753163622367, 121.452317665038 24.9752809061383, 121.451926528873 24.9752596324744, 121.451081674757 24.9751390816426, 121.450252466087 24.974940527074, 121.449673584564 24.9747366537459, 121.448445417006 24.9742899040542, 121.447976053608 24.974022208025, 121.447350235745 24.9736818254779, 121.446716595158 24.9732137979377, 121.446067309124 24.972667763557, 121.445292859518 24.9719054387771, 121.445144227775 24.9717565189663, 121.444244614596 24.970508422037, 121.443501455883 24.9693223636488, 121.442930397082 24.9683384051882, 121.442179415646 24.9671895572454, 121.441639647738 24.9663988315963, 121.440763502729 24.965265922092, 121.440450593797 24.9649627473571, 121.43993429406 24.9643954008174, 121.438995567264 24.9636241599209, 121.438033372299 24.9628901468549, 121.436789559295 24.9620958475911, 121.436085514198 24.9617501130515, 121.435420582718 24.9614309726145, 121.434474033199 24.9610692791189, 121.433042474836 24.9604965955772, 121.432354075186 24.9602980173803, 121.431477930177 24.9601224881717, 121.430648721508 24.959980646204, 121.429451844843 24.9598246198509, 121.428372309028 24.9597040538971, 121.427597859422 24.9596402248149, 121.426135010166 24.959399092428, 121.425767342171 24.9593157598021, 121.424914665332 24.959081718934, 121.423569156925 24.9585870401806, 121.422434862047 24.9580923594394, 121.421738639673 24.9576313648446, 121.420760799261 24.9568937699023, 121.419743845233 24.9559965931745, 121.419532631704 24.9557660921691, 121.418085427894 24.9540355477619, 121.417060651142 24.9529238019965, 121.416372251492 24.952296113351, 121.415683851842 24.9518350970536, 121.415073679425 24.9514893336978, 121.41399414361 24.9509644808, 121.412797266946 24.9505690664975, 121.411858540151 24.9503350090027, 121.410771181612 24.950214433756, 121.408971955254 24.9501718777584, 121.406734656392 24.9503279163444, 121.404541154025 24.950541179799, 121.402449687904 24.9507979059005, 121.400771152274 24.9511051985608, 121.398113917754 24.9513439333104, 121.395852989249 24.9517290197518, 121.394490854904 24.9518846098916, 121.391438386914 24.9520013023674, 121.38946275584 24.9520829870347, 121.388500681424 24.9521957895814, 121.387518228621 24.9520985460128, 121.387367535806 24.9516103821381, 121.386547573831 24.9513556026142, 121.384603046612 24.9512836418898, 121.38329561215 24.9512097362373, 121.381814724274 24.9510257201853, 121.380435273999 24.9508241415154, 121.378649875995 24.9504098991993, 121.37758430082 24.9501094119666, 121.37608434422 24.9496718078892, 121.375344571327 24.9494036409971, 121.37371642918 24.948746513259, 121.371579379823 24.9477312581835, 121.371705940337 24.9474973787928, 121.373801964781 24.9448271837512)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0400094300'=='0100020200' || '0400094300'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
