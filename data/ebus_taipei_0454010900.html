
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492803</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454010900">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454010900">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454010900" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454010900" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454010900" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454010900',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="93bLXDAz7TkUhRU1jPPXkLbHxL-AOmCZAjt8mGly4wG9Z2vFupGClKOempTaNUuanvse0o2ule-MPQvmV4y1G-3kxeo1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">F109 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454010900" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454010900" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">捷運淡水站 - 華南銀行</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0520 - 2100 <br>
                        [假日] 0520 - 2100
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> F109班表:0520 0930 1210 1330 1720 1840 1950 2100<br/>F109延駛中寮班表:0810 1450<br/>F109經湖底路班表:0600<br/>F109經湖底路、延駛中寮班表:1620<br/>F109經湖底路、鄒厝崙、延駛中寮班表:1100<br/>F109經鄒厝崙班表:0700<br>
[假日]<br /> F109班表:0520 0930 1210 1330 1720 1840 1950 2100<br/>F109延駛中寮班表:0810 1450<br/>F109經湖底路班表:0600<br/>F109經湖底路、延駛中寮班表:1620<br/>F109經湖底路、鄒厝崙、延駛中寮班表:1100<br/>F109經鄒厝崙班表:0700<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">淡水區公所淡水區公所站:(02)2622-1020</span>
                </li>

            </ul>


            <p> 
<a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454010904" >①延駛中寮</a> <a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454010902" >②經湖底路</a> <a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454010906" >③經湖底路、延駛中寮</a> <a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454010905" >④經湖底路、鄒厝崙、延駛中寮</a> <a style="color:#4CAF50; word-spacing:20px;margin-top:5px;box-shadow: 0 1px;padding-bottom:3px;" href="./StopsOfRoute?routeid=0454010903" >⑤經鄒厝崙</a> </p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">捷運淡水站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514702300" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.16841" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.44588" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">永樂巷口(中山市場)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515100060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.170605" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4430187" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">衛生所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516400200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.172743" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4406719" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">北淡水</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515700200" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.175635" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.44194" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">頂好</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515700500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.177725" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.443641" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">美滿社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515400620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.177847" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4454456" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">正德國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514800120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178286" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.447419" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">台電宿舍</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514800020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.17875" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.449371" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">福德宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516500120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.179717" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.451185" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">北新路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514600220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.180185" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.453396" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">自來水公司</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517001130" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178154" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.455158" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">水源街二段路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517200620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.176069" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4572271" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">水源街二段210號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516200020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.176503" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4595297" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">水源街二段346巷口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516200120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.175422" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4641437" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">淡江農場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516901220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.176218" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4656544" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">湖內</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516901320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178447" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.469203" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">林氏宗親會</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516900660" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178523" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.46042" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">田心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516900560" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178826" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.45832" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">大樹下</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514600060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.18129" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.45463" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">白厝</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514600360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.182933" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.452533" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">地磅</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514600460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.183717" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4487265" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">海岸線別墅</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516900900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.186552" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4517403" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">鄒厝崙</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516901760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.190904" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4626516" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">商工路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517202360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.18832" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.447462" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">淡金濱海路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516901020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.190121" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4471692" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">甕仔雞</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517202500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.193051" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4465853" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">埤島35-2號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514701620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.196407" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.450074" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 28</span>
                                    <span class="auto-list-stationlist-place">埤島橋頭</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514702120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.19747" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4492536" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 29</span>
                                    <span class="auto-list-stationlist-place">下埤島41號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514700220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.197995" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.452031" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 30</span>
                                    <span class="auto-list-stationlist-place">三愛(佑昇)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514700120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.198894" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4521418" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 31</span>
                                    <span class="auto-list-stationlist-place">長田岸</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514701220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.199087" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4543238" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 32</span>
                                    <span class="auto-list-stationlist-place">義山里3鄰</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516800620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.200282" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.457014" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 33</span>
                                    <span class="auto-list-stationlist-place">松益</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516700320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.200302" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4595707" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 34</span>
                                    <span class="auto-list-stationlist-place">工研醋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514700520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.200019" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4606561" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 35</span>
                                    <span class="auto-list-stationlist-place">中寮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517000160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.199222" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4703031" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 36</span>
                                    <span class="auto-list-stationlist-place">埤島56號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514701820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.198568" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.459658" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 37</span>
                                    <span class="auto-list-stationlist-place">下埤島56號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514700420" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.197843" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.461315" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 38</span>
                                    <span class="auto-list-stationlist-place">埤島里總站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514702020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.196183" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4608333" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 39</span>
                                    <span class="auto-list-stationlist-place">工研醋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514700570" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.200177" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.460427" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 40</span>
                                    <span class="auto-list-stationlist-place">松益</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516700360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.200476" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.459387" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 41</span>
                                    <span class="auto-list-stationlist-place">義山里3鄰</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516800660" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.200456" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.457121" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 42</span>
                                    <span class="auto-list-stationlist-place">長田岸</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514701260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.199025" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4539671" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 43</span>
                                    <span class="auto-list-stationlist-place">三愛(佑昇)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514700160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.199045" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.452396" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 44</span>
                                    <span class="auto-list-stationlist-place">林子</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516800140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.19843" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4473208" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 45</span>
                                    <span class="auto-list-stationlist-place">甕仔雞</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517204920" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.19321" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.44617" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 46</span>
                                    <span class="auto-list-stationlist-place">淡金濱海路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517202840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.190072" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4468647" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 47</span>
                                    <span class="auto-list-stationlist-place">商工路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517202340" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.187913" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4467124" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 48</span>
                                    <span class="auto-list-stationlist-place">大樹下</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514900120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.181248" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.454587" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 49</span>
                                    <span class="auto-list-stationlist-place">田心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516900520" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178734" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.458263" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 50</span>
                                    <span class="auto-list-stationlist-place">林氏宗親會</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516900620" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178421" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.460384" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 51</span>
                                    <span class="auto-list-stationlist-place">湖內</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516901320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178447" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.469203" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 52</span>
                                    <span class="auto-list-stationlist-place">淡江農場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516901250" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.17731" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.465842" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 53</span>
                                    <span class="auto-list-stationlist-place">水源街二段346巷口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516200170" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.175596" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.464129" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 54</span>
                                    <span class="auto-list-stationlist-place">水源街二段210號</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516200060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.176662" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.459491" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 55</span>
                                    <span class="auto-list-stationlist-place">水源街二段路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517200650" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.176207" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.45722" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 56</span>
                                    <span class="auto-list-stationlist-place">黃帝神宮</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514901360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.176446" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.454879" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 57</span>
                                    <span class="auto-list-stationlist-place">巧克力花園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514800760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.177243" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.451831" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 58</span>
                                    <span class="auto-list-stationlist-place">台電宿舍</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514800060" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178874" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.449309" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 59</span>
                                    <span class="auto-list-stationlist-place">正德國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514800160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178458" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.447544" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 60</span>
                                    <span class="auto-list-stationlist-place">美滿社區</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515700460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.178083" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.445604" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 61</span>
                                    <span class="auto-list-stationlist-place">頂好</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515700540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.177739" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4434655" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 62</span>
                                    <span class="auto-list-stationlist-place">北淡水</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2517400241" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.175626" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.441793" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 63</span>
                                    <span class="auto-list-stationlist-place">衛生所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2516400240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.173667" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4409324" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 64</span>
                                    <span class="auto-list-stationlist-place">永樂巷口(中山市場)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515100020" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.170424" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4426182" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 65</span>
                                    <span class="auto-list-stationlist-place">華南銀行</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2515100220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.16938" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.444257" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 66</span>
                                    <span class="auto-list-stationlist-place">捷運淡水站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2514702321" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.167281" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4467018" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454010900";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 66;
        var existBackNum = 0;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454010900',
                        url: './StopStatusRecent3OfRoute?routeid=0454010900&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454010900',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454010900',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454010900');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454010900","Name":"F109","BeginStop":"捷運淡水站","GoDirStops":[{"UniStopId":"2514702300","Name":"捷運淡水站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.44588,"Latitude":25.16841,"PublicId":"2514702300"},{"UniStopId":"2515100060","Name":"永樂巷口(中山市場)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4430187,"Latitude":25.170605,"PublicId":"2515100060"},{"UniStopId":"2516400200","Name":"衛生所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4406719,"Latitude":25.172743,"PublicId":"2516400200"},{"UniStopId":"2515700200","Name":"北淡水","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.44194,"Latitude":25.175635,"PublicId":"2515700200"},{"UniStopId":"2515700500","Name":"頂好","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.443641,"Latitude":25.177725,"PublicId":"2515700500"},{"UniStopId":"2515400620","Name":"美滿社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4454456,"Latitude":25.177847,"PublicId":"2515400620"},{"UniStopId":"2514800120","Name":"正德國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.447419,"Latitude":25.178286,"PublicId":"2514800120"},{"UniStopId":"2514800020","Name":"台電宿舍","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.449371,"Latitude":25.17875,"PublicId":"2514800020"},{"UniStopId":"2516500120","Name":"福德宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.451185,"Latitude":25.179717,"PublicId":"2516500120"},{"UniStopId":"2514600220","Name":"北新路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.453396,"Latitude":25.180185,"PublicId":"2514600220"},{"UniStopId":"2517001130","Name":"自來水公司","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.455158,"Latitude":25.178154,"PublicId":"2517001130"},{"UniStopId":"2517200620","Name":"水源街二段路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4572271,"Latitude":25.176069,"PublicId":"2517200620"},{"UniStopId":"2516200020","Name":"水源街二段210號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4595297,"Latitude":25.176503,"PublicId":"2516200020"},{"UniStopId":"2516200120","Name":"水源街二段346巷口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4641437,"Latitude":25.175422,"PublicId":"2516200120"},{"UniStopId":"2516901220","Name":"淡江農場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4656544,"Latitude":25.176218,"PublicId":"2516901220"},{"UniStopId":"2516901320","Name":"湖內","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.469203,"Latitude":25.178447,"PublicId":"2516901320"},{"UniStopId":"2516900660","Name":"林氏宗親會","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.46042,"Latitude":25.178523,"PublicId":"2516900660"},{"UniStopId":"2516900560","Name":"田心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.45832,"Latitude":25.178826,"PublicId":"2516900560"},{"UniStopId":"2514600060","Name":"大樹下","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.45463,"Latitude":25.18129,"PublicId":"2514600060"},{"UniStopId":"2514600360","Name":"白厝","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.452533,"Latitude":25.182933,"PublicId":"2514600360"},{"UniStopId":"2514600460","Name":"地磅","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4487265,"Latitude":25.183717,"PublicId":"2514600460"},{"UniStopId":"2516900900","Name":"海岸線別墅","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4517403,"Latitude":25.186552,"PublicId":"2516900900"},{"UniStopId":"2516901760","Name":"鄒厝崙","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4626516,"Latitude":25.190904,"PublicId":"2516901760"},{"UniStopId":"2517202360","Name":"商工路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.447462,"Latitude":25.18832,"PublicId":"2517202360"},{"UniStopId":"2516901020","Name":"淡金濱海路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4471692,"Latitude":25.190121,"PublicId":"2516901020"},{"UniStopId":"2517202500","Name":"甕仔雞","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4465853,"Latitude":25.193051,"PublicId":"2517202500"},{"UniStopId":"2514701620","Name":"埤島35-2號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.450074,"Latitude":25.196407,"PublicId":"2514701620"},{"UniStopId":"2514702120","Name":"埤島橋頭","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4492536,"Latitude":25.19747,"PublicId":"2514702120"},{"UniStopId":"2514700220","Name":"下埤島41號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.452031,"Latitude":25.197995,"PublicId":"2514700220"},{"UniStopId":"2514700120","Name":"三愛(佑昇)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4521418,"Latitude":25.198894,"PublicId":"2514700120"},{"UniStopId":"2514701220","Name":"長田岸","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4543238,"Latitude":25.199087,"PublicId":"2514701220"},{"UniStopId":"2516800620","Name":"義山里3鄰","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.457014,"Latitude":25.200282,"PublicId":"2516800620"},{"UniStopId":"2516700320","Name":"松益","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4595707,"Latitude":25.200302,"PublicId":"2516700320"},{"UniStopId":"2514700520","Name":"工研醋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4606561,"Latitude":25.200019,"PublicId":"2514700520"},{"UniStopId":"2517000160","Name":"中寮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4703031,"Latitude":25.199222,"PublicId":"2517000160"},{"UniStopId":"2514701820","Name":"埤島56號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.459658,"Latitude":25.198568,"PublicId":"2514701820"},{"UniStopId":"2514700420","Name":"下埤島56號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.461315,"Latitude":25.197843,"PublicId":"2514700420"},{"UniStopId":"2514702020","Name":"埤島里總站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4608333,"Latitude":25.196183,"PublicId":"2514702020"},{"UniStopId":"2514700570","Name":"工研醋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.460427,"Latitude":25.200177,"PublicId":"2514700570"},{"UniStopId":"2516700360","Name":"松益","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.459387,"Latitude":25.200476,"PublicId":"2516700360"},{"UniStopId":"2516800660","Name":"義山里3鄰","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.457121,"Latitude":25.200456,"PublicId":"2516800660"},{"UniStopId":"2514701260","Name":"長田岸","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4539671,"Latitude":25.199025,"PublicId":"2514701260"},{"UniStopId":"2514700160","Name":"三愛(佑昇)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.452396,"Latitude":25.199045,"PublicId":"2514700160"},{"UniStopId":"2516800140","Name":"林子","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4473208,"Latitude":25.19843,"PublicId":"2516800140"},{"UniStopId":"2517204920","Name":"甕仔雞","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.44617,"Latitude":25.19321,"PublicId":"2517204920"},{"UniStopId":"2517202840","Name":"淡金濱海路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4468647,"Latitude":25.190072,"PublicId":"2517202840"},{"UniStopId":"2517202340","Name":"商工路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4467124,"Latitude":25.187913,"PublicId":"2517202340"},{"UniStopId":"2514900120","Name":"大樹下","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.454587,"Latitude":25.181248,"PublicId":"2514900120"},{"UniStopId":"2516900520","Name":"田心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.458263,"Latitude":25.178734,"PublicId":"2516900520"},{"UniStopId":"2516900620","Name":"林氏宗親會","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.460384,"Latitude":25.178421,"PublicId":"2516900620"},{"UniStopId":"2516901320","Name":"湖內","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.469203,"Latitude":25.178447,"PublicId":"2516901320"},{"UniStopId":"2516901250","Name":"淡江農場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.465842,"Latitude":25.17731,"PublicId":"2516901250"},{"UniStopId":"2516200170","Name":"水源街二段346巷口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.464129,"Latitude":25.175596,"PublicId":"2516200170"},{"UniStopId":"2516200060","Name":"水源街二段210號","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.459491,"Latitude":25.176662,"PublicId":"2516200060"},{"UniStopId":"2517200650","Name":"水源街二段路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.45722,"Latitude":25.176207,"PublicId":"2517200650"},{"UniStopId":"2514901360","Name":"黃帝神宮","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.454879,"Latitude":25.176446,"PublicId":"2514901360"},{"UniStopId":"2514800760","Name":"巧克力花園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.451831,"Latitude":25.177243,"PublicId":"2514800760"},{"UniStopId":"2514800060","Name":"台電宿舍","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.449309,"Latitude":25.178874,"PublicId":"2514800060"},{"UniStopId":"2514800160","Name":"正德國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.447544,"Latitude":25.178458,"PublicId":"2514800160"},{"UniStopId":"2515700460","Name":"美滿社區","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.445604,"Latitude":25.178083,"PublicId":"2515700460"},{"UniStopId":"2515700540","Name":"頂好","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4434655,"Latitude":25.177739,"PublicId":"2515700540"},{"UniStopId":"2517400241","Name":"北淡水","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.441793,"Latitude":25.175626,"PublicId":"2517400241"},{"UniStopId":"2516400240","Name":"衛生所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4409324,"Latitude":25.173667,"PublicId":"2516400240"},{"UniStopId":"2515100020","Name":"永樂巷口(中山市場)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4426182,"Latitude":25.170424,"PublicId":"2515100020"},{"UniStopId":"2515100220","Name":"華南銀行","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.444257,"Latitude":25.16938,"PublicId":"2515100220"},{"UniStopId":"2514702321","Name":"捷運淡水站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4467018,"Latitude":25.167281,"PublicId":"2514702321"}],"LastStop":"華南銀行","BackDirStops":null,"RouteMapUrl":"../MapOverview?nid=0454010900","RouteTracks":null,"StopDirection":null,"TicketPrice":"","BusTimeDesc":"0520 - 2100","HeadwayDesc":"F109班表:0520 0930 1210 1330 1720 1840 1950 2100;F109延駛中寮班表:0810 1450;F109經湖底路班表:0600;F109經湖底路、延駛中寮班表:1620;F109經湖底路、鄒厝崙、延駛中寮班表:1100;F109經鄒厝崙班表:0700","HolidayBusTimeDesc":"0520 - 2100","HolidayHeadwayDesc":"F109班表:0520 0930 1210 1330 1720 1840 1950 2100;F109延駛中寮班表:0810 1450;F109經湖底路班表:0600;F109經湖底路、延駛中寮班表:1620;F109經湖底路、鄒厝崙、延駛中寮班表:1100;F109經鄒厝崙班表:0700","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"淡水區公所淡水區公所站:(02)2622-1020","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.44569398929 25.1684407683761, 121.445200106431 25.168686963965, 121.444562486803 25.1692029331421, 121.44427119766 25.1697727470305, 121.444024936522 25.1702888561062, 121.443632347157 25.1705362244884, 121.442838777037 25.1705646679488, 121.44238660244 25.1706341108332, 121.441833869992 25.1709007804997, 121.441065370655 25.1715572719919, 121.440394100306 25.1723566705777, 121.440650842449 25.1727600473282, 121.440843965116 25.1730570629646, 121.440987356233 25.1734207958085, 121.441256534578 25.1740464663557, 121.441515115621 25.1748137315163, 121.441673406351 25.1753610133902, 121.442342887861 25.1762459734267, 121.443220380683 25.1773511853053, 121.443860056004 25.178038385959, 121.444431206423 25.1777388137514, 121.444708523346 25.1776377996028, 121.445047109079 25.1776924295287, 121.445499603192 25.177941595586, 121.446081625088 25.1783048467069, 121.446428168904 25.178397202722, 121.447453848517 25.1784121563714, 121.448305920796 25.1784015790616, 121.448659835622 25.1785135661588, 121.449969540836 25.1791329793324, 121.450708769248 25.1795237674601, 121.452038925223 25.1802507434503, 121.452747037079 25.1805851544304, 121.453081617051 25.1805271420699, 121.45338644647 25.1802871951662, 121.45386143181 25.1798577004917, 121.454416968633 25.1793217737468, 121.455144693736 25.1783202985011, 121.455876299586 25.1772393465358, 121.456671848291 25.1759909707005, 121.457822086839 25.1763382548797, 121.458947125324 25.1765584826794, 121.459524821399 25.1766058213527, 121.460158376958 25.1764861492046, 121.461859148794 25.1761856154299, 121.462838233357 25.1760056205638, 121.463310298934 25.1758808273386, 121.464062588222 25.1755308715671, 121.464301612036 25.1755086761998, 121.464858204962 25.1758681490288, 121.465704012795 25.1764039800899, 121.466237002337 25.1767601587199, 121.466336828104 25.1767834073357, 121.466400948519 25.176767577511, 121.466624638134 25.1769311783672, 121.466822995797 25.1772641279339, 121.467026052195 25.1774942610729, 121.46722430942 25.1776887732213, 121.467326365985 25.1777445543109, 121.467616898785 25.1780076114572, 121.467981282451 25.1783658798705, 121.468152495978 25.1784999511663, 121.468437182815 25.1784922929447, 121.468566534157 25.1784781151938, 121.468776311625 25.1785648883561, 121.468916957461 25.1785896627324, 121.469313671598 25.1784606207005, 121.469184418312 25.1786356355062, 121.468676982938 25.1787767488856, 121.468181650638 25.1788860204818, 121.467857763737 25.1789992723588, 121.467447091676 25.1790086302722, 121.467066764827 25.1790579191916, 121.466700703504 25.1790703638542, 121.466498440259 25.1790418979923, 121.465823727866 25.1788265635229, 121.465390403112 25.1787461885895, 121.464255918857 25.1787554977003, 121.46309092752 25.1788842810889, 121.462756274491 25.1788443242074, 121.462235530578 25.1787474870598, 121.461510824794 25.1786866596748, 121.461131472471 25.1787070661682, 121.460914997658 25.1786830831073, 121.460724342158 25.178472665582, 121.460388051773 25.1785027942355, 121.460070906345 25.178577613681, 121.459772690214 25.1787586088772, 121.459421327722 25.1789082641221, 121.459155315582 25.1789597579149, 121.458609674123 25.1788018407086, 121.458363829408 25.1788025818893, 121.457935914283 25.1790170818496, 121.457624804141 25.179097017054, 121.457088448447 25.1792714326389, 121.456812664062 25.1794086681384, 121.456772898977 25.1795570230024, 121.456679646227 25.1798185439682, 121.456162453945 25.1800366068819, 121.455416553035 25.1802688651744, 121.455189331452 25.1804048000085, 121.455011681207 25.1806439578159, 121.454960536703 25.1807638750551, 121.454932197963 25.1809820993016, 121.454759819646 25.1812051201374, 121.454410685779 25.1814215796006, 121.454175337031 25.1816040440646, 121.453981405638 25.1818057234691, 121.453607752405 25.182169243581, 121.45343993586 25.1823507428921, 121.453353735068 25.1827018864183, 121.453237266288 25.182888078882, 121.4530235305 25.1829571339823, 121.45283123795 25.182999581875, 121.452565454718 25.182964459527, 121.452348074627 25.1828985247662, 121.452230279828 25.1827875629286, 121.452091846415 25.1826166003035, 121.451506386699 25.1824851995644, 121.450430805687 25.1826286280705, 121.450207024957 25.1826628312291, 121.4500122295 25.1828067191788, 121.449765031369 25.18318056781, 121.449610328177 25.18328763754, 121.449311013742 25.1834227996692, 121.449017045271 25.183599380931, 121.448809816126 25.1837169469073, 121.448654501379 25.1837217762855, 121.448412596542 25.183867382231, 121.44817201575 25.1839115644533, 121.447717302471 25.1844701757028, 121.447225895944 25.1852541272789, 121.446983988147 25.1858929154554, 121.44683713316 25.1867391477034, 121.446860821766 25.1876150022814, 121.44697701403 25.1882290601293, 121.447617815175 25.1882341917243, 121.448754811899 25.188365047325, 121.449103566505 25.1884651132777, 121.449617483353 25.188490771201, 121.449921580357 25.1884394553489, 121.450283094278 25.1876530372114, 121.450616963016 25.1870096587281, 121.450770074794 25.1868146560044, 121.451198220693 25.1863835962444, 121.451774516413 25.1864066887702, 121.451383230758 25.1869429473051, 121.451051488572 25.1875382171729, 121.450991945103 25.1878550945585, 121.451008957522 25.1879987795791, 121.453655097652 25.186762056532, 121.45430192403 25.1864515908912, 121.454636501619 25.1863694841431, 121.457454183649 25.1864772492386, 121.457834836542 25.1863694841431, 121.458079390077 25.1870109416397, 121.458229666452 25.1871879833141, 121.458808088725 25.1876831854718, 121.459069654679 25.1878615090719, 121.459242614281 25.1879282199919, 121.460158449546 25.1888108533407, 121.460314396728 25.1889083531439, 121.460459002296 25.1891392734194, 121.460669530991 25.189345818406, 121.461010488238 25.1895626261208, 121.461330888811 25.189903872985, 121.461492506799 25.1902245928505, 121.461642783174 25.1903246572757, 121.461725718721 25.1905209372557, 121.461839134853 25.1906261329318, 121.462046119293 25.1905902124672, 121.462136852199 25.1905312002525, 121.462270116154 25.1905183715064, 121.462423227932 25.1905953439628, 121.462760640925 25.190941719415, 121.462686920439 25.1909423608501, 121.462391861283 25.1906149077878, 121.46226852124 25.1905584613335, 121.462154396257 25.190561027082, 121.461932348736 25.1906559597381, 121.461832223557 25.1906533939916, 121.461673440972 25.1905071463524, 121.461602378677 25.190323374399, 121.461460431299 25.1902181784615, 121.4613000538 25.1899093252297, 121.460978058313 25.1895825108327, 121.460757960132 25.1894311303635, 121.460633202387 25.1893727590306, 121.460409737164 25.1891479329212, 121.460285511057 25.1889282379627, 121.460120171602 25.1888201543121, 121.459348410266 25.1880824888545, 121.45918891883 25.1879375210307, 121.459018794632 25.1878605468949, 121.458751912297 25.1876809403888, 121.458482194558 25.1874480929886, 121.458188375891 25.1871953600449, 121.458042352621 25.1870067721769, 121.457807014147 25.1864454970329, 121.457438057293 25.1865391499795, 121.454635615556 25.186453194538, 121.454296430436 25.1865224720628, 121.453384139424 25.1869759822932, 121.452075955227 25.1875975515638, 121.451080019818 25.1880330971817, 121.450029502895 25.1884827531006, 121.449580800323 25.1885404834122, 121.449064048071 25.1885071281244, 121.448692610239 25.188409628, 121.447591056057 25.1882941672254, 121.44700129217 25.1883121277975, 121.446967736871 25.1893161904461, 121.447057190101 25.1907395326119, 121.446997739432 25.191199538974, 121.446654239761 25.1923649164566, 121.446344605735 25.1932464904456, 121.447021877617 25.1934027709253, 121.447306718269 25.1934859452089, 121.4478273692 25.1938015242825, 121.448390196755 25.1942999066419, 121.448635813566 25.194501311547, 121.448942391548 25.1949900698363, 121.44923585579 25.1952363724828, 121.449914226029 25.195715506673, 121.44999680715 25.1958752176508, 121.45002232578 25.1960952207833, 121.450113058686 25.1962863602084, 121.449857715805 25.1964411214724, 121.449665306336 25.1966312972851, 121.449636304321 25.1967327094809, 121.449367920498 25.1970113689229, 121.449252138835 25.1972226961055, 121.449182440032 25.1974474075513, 121.449217248456 25.1974876293503, 121.449341993255 25.1975076333171, 121.449506396672 25.1975573219348, 121.449667488726 25.1976996690173, 121.449764434948 25.1978625760232, 121.450364079254 25.1980264141251, 121.450635634405 25.1980582615367, 121.450965212329 25.1980090971212, 121.451475901521 25.1978536261762, 121.451743892725 25.1976938674782, 121.451987872149 25.1976054901215, 121.451990335444 25.1981760457051, 121.45197838388 25.1983883209488, 121.452029586287 25.1985699023096, 121.452287724411 25.1988022530331, 121.452284889007 25.198953621855, 121.453036058506 25.1989322101316, 121.453606305148 25.1989125602616, 121.453951793502 25.1989409971008, 121.454257327694 25.1990392259368, 121.454430707743 25.1991794406518, 121.45463437882 25.1995169591604, 121.454792948377 25.1999039475511, 121.454956971744 25.2000239520607, 121.455114135373 25.2000842656408, 121.456055024663 25.2001902013177, 121.45692912022 25.2003183705953, 121.457709694205 25.2003902663513, 121.458933717949 25.2004682395372, 121.459501473995 25.2003596332571, 121.459849242847 25.2002548435568, 121.46073262962 25.2000106217282, 121.461176083209 25.1998929805668, 121.462015524657 25.1995437419849, 121.462961568078 25.1993288412068, 121.463858774524 25.1992913460798, 121.465988707014 25.1992340684196, 121.466687117723 25.1991893663395, 121.467575940611 25.1992049555731, 121.468425701725 25.199334887532, 121.469396220577 25.1992940904014, 121.469936742082 25.1992216427105, 121.470692210721 25.1990991512939, 121.470512853203 25.1991616755387, 121.469334363141 25.1993579053431, 121.468314279532 25.1993573733922, 121.467458544225 25.1992346968211, 121.466571924261 25.1992420337527, 121.465175383341 25.199304865838, 121.463943983848 25.1993194758262, 121.462939698889 25.1993780393388, 121.461965412375 25.199602131507, 121.461166242059 25.199954064094, 121.460788995099 25.200054434629, 121.460528157413 25.1997468317595, 121.460070040331 25.1991559577048, 121.459851287188 25.1989358646172, 121.459677647828 25.1986260012666, 121.459757563714 25.1984200815864, 121.459980105951 25.1981710397929, 121.460276215602 25.1980858862875, 121.460783087517 25.198069369897, 121.460938646968 25.1980876383531, 121.461351358128 25.1978553443314, 121.461361877608 25.1976841429792, 121.461160463808 25.1973309336486, 121.461088867453 25.1968843450035, 121.461090403885 25.1967378691306, 121.460986785573 25.1966346959631, 121.460789886844 25.196505524943, 121.46074757169 25.1963268916202, 121.46056249942 25.1961806866049, 121.460426618207 25.1960155462521, 121.460308762103 25.1957185814481, 121.46008143879 25.1956049737242, 121.459933293278 25.1954159942503, 121.460087596154 25.1955693976336, 121.460281876566 25.1956773382239, 121.460435047204 25.1959699976763, 121.460653584733 25.1962357584999, 121.460833988896 25.1963555321079, 121.461191891462 25.1964260319609, 121.461281540443 25.1965050402712, 121.461152613639 25.1967226290486, 121.461127095302 25.1968262456692, 121.46118068206 25.1972490311291, 121.461340222135 25.197613280273, 121.461397213409 25.1977853298672, 121.461377371928 25.1978810862122, 121.461310862972 25.1978967139502, 121.460899386191 25.1981168294564, 121.460740297172 25.1980906755236, 121.460235515135 25.1981042922655, 121.460002567023 25.1982128143962, 121.459781322396 25.1984611703426, 121.459714301212 25.1986283867521, 121.459867433458 25.1989210592378, 121.460120983007 25.1991748713836, 121.460469084431 25.1996233873867, 121.460768016884 25.1999892503616, 121.460756773657 25.2000691121044, 121.460164790668 25.2002018652448, 121.459432155428 25.2004186784329, 121.458995038583 25.2004884980937, 121.457907951431 25.2004528708708, 121.457131624374 25.2003760603061, 121.455893405823 25.2002245832339, 121.455132496697 25.2001380450871, 121.454780581465 25.199969350533, 121.454676288024 25.199673579886, 121.454428731711 25.1992291866919, 121.454162924893 25.1990491364008, 121.45366030878 25.1989401153182, 121.452959727146 25.1989713739953, 121.452254142603 25.1990200060035, 121.449817113466 25.1989712601588, 121.449161426453 25.1990302682841, 121.448608522809 25.1987634487073, 121.448322147076 25.1986556944817, 121.447501297821 25.1985248499367, 121.446440856987 25.1976576805751, 121.445987192459 25.197006016695, 121.445714993742 25.1964646712137, 121.44560157761 25.1958232635003, 121.445686639709 25.1952023776159, 121.446207173828 25.1932587985682, 121.446509946538 25.1923884843757, 121.446740177798 25.1916770690638, 121.446899098082 25.1909010606391, 121.446826470533 25.1891594485225, 121.446738142648 25.1877754063928, 121.446695453984 25.186861541726, 121.446818620365 25.1859633048994, 121.447050349674 25.185317129414, 121.447539055318 25.1844648398687, 121.44810723837 25.1838070011392, 121.448368068733 25.1838485587559, 121.448850525416 25.1835735206738, 121.449189288695 25.1834399573193, 121.449656305664 25.1832382412916, 121.44976638687 25.1831152464483, 121.44992713648 25.1828333113477, 121.450131501185 25.1826699745378, 121.450388117023 25.1825850974085, 121.450967047842 25.1825313485535, 121.451477169868 25.1824523782207, 121.452126251605 25.182595288154, 121.45218538333 25.1826693654519, 121.452386423178 25.1828762436306, 121.452607656119 25.1829514701669, 121.45291537289 25.1829493843949, 121.45316807656 25.1829039466365, 121.453294722169 25.1827710502623, 121.45341604717 25.1823202807696, 121.453644271147 25.1820884943031, 121.45402387983 25.1817280267063, 121.454315078615 25.1814616221866, 121.454662301344 25.1812261177073, 121.454844871582 25.1810734428112, 121.454936190369 25.1809142769339, 121.454924635411 25.1807564817079, 121.454971080655 25.1806431057016, 121.455236973685 25.1803198132773, 121.455434029743 25.1802189943588, 121.455793062256 25.1801317145144, 121.456479465203 25.1798957169584, 121.456605065603 25.1798409478468, 121.456699139998 25.1797100098656, 121.456744448861 25.1794885222486, 121.456912767201 25.1793370550675, 121.45713914754 25.1792289471123, 121.457693210494 25.1790612290485, 121.45798983698 25.1789822341703, 121.458292687582 25.1788041804515, 121.458548335348 25.1787628346751, 121.459041182208 25.1789118148363, 121.45929220889 25.1789171091832, 121.459583717969 25.178823221071, 121.459844696049 25.1786775735501, 121.460183545357 25.1785167443176, 121.460497435941 25.1784828702056, 121.460721694001 25.1784515198782, 121.460944699426 25.1786715739626, 121.461191443556 25.1786656650168, 121.461548512615 25.178651102367, 121.462004464846 25.1786890971914, 121.462830151303 25.1788305448021, 121.463064302158 25.178843974202, 121.463401469464 25.1788294434395, 121.464285857742 25.1787401745146, 121.465473881457 25.1787304501102, 121.465752924389 25.1787882227451, 121.466336103971 25.1789728762515, 121.466778230664 25.1790603810668, 121.467139419355 25.1790146199173, 121.467491729394 25.1789862028411, 121.467867792117 25.1789715407481, 121.468082495048 25.1788844649048, 121.468518190366 25.1787994640317, 121.469128145943 25.1786423026873, 121.4692603869 25.1784971798377, 121.468818714145 25.1786153738073, 121.468621855258 25.178513670242, 121.468377286524 25.1785250760213, 121.46812229912 25.1785180859062, 121.46801384654 25.1784323386017, 121.467392113517 25.1778173494594, 121.467165504368 25.1776958391463, 121.466861670572 25.1773328906925, 121.466579973439 25.1769208586282, 121.466405420401 25.1767938752209, 121.46626935056 25.1768230878222, 121.465755038891 25.1764572632316, 121.464650944539 25.1757670031052, 121.464270884267 25.1755385200915, 121.46399437302 25.1755929437484, 121.463280874291 25.1759224679471, 121.461552266386 25.1762531797969, 121.460036699345 25.1765211261654, 121.459496208048 25.1766314019341, 121.458984268486 25.1765886948947, 121.457928578357 25.1763936632128, 121.456994706708 25.1761103435707, 121.456261389466 25.1758728939082, 121.455835381027 25.1756905298128, 121.455271975135 25.1754485690412, 121.45530999915 25.1757724999572, 121.455281583675 25.1760749914247, 121.455004988492 25.1763229352726, 121.454569444848 25.1764940318721, 121.454346588558 25.1766081282258, 121.4536627784 25.1767533387905, 121.452886006846 25.1768885785489, 121.452634303675 25.1770122769796, 121.451972973628 25.1771464019251, 121.451723762052 25.1771608631894, 121.451575024182 25.1772541808575, 121.451376430509 25.1774001548957, 121.451331230554 25.1775909645563, 121.451177691824 25.1775753663104, 121.449919284551 25.1782093075284, 121.449387633009 25.178282836522, 121.449482087006 25.1788269924686, 121.449323255803 25.1788495374945, 121.448729972897 25.1785724214966, 121.448353752957 25.1784634012405, 121.447818928861 25.1784436268343, 121.446583656528 25.1784520649828, 121.446178750689 25.1783814384954, 121.445615922075 25.1780647002607, 121.445006396447 25.177720638631, 121.444717348041 25.1776628975066, 121.444386585125 25.1778134670005, 121.443863981088 25.1780985644393, 121.443222315704 25.1774099094076, 121.442414380671 25.176402996916, 121.441577715559 25.1752635960738, 121.441502832412 25.1748831230011, 121.441227210107 25.1741028016522, 121.440919141031 25.1733738381144, 121.440791639643 25.1730659044767, 121.440497109985 25.1725947013834, 121.440329295947 25.1723595736274, 121.4409431788 25.1715255091144, 121.442023457553 25.1706560530043, 121.442387392343 25.1705084547073, 121.44281235691 25.1704760422793, 121.443579488276 25.1704329263438, 121.443830604382 25.1703322626122, 121.444011505637 25.1700800890965, 121.444380711361 25.1692641414112, 121.444860243477 25.1688099113174, 121.445349002354 25.1684859864618, 121.445798400123 25.1682503521268, 121.445951943048 25.1680289119669, 121.446174349811 25.1677949389247, 121.446393485259 25.1676414682424, 121.446952142037 25.1672215734687)","wkt0":"LINESTRING (121.445801267068 25.1683533916885, 121.44494260377 25.1688291375698, 121.444562486803 25.1692029331421, 121.44427119766 25.1697727470305, 121.444039846951 25.1703097515806, 121.44361399637 25.170512813847, 121.442822633709 25.1705406623864, 121.442367774232 25.1705777937723, 121.442056798876 25.1707170364692, 121.441833869992 25.1709007804997, 121.441010157937 25.1715664169206, 121.440458988928 25.1723183274841, 121.440800133536 25.1730702380477, 121.441245710166 25.1740518990611, 121.441424404961 25.1744232129197, 121.441500988444 25.1749036002241, 121.441556685523 25.1751577181461, 121.442338054231 25.1761923800715, 121.443248484291 25.1773113385255, 121.443870435004 25.1780191555684, 121.4446188645 25.1775956256985, 121.444802200717 25.1775515321778, 121.445013385474 25.1776002671217, 121.445232692722 25.1777348683954, 121.44605538499 25.1782605095764, 121.446282814728 25.1783069238087, 121.446505603043 25.1783452155504, 121.448090649077 25.1783382534155, 121.448674308048 25.178492580738, 121.449969540836 25.1791329793324, 121.450708769248 25.1795237674601, 121.452707124659 25.1805487312296, 121.453034344997 25.1805580140761, 121.45338644647 25.1802871951662, 121.45386143181 25.1798577004917, 121.454424451254 25.1792502930806, 121.455023194851 25.1784090351198, 121.456257813431 25.1765048912391, 121.456636089424 25.1759548825861, 121.457845180176 25.1762832632798, 121.458973046021 25.1764967687484, 121.459378010198 25.1765756729434, 121.463180496181 25.1759235529793, 121.464065847662 25.1755081456001, 121.464295598112 25.1754826177723, 121.465346300296 25.1761063090191, 121.466298372237 25.1767416038239, 121.467432620039 25.1776553840226, 121.467937374815 25.1783806064025, 121.468105626408 25.1785221698111, 121.468323773299 25.1785244905227, 121.468599937982 25.1784293413465, 121.468787915623 25.1784363034813, 121.468980534687 25.178498962695, 121.469247416523 25.1784618313091, 121.468987496822 25.1790095192504, 121.468750784237 25.1790257642317, 121.468664917907 25.1789259736323, 121.468502468094 25.1788725972651, 121.468349301127 25.1788818801116, 121.467819018523 25.1790211228085, 121.467499920676 25.1789619446623, 121.466709718371 25.1791180125185, 121.46613418189 25.1788662153082, 121.465680482769 25.1787606229296, 121.465180369416 25.1787466986599, 121.464414534583 25.1787774480889, 121.464045541436 25.1787554013285, 121.463688151847 25.1787925327144, 121.463168312445 25.1788923233138, 121.462577691339 25.1788238623212, 121.461983589165 25.1786869403358, 121.461503782038 25.1786474882384, 121.461131888002 25.1787078267404, 121.461020493844 25.1786869403358, 121.460926505024 25.1785999136502, 121.460798865885 25.1784606709533, 121.460720541868 25.1784496475731, 121.460627713404 25.1784542889964, 121.460309775912 25.1785244905227, 121.460110194713 25.1785836686689, 121.459772690214 25.1787586088772, 121.459421327722 25.1789082641221, 121.459296785292 25.178951791549, 121.459031063812 25.1789575933281, 121.458570982734 25.1787963038708, 121.458470031779 25.1787835399569, 121.458336590861 25.1787951435149, 121.458095817031 25.1789784797326, 121.457743068865 25.1790927747797, 121.457463423115 25.1791507925701, 121.456926758554 25.1793996888909, 121.456860618273 25.1794449427674, 121.456803760839 25.1796062322247, 121.456786355501 25.1797860873749, 121.456717894509 25.1798528078339, 121.45664015067 25.179900382422, 121.456520634021 25.1799143066917, 121.456232865781 25.180075596149, 121.455991511773 25.1801173689581, 121.455465870592 25.180262993612, 121.455402051023 25.1802943232188, 121.455080632464 25.1806232840903, 121.455026095741 25.1807166927329, 121.455025831504 25.1808506453329, 121.454942639584 25.1809856971524, 121.454834598128 25.1811067035826, 121.45457799967 25.1813184648355, 121.454323562042 25.181478906397, 121.453629607526 25.1822094904798, 121.453493265719 25.1824044302555, 121.453379550849 25.1827751639362, 121.453354023022 25.1828505870637, 121.453282080962 25.1829248498354, 121.452911460219 25.1829736599351, 121.452511706832 25.1829072144399, 121.452404745791 25.1828575153703, 121.452318312627 25.1827872884242, 121.452197306197 25.1826219849971, 121.451877503488 25.1825236672725, 121.451489634662 25.182454520741, 121.451146446097 25.1825488945536, 121.45040671927 25.1826161951905, 121.450253552303 25.1826405626624, 121.45004120719 25.1827856071384, 121.449719788631 25.1832451080384, 121.449157596242 25.1834980656045, 121.448954533976 25.1835421591252, 121.448392341587 25.1838554551933, 121.44817201575 25.1839115644533, 121.447735868164 25.1844910621073, 121.44745883534 25.1848875916845, 121.447244461637 25.1852750136834, 121.446983988147 25.1858929154554, 121.446883298859 25.1866397289545, 121.446962203054 25.1882386992578, 121.447617815175 25.1882341917243, 121.448754811899 25.188365047325, 121.449103566505 25.1884651132777, 121.449617483353 25.188490771201, 121.449921580357 25.1884394553489, 121.450283094278 25.1876530372114, 121.450616963016 25.1870096587281, 121.450770074794 25.1868146560044, 121.451198220693 25.1863835962444, 121.451774516413 25.1864066887702, 121.451383230758 25.1869429473051, 121.451051488572 25.1875382171729, 121.450991945103 25.1878550945585, 121.451008957522 25.1879987795791, 121.453655097652 25.186762056532, 121.45430192403 25.1864515908912, 121.454636501619 25.1863694841431, 121.457454183649 25.1864772492386, 121.457834836542 25.1863694841431, 121.458079390077 25.1870109416397, 121.458229666452 25.1871879833141, 121.458808088725 25.1876831854718, 121.459036865591 25.1878406972157, 121.459242614281 25.1879282199919, 121.460158449546 25.1888108533407, 121.460314396728 25.1889083531439, 121.460459002296 25.1891392734194, 121.460669530991 25.189345818406, 121.461010488238 25.1895626261208, 121.461330888811 25.189903872985, 121.461492178481 25.190200860929, 121.461642783174 25.1903246572757, 121.461725718721 25.1905209372557, 121.461839134853 25.1906261329318, 121.461938915467 25.1906243907989, 121.462137916488 25.1905246001994, 121.462270116154 25.1905183715064, 121.462423227932 25.1905953439628, 121.46274072133 25.190944068824, 121.462701269233 25.1909510309588, 121.462391861283 25.1906149077878, 121.46226852124 25.1905584613335, 121.462154396257 25.190561027082, 121.461932348736 25.1906559597381, 121.461832223557 25.1906533939916, 121.461673440972 25.1905071463524, 121.461602378677 25.190323374399, 121.461460431299 25.1902181784615, 121.4613000538 25.1899093252297, 121.460978058313 25.1895825108327, 121.460757960132 25.1894311303635, 121.460633202387 25.1893727590306, 121.460409737164 25.1891479329212, 121.460285511057 25.1889282379627, 121.460120171602 25.1888201543121, 121.459348410266 25.1880824888545, 121.459191192914 25.1879451292384, 121.459018794632 25.1878605468949, 121.458751912297 25.1876809403888, 121.458482194558 25.1874480929886, 121.458188375891 25.1871953600449, 121.458042352621 25.1870067721769, 121.457807014147 25.1864454970329, 121.457438057293 25.1865391499795, 121.454635615556 25.186453194538, 121.454296430436 25.1865224720628, 121.453384139424 25.1869759822932, 121.452075955227 25.1875975515638, 121.451080019818 25.1880330971817, 121.450029502895 25.1884827531006, 121.449580800323 25.1885404834122, 121.449064048071 25.1885071281244, 121.448692610239 25.188409628, 121.447591056057 25.1882941672254, 121.446978448035 25.1882897549133, 121.44700745693 25.1893253724719, 121.447081719702 25.1907410065576, 121.44703530547 25.1912376388434, 121.446668633034 25.1924072774978, 121.44641799618 25.1932473751027, 121.447021877617 25.1934027709253, 121.447160623897 25.1934075042042, 121.447825507775 25.1938263926509, 121.448612229013 25.1945110025775, 121.448938288995 25.1950122762866, 121.44923585579 25.1952363724828, 121.449914226029 25.195715506673, 121.44999680715 25.1958752176508, 121.45002232578 25.1960952207833, 121.450113058686 25.1962863602084, 121.449791150514 25.1964720038929, 121.449686718491 25.1966878300732, 121.449636304321 25.1967327094809, 121.449366460288 25.1969709568903, 121.44919704834 25.1972320369471, 121.449155275531 25.1973550346628, 121.449182440032 25.1974474075513, 121.44921097261 25.1975035602062, 121.449338611749 25.1975174844759, 121.449506396672 25.1975573219348, 121.449776065888 25.1978505065928, 121.449987250645 25.1979410143458, 121.450364079254 25.1980264141251, 121.450635634405 25.1980582615367, 121.450965212329 25.1980090971212, 121.451252038476 25.1979549386155, 121.451513118533 25.1978806758438, 121.451742868983 25.1977391124352, 121.451814811043 25.1976532461054, 121.45194012947 25.1976462839706, 121.452005109395 25.198060530994, 121.451965657298 25.1983227714066, 121.452029586287 25.1985699023096, 121.452287724411 25.1988022530331, 121.452285915501 25.1989888156403, 121.453061586334 25.1989066823038, 121.453624966103 25.1988727800595, 121.453889527227 25.1989006285989, 121.454257327694 25.1990392259368, 121.454427932322 25.1991907175509, 121.454535845412 25.1993311206037, 121.454658843128 25.1996815480577, 121.454709898783 25.1998439978708, 121.454883952155 25.1999960044816, 121.454993025601 25.2000424187139, 121.456175701667 25.2002226912803, 121.456501488151 25.2002257549316, 121.456800859949 25.2002605656058, 121.457081666055 25.2003533940705, 121.457437895288 25.2004021290144, 121.458459008399 25.2004067704376, 121.458988130647 25.2004531846699, 121.459445310836 25.2003998083028, 121.460131081118 25.2001433696692, 121.46073262962 25.2000106217282, 121.461140010493 25.199933345268, 121.461919769596 25.1995550692746, 121.462475580028 25.1993995815963, 121.462949005198 25.1993090738433, 121.463883091623 25.1992649803226, 121.465178048705 25.1992069625322, 121.46670159588 25.1991396618954, 121.467561419534 25.1991582275883, 121.468350461484 25.1993021117085, 121.469036231766 25.1992510560529, 121.46940058349 25.199262659611, 121.469761454146 25.1992603388994, 121.470174540814 25.199141982607, 121.470608513886 25.1991535861651, 121.470592268904 25.1991837554161, 121.470195427218 25.1991744725696, 121.469784661262 25.1992951495736, 121.469414507759 25.1993090738433, 121.469043193901 25.1992835460156, 121.468334216502 25.1993438845176, 121.467537052062 25.1991930382625, 121.466714359794 25.1991767932812, 121.465201255821 25.1992464146297, 121.46393646799 25.1993021117085, 121.462940882707 25.1993554880756, 121.462505749279 25.1994251094241, 121.461933693866 25.1995875592372, 121.461144651916 25.2000029666165, 121.460788995099 25.200054434629, 121.46057897846 25.1998532807172, 121.46027728595 25.199383336615, 121.459977371413 25.1991372018978, 121.459711589432 25.1986639803223, 121.459722393578 25.1985386522338, 121.459860686641 25.1983182476644, 121.459989255974 25.1981858968815, 121.460124699161 25.1980889597113, 121.460657302477 25.1979996123141, 121.460953773386 25.1980558895708, 121.461384845569 25.1978528273044, 121.461435901224 25.1977855266675, 121.461452146205 25.1976648496635, 121.461366279876 25.1975464933711, 121.461224716467 25.1973167429211, 121.461152774407 25.1970196918343, 121.461145812272 25.1968711662909, 121.461090403885 25.1967378691306, 121.460986785573 25.1966346959631, 121.460789886844 25.196505524943, 121.460793064107 25.1963791754283, 121.460637576428 25.1962701019824, 121.460451919499 25.1960983693228, 121.460379977439 25.1959614473375, 121.460234932963 25.1956701980297, 121.460174594461 25.1956771601645, 121.460026068918 25.1955843316999, 121.459903071202 25.1954682961191, 121.459916995472 25.1954404475797, 121.460049276034 25.1955611245837, 121.460204763712 25.1956423494903, 121.460251177944 25.195626104509, 121.460295271465 25.1956771601645, 121.46041014669 25.1959405609329, 121.460479768038 25.1960890864763, 121.460649179986 25.1962376120197, 121.460833988896 25.1963555321079, 121.46111332231 25.1963919393422, 121.461308262085 25.1964429949977, 121.461324507067 25.196507974923, 121.461210792197 25.196737725373, 121.461189905793 25.1968386763283, 121.461189905793 25.1970057675646, 121.461245602872 25.1972796115353, 121.46141501482 25.1975395312362, 121.461500881149 25.1976718117983, 121.461461429052 25.1978203373418, 121.461398769838 25.1978899586902, 121.460959575165 25.1980999830915, 121.460664264612 25.1980460265464, 121.460174014283 25.198120869496, 121.460002567023 25.1982128143962, 121.459873651616 25.1983420167847, 121.459737519382 25.1985451347212, 121.459733197724 25.1986639803223, 121.459990336388 25.1991155936067, 121.460314417336 25.1993763744802, 121.460602185576 25.1998323943127, 121.460768016884 25.1999892503616, 121.460746069696 25.200048220493, 121.460157769302 25.2001886235457, 121.45944415048 25.2004462225351, 121.458997413494 25.2005042403255, 121.458463649822 25.2004555053816, 121.457437895288 25.2004462225351, 121.457090948901 25.2003951668795, 121.456791577103 25.2003093005498, 121.456489884593 25.2002814520104, 121.456162664255 25.2002768105871, 121.454965177061 25.2000865122346, 121.454828255076 25.2000261737326, 121.454658843128 25.1998579221405, 121.454598504626 25.1996722652112, 121.45448943118 25.1993659312779, 121.454388480225 25.1992208868019, 121.454220228633 25.1990723612585, 121.453874442602 25.198942401408, 121.453613362545 25.198912232157, 121.45298096863 25.1989470428312, 121.452254142603 25.1990200060035, 121.451032731228 25.1989331185616, 121.449849168304 25.1989331185616, 121.449161426453 25.1990302682841, 121.448776999538 25.1988634972131, 121.448591342608 25.1987103302464, 121.448182897364 25.1985850118192, 121.447495966726 25.1984875419313, 121.446440856987 25.1976576805751, 121.445987192459 25.197006016695, 121.445727584474 25.1964221085932, 121.44560157761 25.1958232635003, 121.445686639709 25.1952023776159, 121.44629615882 25.1932845064886, 121.446559559589 25.1924003153629, 121.446905345619 25.1912562045363, 121.446961042698 25.1907920622131, 121.446872855657 25.1892557511234, 121.446746376874 25.1866211632615, 121.446818620365 25.1859633048994, 121.447050349674 25.185317129414, 121.447539055318 25.1844648398687, 121.44810723837 25.1838070011392, 121.448384219096 25.1838322480772, 121.448954533976 25.1835003863161, 121.449152954819 25.1834562927954, 121.449686138313 25.1832184198548, 121.45000523616 25.1827705225129, 121.450222222696 25.1826208366137, 121.450368427528 25.1825813845162, 121.451124399337 25.1825140838794, 121.451495133017 25.1824247364822, 121.451885012569 25.1825024803213, 121.452202708269 25.1826014571205, 121.452334070267 25.1827792251815, 121.452411228279 25.1828380679083, 121.452510626418 25.1828931690506, 121.452913667993 25.1829509578411, 121.453272217937 25.1828743743577, 121.453333136617 25.1827653009118, 121.453454973977 25.1823864447405, 121.453587834717 25.1821886040752, 121.454321401214 25.1814686424588, 121.454577459464 25.1813109019337, 121.454820552739 25.1810980602662, 121.454921663718 25.1809737115443, 121.454992338653 25.1808495649183, 121.454987803999 25.1807108909538, 121.455035378587 25.1806099399986, 121.455374202483 25.1802606729004, 121.455449625611 25.1802189000913, 121.455981068571 25.1800645727688, 121.456213139732 25.1800326629841, 121.456420843422 25.1799050238452, 121.456550803272 25.1798586096129, 121.456613462486 25.1798528078339, 121.456686564902 25.1798203178712, 121.456723696288 25.1797570784797, 121.456751544827 25.1796027511573, 121.456811883329 25.1794205752954, 121.456887306457 25.1793602367934, 121.457457621336 25.1791125008284, 121.457716380681 25.1790614451729, 121.458062166712 25.1789500510153, 121.458318025168 25.178746408571, 121.458468871423 25.1787336446571, 121.458573863176 25.1787535518286, 121.459054270928 25.1789134998074, 121.459288662801 25.1789100187399, 121.459844696049 25.1786775735501, 121.460071902972 25.1785314526576, 121.46033530374 25.1784734348672, 121.460625392692 25.1784055540524, 121.460729824715 25.1783939504943, 121.460826714425 25.178414256721, 121.460970598545 25.1785778668899, 121.461047182028 25.1786393657477, 121.461142331204 25.178655610729, 121.461524145143 25.1786012070673, 121.461718497694 25.1785368083035, 121.46226519851 25.1784304034466, 121.462584871722 25.1784359071461, 121.462894913461 25.1783863738507, 121.463366855692 25.1783955466832, 121.46387732382 25.1781176098587, 121.464235522929 25.1780144154932, 121.464567579465 25.1777465687845, 121.464730855883 25.1776713515581, 121.464958342129 25.1776199836962, 121.465164272219 25.1776319083784, 121.465344059735 25.1777236367033, 121.46552614046 25.1777401478018, 121.465700424278 25.1777309749693, 121.465849024164 25.1776612614424, 121.46589305376 25.1775897133489, 121.46592974509 25.1773337913225, 121.465865535262 25.1772058303092, 121.465823340233 25.1770939217529, 121.465493118263 25.1762509384471, 121.465560997224 25.1762981785344, 121.465634379884 25.1764999808492, 121.465871038962 25.1771008013772, 121.46588755006 25.1772338074483, 121.465964601853 25.1773255357732, 121.465915068558 25.1775998034647, 121.465872873528 25.1776805243906, 121.465718311301 25.177744734218, 121.465523847252 25.17775941075, 121.465340390602 25.1777428996515, 121.465171610485 25.1776585095926, 121.464969349528 25.1776419984941, 121.464736359583 25.1776896972231, 121.464570789956 25.1777823428312, 121.464253409952 25.1780336784415, 121.463880992953 25.1781565943968, 121.463374193958 25.1784161855563, 121.462893078894 25.1784051781573, 121.462608262445 25.1784547114527, 121.462254191111 25.1784547114527, 121.461721708185 25.1785519434771, 121.461607965062 25.1786106496051, 121.461999834146 25.1786370450361, 121.46259393632 25.1787832498679, 121.463170633157 25.1788435883699, 121.463681189712 25.1787530806169, 121.464054824282 25.1787136285194, 121.464442383122 25.1787275527891, 121.465172246925 25.1787026051392, 121.465680482769 25.1787165294089, 121.466150426871 25.1788221217875, 121.466716680506 25.1790681172187, 121.467473232492 25.1789184313195, 121.467820178879 25.1789665860855, 121.468082495048 25.1788844649048, 121.46835394255 25.1788261830328, 121.468509430229 25.1788192208979, 121.468692766446 25.1788725972651, 121.468764708506 25.1789723878646, 121.468955006859 25.1789607843065, 121.46915690877 25.1785268112343, 121.46897125184 25.1785453769273, 121.468767029218 25.1784873591369, 121.468579051577 25.1784943212717, 121.468330735434 25.1785755461783, 121.468063853598 25.1785476976389, 121.467893281295 25.1784014928071, 121.467423337192 25.1776971568317, 121.466237453557 25.1767503064924, 121.465332956205 25.1761451809386, 121.464281673843 25.1755151077349, 121.46405239081 25.1755511709393, 121.463196741162 25.1759514015187, 121.459401217315 25.1766058421944, 121.45894287677 25.176529258711, 121.457861425157 25.1763250360888, 121.456261389466 25.1758728939082, 121.455656749122 25.1755800876602, 121.455315024337 25.1754350431842, 121.455292397399 25.1755893705066, 121.455301100067 25.1758597334099, 121.45522567694 25.1760598947867, 121.455104999936 25.1762293067347, 121.454921663718 25.1763267766226, 121.454506256339 25.1764642787858, 121.454327561544 25.1765965593479, 121.453726497236 25.1767033120822, 121.452989671298 25.1768216683746, 121.452841145754 25.1768704033185, 121.45264852669 25.1769678732064, 121.451858324385 25.1771790579634, 121.451695874572 25.1771558508473, 121.451408106332 25.1773438284882, 121.451323400358 25.1775515321778, 121.451217807979 25.1775573339568, 121.449919284551 25.1782093075284, 121.449418096121 25.1782547077974, 121.449501641739 25.1788441685478, 121.449323255803 25.1788495374945, 121.448652261288 25.1785239103448, 121.448086007654 25.1783823469362, 121.44650096162 25.1783869883595, 121.446268890459 25.1783579794643, 121.445960235814 25.1782790752693, 121.445615922075 25.1780647002607, 121.445011064763 25.1776722091818, 121.444795238582 25.177616512103, 121.444646713039 25.177646681354, 121.443863981088 25.1780985644393, 121.443229918598 25.1773693563159, 121.442409547041 25.1763494035608, 121.441507950579 25.1751600388577, 121.441447612077 25.1748977984451, 121.441359425035 25.1744232129197, 121.441196975222 25.1741006340051, 121.440737474322 25.1730911244522, 121.440380084733 25.1722846771657, 121.440977667974 25.1715316062464, 121.442023457553 25.1706560530043, 121.442387392343 25.1705084547073, 121.44281235691 25.1704760422793, 121.443611675658 25.1704571167683, 121.443976809214 25.1702812069567, 121.444501668563 25.1691865271586, 121.444860243477 25.1688099113174, 121.445768777105 25.1683046567446, 121.445951943048 25.1680289119669, 121.446174349811 25.1677949389247, 121.446393485259 25.1676414682424, 121.446952142037 25.1672215734687)","wkt1":null,"CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454010900'=='0100020200' || '0454010900'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
