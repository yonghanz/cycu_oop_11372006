
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231492499</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0111001000">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0111001000">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0111001000" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0111001000" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0111001000" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0111001000',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="hoUywHFQYD12ayzSt21svblC5GK996_WRVi0zcI1XpvQCNT6ZdlBHZZLBKDN66nTCEnzpnZgpLgs4wEwyBPiuGm86Ec1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/taipei_city.svg" width="100%" class="vipstop-city" alt="臺北市">                
 <span class="stationlist-title">紅10 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0111001000" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0111001000" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">臺北市公共運輸處公車申訴服務電話02-27291181</a>                </div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">台北海大 - 捷運劍潭站</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0530 - 2340 <br>
                        [假日] 0530 - 2340
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 尖峰:12分至15分<br/>離峰:15分至20分<br/>班表:2000 2030 2100 2130 2200 2240 2340<br/>20:00後固定班次20:00、20:30、21:00、21:30、22:00、22:40、23:40<br>
[假日]<br /> 尖峰:15分至20分<br/>離峰:15分至20分<br/>班表:2000 2030 2100 2130 2200 2240 2340<br/>20:00後固定班次20:00、20:30、21:00、21:30、22:00、22:40、23:40<br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content">一段票</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">光華巴士海專站:02-2810-8193</span>
                </li>

            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 捷運劍潭站</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 台北海大</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">富洲里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401420" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="25.109126" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.468652" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">台北海大</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.108188" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4708548" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">浮線</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106587" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4725103" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">富洲里九段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10614" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.47427" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">威靈廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105857" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4762383" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">下溪沙尾</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10581" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.47886" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">建安新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400920" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105952" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4812673" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">富安國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105912" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4831859" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">富洲里八段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401640" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10563" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48448" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">福安國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.103238" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4872193" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">臨江園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117402040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.1017" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48915" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">地藏禪寺</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09956" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49168" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">下竹圍</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09816" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49333" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">福安區民活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117201040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09707" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49461" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">福安里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09612" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49561" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">普濟堂</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.094151" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4974417" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">社子國小二</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200540" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090017" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5020824" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">社子國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200440" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089646" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5028759" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">永倫里(南)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200720" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089298" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.504244" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">社子派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200320" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089332" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5056145" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">社子市場二</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200240" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.088796" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5081045" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">社子市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200140" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.088046" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5087166" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">陽明高中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116301120" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09192" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.51817" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">士林區行政中心(中正)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116300220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.092849" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.519562" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">士林國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116200220" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.094604" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5233015" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">捷運士林站(中正)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1114500820" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09525" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.52607" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">捷運士林站(中山)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116300940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.093012" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5277552" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 28</span>
                                    <span class="auto-list-stationlist-place">台電台北北區營業處</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116300740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090699" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5273919" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 29</span>
                                    <span class="auto-list-stationlist-place">銘傳大學</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1114100740" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.087885" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5268976" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 30</span>
                                    <span class="auto-list-stationlist-place">捷運劍潭站(中山)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116301040" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.085353" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.525327" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 31</span>
                                    <span class="auto-list-stationlist-place">捷運劍潭站(北藝中心)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116200500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.084914" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.524923" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">小北街</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116300500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.090706" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.526903" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">士林區農會</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116300300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.092863" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5256716" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">士林國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116200260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.094828" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.523269" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">士林區行政中心(中正)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116300260" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.093698" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5202937" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">陽明高中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1116500860" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.092141" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.517889" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">社子市場</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.087505" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5090743" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">社園里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089056" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5079873" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">社子派出所</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089599" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5064251" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 9</span>
                                    <span class="auto-list-stationlist-place">永倫里(南)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200760" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089467" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.503968" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 10</span>
                                    <span class="auto-list-stationlist-place">社子國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.089904" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.5025776" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 11</span>
                                    <span class="auto-list-stationlist-place">永倫里(延平)</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117500100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.091148" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.500682" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 12</span>
                                    <span class="auto-list-stationlist-place">洲美橋</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117500500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.092658" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4992219" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 13</span>
                                    <span class="auto-list-stationlist-place">中窟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400300" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09534" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49649" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 14</span>
                                    <span class="auto-list-stationlist-place">福安里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09636" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49544" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 15</span>
                                    <span class="auto-list-stationlist-place">福安區民活動中心</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117201000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.09717" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49455" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 16</span>
                                    <span class="auto-list-stationlist-place">下竹圍</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117200000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.0982" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.49333" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 17</span>
                                    <span class="auto-list-stationlist-place">地藏禪寺</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.099749" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4915352" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 18</span>
                                    <span class="auto-list-stationlist-place">臨江園</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117402000" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10163" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48928" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 19</span>
                                    <span class="auto-list-stationlist-place">福安國中</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10333" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48729" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 20</span>
                                    <span class="auto-list-stationlist-place">富洲里八段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401600" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10576" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48446" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 21</span>
                                    <span class="auto-list-stationlist-place">富安國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401360" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10596" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4833" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 22</span>
                                    <span class="auto-list-stationlist-place">建安新村</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400960" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10601" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.48116" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 23</span>
                                    <span class="auto-list-stationlist-place">下溪沙尾</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400160" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.10597" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.47884" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 24</span>
                                    <span class="auto-list-stationlist-place">威靈廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.105957" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4764835" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 25</span>
                                    <span class="auto-list-stationlist-place">富洲里九段</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106223" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4742815" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 26</span>
                                    <span class="auto-list-stationlist-place">浮線</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401100" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.106667" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4725864" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 27</span>
                                    <span class="auto-list-stationlist-place">台北海大</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117400400" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.108525" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.4706761" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 28</span>
                                    <span class="auto-list-stationlist-place">富洲里</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="1117401460" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="25.109244" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.468346" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0111001000";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 31;
        var existBackNum = 28;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0111001000',
                        url: './StopStatusRecent3OfRoute?routeid=0111001000&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0111001000',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0111001000',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0111001000');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0111001000","Name":"紅10","BeginStop":"台北海大","GoDirStops":[{"UniStopId":"1117401420","Name":"富洲里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.468652,"Latitude":25.109126,"PublicId":"1117401420"},{"UniStopId":"1117400440","Name":"台北海大","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4708548,"Latitude":25.108188,"PublicId":"1117400440"},{"UniStopId":"1117401140","Name":"浮線","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4725103,"Latitude":25.106587,"PublicId":"1117401140"},{"UniStopId":"1117401540","Name":"富洲里九段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.47427,"Latitude":25.10614,"PublicId":"1117401540"},{"UniStopId":"1117400840","Name":"威靈廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4762383,"Latitude":25.105857,"PublicId":"1117400840"},{"UniStopId":"1117400120","Name":"下溪沙尾","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.47886,"Latitude":25.10581,"PublicId":"1117400120"},{"UniStopId":"1117400920","Name":"建安新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4812673,"Latitude":25.105952,"PublicId":"1117400920"},{"UniStopId":"1117401320","Name":"富安國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4831859,"Latitude":25.105912,"PublicId":"1117401320"},{"UniStopId":"1117401640","Name":"富洲里八段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48448,"Latitude":25.10563,"PublicId":"1117401640"},{"UniStopId":"1117401940","Name":"福安國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4872193,"Latitude":25.103238,"PublicId":"1117401940"},{"UniStopId":"1117402040","Name":"臨江園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48915,"Latitude":25.1017,"PublicId":"1117402040"},{"UniStopId":"1117400540","Name":"地藏禪寺","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49168,"Latitude":25.09956,"PublicId":"1117400540"},{"UniStopId":"1117200040","Name":"下竹圍","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49333,"Latitude":25.09816,"PublicId":"1117200040"},{"UniStopId":"1117201040","Name":"福安區民活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49461,"Latitude":25.09707,"PublicId":"1117201040"},{"UniStopId":"1117200940","Name":"福安里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49561,"Latitude":25.09612,"PublicId":"1117200940"},{"UniStopId":"1117200840","Name":"普濟堂","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4974417,"Latitude":25.094151,"PublicId":"1117200840"},{"UniStopId":"1117200540","Name":"社子國小二","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5020824,"Latitude":25.090017,"PublicId":"1117200540"},{"UniStopId":"1117200440","Name":"社子國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5028759,"Latitude":25.089646,"PublicId":"1117200440"},{"UniStopId":"1117200720","Name":"永倫里(南)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.504244,"Latitude":25.089298,"PublicId":"1117200720"},{"UniStopId":"1117200320","Name":"社子派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5056145,"Latitude":25.089332,"PublicId":"1117200320"},{"UniStopId":"1117200240","Name":"社子市場二","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5081045,"Latitude":25.088796,"PublicId":"1117200240"},{"UniStopId":"1117200140","Name":"社子市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5087166,"Latitude":25.088046,"PublicId":"1117200140"},{"UniStopId":"1116301120","Name":"陽明高中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.51817,"Latitude":25.091919999999998,"PublicId":"1116301120"},{"UniStopId":"1116300220","Name":"士林區行政中心(中正)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.519562,"Latitude":25.092849,"PublicId":"1116300220"},{"UniStopId":"1116200220","Name":"士林國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5233015,"Latitude":25.094604,"PublicId":"1116200220"},{"UniStopId":"1114500820","Name":"捷運士林站(中正)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.52607,"Latitude":25.09525,"PublicId":"1114500820"},{"UniStopId":"1116300940","Name":"捷運士林站(中山)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5277552,"Latitude":25.093012,"PublicId":"1116300940"},{"UniStopId":"1116300740","Name":"台電台北北區營業處","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5273919,"Latitude":25.090699,"PublicId":"1116300740"},{"UniStopId":"1114100740","Name":"銘傳大學","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5268976,"Latitude":25.087885,"PublicId":"1114100740"},{"UniStopId":"1116301040","Name":"捷運劍潭站(中山)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.525327,"Latitude":25.085353,"PublicId":"1116301040"},{"UniStopId":"1116200500","Name":"捷運劍潭站(北藝中心)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.524923,"Latitude":25.084914,"PublicId":"1116200500"}],"LastStop":"捷運劍潭站","BackDirStops":[{"UniStopId":"1116300500","Name":"小北街","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.526903,"Latitude":25.090706,"PublicId":"1116300500"},{"UniStopId":"1116300300","Name":"士林區農會","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5256716,"Latitude":25.092863,"PublicId":"1116300300"},{"UniStopId":"1116200260","Name":"士林國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.523269,"Latitude":25.094828,"PublicId":"1116200260"},{"UniStopId":"1116300260","Name":"士林區行政中心(中正)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5202937,"Latitude":25.093698,"PublicId":"1116300260"},{"UniStopId":"1116500860","Name":"陽明高中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.517889,"Latitude":25.092141,"PublicId":"1116500860"},{"UniStopId":"1117200100","Name":"社子市場","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5090743,"Latitude":25.087505,"PublicId":"1117200100"},{"UniStopId":"1117200600","Name":"社園里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5079873,"Latitude":25.089056,"PublicId":"1117200600"},{"UniStopId":"1117200360","Name":"社子派出所","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5064251,"Latitude":25.089599,"PublicId":"1117200360"},{"UniStopId":"1117200760","Name":"永倫里(南)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.503968,"Latitude":25.089467,"PublicId":"1117200760"},{"UniStopId":"1117200400","Name":"社子國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.5025776,"Latitude":25.089904,"PublicId":"1117200400"},{"UniStopId":"1117500100","Name":"永倫里(延平)","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.500682,"Latitude":25.091148,"PublicId":"1117500100"},{"UniStopId":"1117500500","Name":"洲美橋","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4992219,"Latitude":25.092658,"PublicId":"1117500500"},{"UniStopId":"1117400300","Name":"中窟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49649,"Latitude":25.09534,"PublicId":"1117400300"},{"UniStopId":"1117200900","Name":"福安里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49544,"Latitude":25.09636,"PublicId":"1117200900"},{"UniStopId":"1117201000","Name":"福安區民活動中心","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49455,"Latitude":25.09717,"PublicId":"1117201000"},{"UniStopId":"1117200000","Name":"下竹圍","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.49333,"Latitude":25.0982,"PublicId":"1117200000"},{"UniStopId":"1117400500","Name":"地藏禪寺","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4915352,"Latitude":25.099749,"PublicId":"1117400500"},{"UniStopId":"1117402000","Name":"臨江園","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48928,"Latitude":25.10163,"PublicId":"1117402000"},{"UniStopId":"1117401900","Name":"福安國中","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48729,"Latitude":25.10333,"PublicId":"1117401900"},{"UniStopId":"1117401600","Name":"富洲里八段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48446,"Latitude":25.10576,"PublicId":"1117401600"},{"UniStopId":"1117401360","Name":"富安國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4833,"Latitude":25.10596,"PublicId":"1117401360"},{"UniStopId":"1117400960","Name":"建安新村","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.48116,"Latitude":25.10601,"PublicId":"1117400960"},{"UniStopId":"1117400160","Name":"下溪沙尾","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.47884,"Latitude":25.10597,"PublicId":"1117400160"},{"UniStopId":"1117400800","Name":"威靈廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4764835,"Latitude":25.105957,"PublicId":"1117400800"},{"UniStopId":"1117401500","Name":"富洲里九段","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4742815,"Latitude":25.106223,"PublicId":"1117401500"},{"UniStopId":"1117401100","Name":"浮線","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4725864,"Latitude":25.106667,"PublicId":"1117401100"},{"UniStopId":"1117400400","Name":"台北海大","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.4706761,"Latitude":25.108525,"PublicId":"1117400400"},{"UniStopId":"1117401460","Name":"富洲里","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.468346,"Latitude":25.109244,"PublicId":"1117401460"}],"RouteMapUrl":"../MapOverview?nid=0111001000","RouteTracks":null,"StopDirection":null,"TicketPrice":"一段票","BusTimeDesc":"0530 - 2340","HeadwayDesc":"尖峰:12分至15分;離峰:15分至20分;班表:2000 2030 2100 2130 2200 2240 2340;20:00後固定班次20:00、20:30、21:00、21:30、22:00、22:40、23:40","HolidayBusTimeDesc":"0530 - 2340","HolidayHeadwayDesc":"尖峰:15分至20分;離峰:15分至20分;班表:2000 2030 2100 2130 2200 2240 2340;20:00後固定班次20:00、20:30、21:00、21:30、22:00、22:40、23:40","RouteNote":"","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"光華巴士海專站:02-2810-8193","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"MULTILINESTRING ((121.469337 25.109096666666666, 121.469337 25.109097, 121.469332 25.1091, 121.469335 25.109098, 121.469337 25.109096666666666), (121.469652 25.109036, 121.4696785531915 25.109031097872339, 121.469668 25.109034, 121.469338 25.109096, 121.469337 25.109096666666666, 121.469337 25.109096), (121.47041094342038 25.1087615869722, 121.470297 25.108872, 121.47023 25.108907, 121.47015 25.108946, 121.470076 25.108966, 121.469717 25.109024, 121.4696785531915 25.109031097872339, 121.469748 25.109012, 121.470078 25.108928, 121.47016 25.108903, 121.470252 25.108883, 121.470328 25.10884, 121.47041094342038 25.1087615869722), (121.475508 25.105948666666666, 121.475423 25.105972, 121.475324 25.106006, 121.475234 25.106034, 121.475138 25.106057, 121.475038 25.106069, 121.474933 25.10609, 121.474829 25.106106, 121.474732 25.106117, 121.474639 25.106127999999998, 121.474539 25.106136, 121.474437 25.106166, 121.474334 25.106185, 121.474236 25.106206, 121.474127 25.106218, 121.474023 25.106227, 121.473925 25.10624, 121.47383 25.106251, 121.473736 25.106268, 121.473641 25.106282, 121.473543 25.106286, 121.473446 25.106296, 121.473357 25.1063, 121.473259 25.106299, 121.47317 25.106294, 121.473086 25.106297, 121.473001 25.106313, 121.47041094342038 25.1087615869722, 121.472879 25.10637, 121.472947 25.106329, 121.473006 25.10629, 121.473061 25.10625, 121.473101 25.106222, 121.473161 25.106201, 121.473228 25.106199, 121.473304 25.106201, 121.473384 25.106209, 121.473459 25.106214, 121.473535 25.106217, 121.473617 25.106217, 121.473699 25.10621, 121.473788 25.1062, 121.473868 25.10619, 121.473948 25.106181, 121.474029 25.106166, 121.474106 25.106151, 121.474398 25.106127, 121.474454 25.106121, 121.474506 25.106113, 121.474553 25.106104, 121.474612 25.106094, 121.474683 25.106086, 121.474759 25.106076, 121.474864 25.106072, 121.474967 25.106056, 121.475057 25.106042, 121.475149 25.106025, 121.475239 25.106005, 121.475326 25.105986, 121.475405 25.105966, 121.475484 25.105949, 121.475508 25.105948666666666), (121.4858027618199 25.104531347011513, 121.485739 25.104586, 121.485664 25.104654, 121.485591 25.104722, 121.485518 25.104785, 121.485443 25.10485, 121.485375 25.104915, 121.485304 25.104979, 121.485229 25.105043, 121.48515 25.105104999999998, 121.485081 25.105171, 121.485011 25.105235, 121.484941 25.105292, 121.484876 25.105349, 121.484814 25.105406, 121.484761 25.105462, 121.484713 25.105512, 121.484653 25.105558, 121.484597 25.105602, 121.484545 25.105644, 121.484499 25.105683, 121.484461 25.105716, 121.484433 25.105735, 121.484417 25.105745, 121.48442132584269 25.105747752808991, 121.484426 25.105746, 121.484432 25.105743, 121.484433 25.105743, 121.484433 25.105744, 121.484432 25.105745, 121.484433 25.10575, 121.484428 25.105752, 121.48442132584269 25.105747752808991, 121.484402 25.105755, 121.484373 25.105771, 121.484334 25.105796, 121.48429 25.105826, 121.484242 25.10586, 121.484191 25.105891, 121.476671 25.105884, 121.47662799336685 25.105883210887466, 121.475981 25.105884, 121.475897 25.105896, 121.475817 25.105911, 121.475733 25.105927, 121.475648 25.105938, 121.475556 25.105948, 121.475508 25.105948666666666, 121.475525 25.105944, 121.475618 25.105922, 121.475725 25.105909, 121.47582 25.105887, 121.475923 25.105877, 121.476026 25.105872, 121.476134 25.105873, 121.476238 25.105873, 121.476346 25.105877, 121.476454 25.105878, 121.476562 25.105882, 121.47662799336685 25.105883210887466, 121.48418 25.105874, 121.4858027618199 25.104531347011513), (121.48583038263219 25.104508493894247, 121.4858027618199 25.104531347011513, 121.485816 25.10452, 121.48583038263219 25.104508493894247), (121.48591942354774 25.104434822545873, 121.485896 25.104456, 121.48583038263219 25.104508493894247, 121.48591942354774 25.104434822545873), (121.48719785443959 25.103377064693515, 121.48591942354774 25.104434822545873, 121.485969 25.10439, 121.486043 25.104325, 121.486119 25.104259, 121.486195 25.104199, 121.486269 25.104134, 121.486345 25.104071, 121.48643 25.104009, 121.486503 25.103947, 121.486569 25.103881, 121.486638 25.103816, 121.486711 25.103753, 121.486783 25.103696, 121.486854 25.103647, 121.486912 25.103596, 121.486963 25.103545, 121.487008 25.103503, 121.487051 25.103464, 121.4871 25.103432, 121.487148 25.103402, 121.487189 25.103381, 121.48719785443959 25.103377064693515), (121.48807232525579 25.102653538393906, 121.488061 25.102663, 121.487985 25.102728, 121.487911 25.102792, 121.487835 25.102854, 121.487773 25.102918, 121.48771 25.102977, 121.487651 25.103038, 121.487592 25.103092, 121.487532 25.103139, 121.48748 25.103185, 121.487433 25.103226, 121.487395 25.103266, 121.487363 25.103299, 121.487332 25.103322, 121.487313 25.10334, 121.487301 25.103351, 121.487291 25.103348, 121.487295 25.103346, 121.487289 25.103345, 121.487288 25.103344, 121.487287 25.103345, 121.487281 25.103351, 121.487263 25.103358, 121.487225 25.103365, 121.48719785443959 25.103377064693515, 121.48807232525579 25.102653538393906), (121.494495 25.097254, 121.494495 25.097253), (121.494498 25.097255, 121.494497 25.097255, 121.494507 25.097256, 121.494508 25.097255, 121.494515 25.097252, 121.494527 25.097241, 121.494539 25.097221, 121.49456 25.097198, 121.49459 25.097165, 121.494622 25.097134, 121.494661 25.097094, 121.494703 25.097052, 121.494752 25.09701, 121.494803 25.096967, 121.494856 25.096928, 121.494908 25.096891, 121.494951 25.096853, 121.49499 25.096814, 121.495028 25.096782, 121.495084 25.096761, 121.495147 25.096751, 121.49531182976351 25.096582417834782, 121.494944 25.096968, 121.48807232525579 25.102653538393906, 121.48814 25.102597, 121.488218 25.102531, 121.488297 25.102465, 121.488374 25.102397, 121.488449 25.102333, 121.488523 25.102266, 121.488596 25.102202, 121.488669 25.102139, 121.488744 25.102078, 121.488819 25.102015, 121.488894 25.101951, 121.488973 25.101888, 121.489049 25.101822, 121.489123 25.101755, 121.489197 25.10169, 121.489272 25.101626, 121.489345 25.101562, 121.489418 25.101498, 121.489492 25.101435, 121.489568 25.101377, 121.489639 25.101316, 121.489708 25.101255, 121.489781 25.101193, 121.489854 25.101132, 121.48993 25.101069, 121.490009 25.101005, 121.490087 25.100939, 121.490166 25.100875, 121.490246 25.100811, 121.490324 25.100745, 121.4904 25.10068, 121.49048 25.100617, 121.490555 25.100553, 121.490631 25.10049, 121.490712 25.100429, 121.490796 25.100371, 121.490877 25.100305, 121.490955 25.10024, 121.491034 25.100176, 121.49111 25.100112, 121.491191 25.100046, 121.491271 25.099982, 121.491349 25.099915, 121.491426 25.099847, 121.491501 25.099778, 121.491571 25.099712, 121.491643 25.099645, 121.491707 25.099581, 121.491774 25.09952, 121.491851 25.099467, 121.491926 25.099413, 121.492001 25.099361, 121.492071 25.099308, 121.492138 25.099253, 121.492206 25.099197, 121.492275 25.099142, 121.492357 25.099085, 121.492431 25.099022, 121.492508 25.098958, 121.492586 25.098894, 121.492664 25.098831, 121.492738 25.098768, 121.492811 25.098703, 121.492878 25.098638, 121.492954 25.098574, 121.493027 25.09851, 121.4931 25.098446, 121.493177 25.098384, 121.493247 25.09832, 121.493316 25.098258, 121.49339 25.098194, 121.493457 25.098128, 121.493531 25.098065, 121.493606 25.098001, 121.493682 25.097933, 121.49376 25.097862, 121.493838 25.097791, 121.493917 25.097725, 121.493993 25.097663, 121.494065 25.097602, 121.494128 25.097547, 121.494187 25.097499, 121.494243 25.097457, 121.494292 25.097418, 121.494337 25.097383, 121.49438 25.097349, 121.49442 25.097316, 121.494453 25.09729, 121.494475 25.097272, 121.494491 25.097258, 121.494495 25.097254, 121.494496 25.097254, 121.494497 25.097255), (121.50151939130436 25.09044252508361, 121.501506 25.090449, 121.501422 25.090488, 121.501336 25.090524, 121.501258 25.090561, 121.501185 25.090596, 121.501121 25.090641, 121.49531182976351 25.096582417834782, 121.500124 25.091538, 121.500193 25.091469, 121.500259 25.091405, 121.500333 25.091336, 121.50039 25.091271, 121.500453 25.091205, 121.500515 25.09114, 121.500578 25.091078, 121.500642 25.091019, 121.500705 25.090967, 121.500759 25.090919, 121.500803 25.090875, 121.500843 25.090843, 121.50088 25.090818, 121.500892 25.090809, 121.500894 25.090812, 121.500897 25.090811, 121.500903 25.090809, 121.500904 25.090809, 121.500905 25.09081, 121.500906 25.09081, 121.500907 25.090809, 121.500909 25.090808, 121.500911 25.090806, 121.500916 25.090804, 121.500921 25.0908, 121.500937 25.090787, 121.500957 25.090771, 121.500987 25.090747, 121.501017 25.09072, 121.501047 25.090693, 121.501074 25.09067, 121.501096 25.090652, 121.501119 25.09063, 121.501139 25.090608, 121.501152 25.0906, 121.501172 25.090583, 121.501199 25.090555, 121.501238 25.090531, 121.501286 25.090505, 121.501341 25.090493, 121.501402 25.090474, 121.501474 25.090453, 121.50151939130436 25.09044252508361), (121.5270538 25.0899252, 121.527054 25.089928, 121.527053 25.089929, 121.5270514 25.0899286, 121.527051 25.089929, 121.527049 25.089928, 121.5270514 25.0899286, 121.527052 25.089928, 121.527053 25.089926, 121.5270538 25.0899252), (121.50809866666667 25.088810666666667, 121.508099 25.088811, 121.508098 25.088811, 121.50809866666667 25.088810666666667), (121.525395 25.084556, 121.525394 25.084556, 121.525393 25.084557, 121.525393 25.084561, 121.525393 25.084565, 121.525395 25.08457, 121.525389 25.084574, 121.525384 25.084581, 121.525382 25.084592, 121.525378 25.084616, 121.525375 25.084654, 121.525374 25.084705, 121.525369 25.084763, 121.525372 25.084822, 121.525371 25.084882, 121.525371 25.084945, 121.525376 25.085001, 121.525388 25.085052, 121.525395 25.085102, 121.525388 25.085145, 121.525378 25.085174, 121.52537 25.085192, 121.525369 25.085196, 121.525368 25.085196, 121.525368 25.085195, 121.525368 25.085193, 121.525367 25.08519, 121.525366 25.085188, 121.525365 25.085193, 121.525371 25.08522, 121.525379 25.085259, 121.525379 25.085307, 121.525388 25.085364, 121.525404 25.085429, 121.525435 25.085493, 121.525477 25.085555, 121.52551 25.085627, 121.525534 25.085706, 121.525559 25.08579, 121.525589 25.085873, 121.525622 25.085955, 121.525659 25.08604, 121.525703 25.086122, 121.525749 25.086201, 121.525804 25.086279, 121.525858 25.086364, 121.525915 25.086454, 121.525973 25.08654, 121.526042 25.086621, 121.526103 25.086701, 121.526173 25.086778, 121.526238 25.086855, 121.526299 25.08693, 121.526356 25.087007, 121.526421 25.087087, 121.526482 25.087168, 121.526563 25.087247, 121.526645 25.087334, 121.526719 25.087416, 121.526782 25.087492, 121.526839 25.087558, 121.526888 25.087616, 121.526942 25.08767, 121.526971 25.087723, 121.52703 25.087768, 121.527069 25.087821, 121.527096 25.087866, 121.527116 25.087909, 121.527128 25.087935, 121.52713 25.087942, 121.52713 25.087946, 121.527129 25.087948, 121.527128 25.087949, 121.527127 25.08795, 121.527127 25.087949, 121.527124 25.087951, 121.52712 25.087949, 121.527116 25.087944, 121.52711 25.087938, 121.527108 25.087939, 121.527107 25.087934, 121.527106 25.08793, 121.527094 25.087946, 121.527107 25.087966, 121.527127 25.087996, 121.527153 25.088043, 121.527184 25.088103, 121.527216 25.088173, 121.527255 25.088245, 121.527287 25.088324, 121.52731 25.088409, 121.527336 25.088497, 121.52736 25.088587, 121.527379 25.088674, 121.527395 25.088766, 121.527413 25.088859, 121.527427 25.088952, 121.527437 25.089044, 121.527441 25.089136, 121.527445 25.089228, 121.527451 25.089325, 121.527454 25.089418, 121.527455 25.089512, 121.52745 25.089606, 121.527441 25.089698, 121.527431 25.089789, 121.527422 25.08988, 121.52741 25.089967, 121.527398 25.090054, 121.527391 25.090145, 121.527393 25.090229, 121.527393 25.090314, 121.527396 25.0904, 121.527406 25.090485, 121.527417 25.090574, 121.527429 25.090661, 121.527443 25.090748, 121.527457 25.090836, 121.527474 25.090927, 121.527484 25.091016, 121.527498 25.091106, 121.527514 25.091196, 121.52753 25.091285, 121.527545 25.091374, 121.527554 25.091467, 121.527569 25.091559, 121.527583 25.091652, 121.527599 25.091744, 121.527611 25.091834, 121.527626 25.091922, 121.527639 25.092004, 121.527654 25.092087, 121.527667 25.092164, 121.527675 25.092241, 121.527682 25.092319, 121.527695 25.092395, 121.527709 25.092461, 121.527717 25.092521, 121.527724 25.092573, 121.527729 25.092623, 121.527737 25.092671, 121.527739 25.09271, 121.527743 25.092739, 121.527746 25.09276, 121.527748 25.092763, 121.527749 25.092764, 121.527755 25.092765, 121.52776 25.092765, 121.527762 25.092766, 121.527763 25.092781, 121.527771 25.092813, 121.527785 25.092857, 121.527798 25.092915, 121.52781 25.092978, 121.527825 25.09305, 121.527839 25.093126, 121.527857 25.093205, 121.527869 25.093286, 121.527886 25.093369, 121.527901 25.093453, 121.527918 25.09354, 121.527931 25.093622, 121.527946 25.093706, 121.527968 25.093787, 121.527981 25.093865, 121.527989 25.093933, 121.527999 25.093994, 121.528003 25.094054, 121.528011 25.094119, 121.528017 25.094188, 121.528021 25.094265, 121.528028 25.094345, 121.528034 25.094436, 121.528045 25.094529, 121.528048 25.094626, 121.528041 25.094724, 121.528048 25.094823, 121.528032 25.094924, 121.528023 25.095024, 121.52801 25.095117, 121.527988 25.095207, 121.527972 25.095289, 121.527956 25.095365, 121.527937 25.095428, 121.527933 25.095483, 121.52793 25.095531, 121.527921 25.095575, 121.5279 25.095615, 121.527891 25.095642, 121.527874 25.095677, 121.527848 25.095699, 121.527815 25.095703, 121.52460870723442 25.094961611373808, 121.524497 25.095037, 121.52133 25.094316, 121.510756 25.08736, 121.51067 25.087312, 121.510582 25.087267, 121.510487 25.087225, 121.510388 25.087192, 121.510288 25.087164, 121.510193 25.087137, 121.510109 25.087114, 121.510038 25.087096, 121.50998 25.087079, 121.509932 25.087061, 121.509889 25.087045, 121.509856 25.087032, 121.509832 25.08702, 121.509817 25.087017, 121.509816 25.08701, 121.509803 25.087017, 121.509789 25.087025, 121.509775 25.087034, 121.509776 25.087035, 121.509775 25.087036, 121.509775 25.087037, 121.509774 25.087037, 121.509773 25.087036, 121.509772 25.087036, 121.509769 25.087036, 121.509767 25.087036, 121.509765 25.087036, 121.509763 25.087036, 121.509762 25.087035, 121.509761 25.087035, 121.50976 25.087035, 121.509759 25.087035, 121.509758 25.087035, 121.509757 25.087034, 121.509756 25.087034, 121.509755 25.087034, 121.509754 25.087034, 121.509754 25.087033, 121.509753 25.087033, 121.509752 25.087033, 121.509752 25.087032, 121.509751 25.087032, 121.50975 25.087032, 121.50975 25.087031, 121.509749 25.087031, 121.509749 25.08703, 121.509748 25.087029, 121.509745 25.087026, 121.509725 25.087021, 121.509699 25.087014, 121.509669 25.087004, 121.509638 25.086993, 121.509611 25.08698, 121.509584 25.086969, 121.509562 25.086958, 121.509544 25.086947, 121.509523 25.08694, 121.509505 25.086933, 121.509485 25.086928, 121.509465 25.086924, 121.50944 25.086921, 121.509411 25.086915, 121.50938 25.0869, 121.509341 25.086887, 121.509305 25.086868, 121.509267 25.086868, 121.509234 25.08687, 121.509207 25.086872, 121.509187 25.086896, 121.509174 25.086907, 121.509157 25.086927, 121.509138 25.086961, 121.509127 25.087005, 121.509113 25.087058, 121.50909 25.087113, 121.509086 25.087168, 121.509066 25.087214, 121.509057 25.087258, 121.509047 25.087305, 121.509045 25.087353, 121.509037 25.087386, 121.509024 25.087406, 121.509014 25.087433, 121.509007 25.087458, 121.509018 25.08749, 121.509007 25.087503, 121.509014 25.087511, 121.509008 25.087517, 121.50901 25.087519, 121.509011 25.08752, 121.509012 25.087521, 121.509013 25.087522, 121.509013 25.087523, 121.509013 25.087524, 121.509011 25.087523, 121.509009 25.087524, 121.509007 25.087523, 121.509006 25.087523, 121.509005 25.087523, 121.509004 25.087523, 121.509003 25.087523, 121.509002 25.087523, 121.509001 25.087523, 121.509 25.087523, 121.508999 25.087523, 121.508998 25.087523, 121.508998 25.087522, 121.508997 25.087522, 121.508996 25.087522, 121.508995 25.087522, 121.508994 25.087522, 121.508993 25.087521, 121.508992 25.087522, 121.508992 25.087526, 121.508991 25.087542, 121.508986 25.087561, 121.50898 25.087584, 121.508979 25.087617, 121.508971 25.087654, 121.508959 25.087698, 121.508947 25.087745, 121.508937 25.087785, 121.508913 25.087838, 121.508885 25.087894, 121.508855 25.087955, 121.508818 25.088026, 121.508774 25.088104, 121.508725 25.088184, 121.508669 25.088265, 121.508613 25.088346, 121.508554 25.088426, 121.508493 25.088503, 121.50843 25.088572, 121.508365 25.088646, 121.508295 25.088712, 121.508223 25.088773, 121.508157 25.08883, 121.508099 25.088885, 121.508042 25.088939, 121.50799 25.088988, 121.507938 25.089033, 121.507889 25.089071, 121.507846 25.089107, 121.507812 25.089137, 121.507788 25.089157, 121.50778 25.089175, 121.507771 25.089176, 121.507763 25.089178, 121.507761 25.08918, 121.507761 25.089181, 121.507759 25.089181, 121.507756 25.089184, 121.507738 25.089197, 121.507712 25.089219, 121.507675 25.089247, 121.507641 25.089291, 121.507591 25.089324, 121.507544 25.089362, 121.507496 25.089397, 121.507443 25.08943, 121.50739 25.089471, 121.507318 25.089495, 121.507255 25.089508, 121.507194 25.089526, 121.507137 25.089543, 121.507102 25.089548, 121.507076 25.089555, 121.50706 25.089558, 121.507051 25.089565, 121.50704 25.089571, 121.507033 25.089574, 121.507029 25.089577, 121.507028 25.089578, 121.507027 25.089578, 121.507024 25.089579, 121.507008 25.089581, 121.506982 25.089583, 121.506948 25.089584, 121.506904 25.089585, 121.506852 25.089585, 121.506798 25.089583, 121.506737 25.089597, 121.506667 25.089595, 121.506592 25.08959, 121.506504 25.089578, 121.506405 25.089568, 121.506305 25.089561, 121.506194 25.08955, 121.506083 25.089539, 121.505978 25.089536, 121.505874 25.089528, 121.505782 25.089529, 121.505697 25.089524, 121.505617 25.089519, 121.505543 25.089514, 121.504593741171 25.0893543892053, 121.50439164653916 25.089352332727525, 121.503771853224 25.0894052842954, 121.50297806401 25.0896502166202, 121.502042 25.090224, 121.502016 25.090235, 121.502008 25.090236, 121.502005 25.090236, 121.502003 25.090236, 121.502001 25.090234, 121.501991 25.090229, 121.501984 25.09023, 121.501954 25.090241, 121.501894 25.090256, 121.501832 25.090291, 121.501768 25.090333, 121.501703 25.090382, 121.50163 25.090412, 121.501552 25.090435, 121.50151939130436 25.09044252508361, 121.501597 25.090405, 121.501683 25.090359, 121.501772 25.090311, 121.501858 25.090258, 121.501944 25.090207, 121.502033 25.090159, 121.502115 25.090113, 121.50219 25.090072, 121.502254 25.090035, 121.502314 25.09, 121.502366 25.089968, 121.502414 25.089938, 121.502459 25.08991, 121.502498 25.089889, 121.502527 25.089871, 121.50256 25.089855, 121.50257 25.089849, 121.502577 25.089846, 121.502576 25.089846, 121.502572 25.089845, 121.50257 25.089846, 121.502572 25.089844, 121.50259 25.089833, 121.502624 25.089819, 121.502672 25.089791, 121.50273 25.089756, 121.502792 25.089718, 121.502863 25.089679, 121.502937 25.089639, 121.503019 25.089598, 121.5031 25.089562, 121.503183 25.089523, 121.503274 25.089488, 121.503356 25.089462, 121.503431 25.089444, 121.503496 25.089428, 121.503554 25.089412, 121.503609 25.0894, 121.503666 25.089391, 121.503713 25.089389, 121.503748 25.089385, 121.503773 25.089378, 121.503788 25.089372, 121.503795 25.089367, 121.503794 25.089367, 121.503793 25.089367, 121.503793 25.089366, 121.503793 25.089365, 121.503792 25.089359, 121.503795 25.089357, 121.503796 25.089354, 121.503968544357 25.0893480273176, 121.50439164653916 25.089352332727525, 121.504536 25.08934, 121.504581 25.089348, 121.504617 25.08935, 121.504642 25.089349, 121.504669 25.089345, 121.504693 25.089362, 121.504706 25.089361, 121.504714 25.089363, 121.504732 25.089366, 121.504736 25.089367, 121.504739 25.089367, 121.504741 25.089367, 121.504745 25.089366, 121.504748 25.089366, 121.504751 25.089365, 121.504755 25.089364, 121.504759 25.089363, 121.504763 25.089362, 121.504767 25.089362, 121.504771 25.089361, 121.504776 25.089359, 121.504783 25.089358, 121.504793 25.089356, 121.504852 25.08934, 121.504889 25.089347, 121.504946 25.089344, 121.505001 25.089358, 121.505072 25.089381, 121.505147 25.089404, 121.505216 25.089418, 121.505291 25.089434, 121.505374 25.089442, 121.505465 25.089446, 121.505553 25.089453, 121.505642 25.089458, 121.505733 25.08947, 121.506717 25.089514, 121.507268 25.089361, 121.507328 25.089323, 121.507387 25.089281, 121.507447 25.089238, 121.507509 25.08919, 121.507578 25.089141, 121.507654 25.089113, 121.507723 25.089069, 121.507784 25.089031, 121.507832 25.088995, 121.507872 25.088956, 121.507926 25.08892, 121.507985 25.088892, 121.508027 25.088865, 121.508055 25.088843, 121.508076 25.088813, 121.508083 25.088804, 121.508093 25.088805, 121.508098 25.08881, 121.50809866666667 25.088810666666667, 121.5081 25.08881, 121.508104 25.088809, 121.508111 25.088804, 121.508134 25.088789, 121.508173 25.088758, 121.508211 25.088705, 121.50824 25.08865, 121.508272 25.088592, 121.508321 25.088553, 121.508371 25.088508, 121.508421 25.088444, 121.508476 25.088378, 121.508535 25.088312, 121.50859 25.088245, 121.508647 25.088194, 121.508689 25.088138, 121.508718 25.088065, 121.50876 25.088016, 121.508791 25.087967, 121.508819 25.087928, 121.508839 25.087896, 121.508853 25.087869, 121.508866 25.087857, 121.509067 25.086722, 121.51077 25.08721, 121.521795 25.094311, 121.52460870723442 25.094961611373808, 121.5247 25.0949, 121.524708 25.09489, 121.524724 25.094864, 121.524762 25.094813, 121.524782 25.094741, 121.524805 25.094655, 121.524833 25.094575, 121.524836 25.094474, 121.524843 25.094374, 121.52487 25.094288, 121.524897 25.094201, 121.524925 25.094113, 121.524947 25.094025, 121.524973 25.093931, 121.525006 25.093848, 121.525045 25.093774, 121.525087 25.093697, 121.525135 25.093623, 121.525186 25.09355, 121.525249 25.093476, 121.525308 25.093399, 121.525364 25.093318, 121.52543 25.093242, 121.525488 25.093166, 121.525541 25.093087, 121.52559 25.093003, 121.525641 25.092919, 121.525687 25.092829, 121.525737 25.09274, 121.525791 25.092656, 121.525834 25.092567, 121.525888 25.092492, 121.525942 25.092416, 121.526011 25.092344, 121.526071 25.092269, 121.526134 25.092187, 121.526191 25.092113, 121.526242 25.09204, 121.526295 25.09196, 121.526346 25.091884, 121.526405 25.091807, 121.52646 25.091723, 121.526506 25.091636, 121.52654 25.091542, 121.526584 25.091455, 121.526627 25.091369, 121.526657 25.091283, 121.526687 25.091207, 121.526702 25.091131, 121.526722 25.09106, 121.526734 25.090992, 121.526751 25.090938, 121.526762 25.090881, 121.52678 25.090838, 121.526785 25.090799, 121.526797 25.090771, 121.526798 25.090765, 121.526797 25.090761, 121.526796 25.090761, 121.526796 25.09076, 121.526795 25.09076, 121.526789 25.090759, 121.526789 25.09076, 121.526786 25.090754, 121.526786 25.090745, 121.526785 25.090724, 121.526794 25.090679, 121.526812 25.090621, 121.526824 25.090556, 121.526825 25.090475, 121.526854 25.090399, 121.526888 25.090321, 121.526917 25.090251, 121.526946 25.090202, 121.52698 25.090152, 121.527003 25.090087, 121.527022 25.090042, 121.527041 25.090007, 121.527046 25.089972, 121.527066 25.089939, 121.527063 25.089926, 121.527063 25.089923, 121.527062 25.089924, 121.527061 25.089924, 121.527056 25.089923, 121.527056 25.089924, 121.527055 25.089924, 121.527054 25.089925, 121.5270538 25.0899252, 121.527053 25.089914, 121.527049 25.089898, 121.527047 25.089866, 121.527045 25.08984, 121.527027 25.089806, 121.526998 25.08977, 121.526979 25.089721, 121.526963 25.089641, 121.526937 25.089567, 121.526922 25.08948, 121.526892 25.089386, 121.526859 25.089297, 121.525579 25.086679, 121.525544 25.086647, 121.525512 25.086608, 121.525484 25.086564, 121.525458 25.086519, 121.525434 25.086467, 121.525409 25.086419, 121.525385 25.086373, 121.525359 25.086332, 121.525335 25.086278, 121.525304 25.086225, 121.525265 25.086174, 121.525241 25.086114, 121.525221 25.086051, 121.525193 25.08598, 121.525175 25.085914, 121.525161 25.085854, 121.525142 25.085799, 121.525128 25.085742, 121.525122 25.085688, 121.525108 25.085641, 121.525098 25.085597, 121.525089 25.085561, 121.525083 25.085538, 121.525079 25.085531, 121.525071 25.085528, 121.525069 25.085527, 121.525064 25.08552, 121.525061 25.08551, 121.525059 25.08549, 121.525048 25.085462, 121.525031 25.085425, 121.525013 25.085379, 121.524991 25.085331, 121.524971 25.08529, 121.524957 25.085256, 121.524951 25.085222, 121.524951 25.08519, 121.524944 25.085164, 121.52494 25.085138, 121.524935 25.08511, 121.524931 25.085079, 121.524927 25.085049, 121.524924 25.085027, 121.524923 25.085022, 121.524923 25.085021, 121.524922 25.085021, 121.524921 25.085023, 121.52492 25.085023, 121.524919 25.085024, 121.524919 25.085023, 121.524918 25.085022, 121.524916 25.085021, 121.524913 25.085019, 121.524911 25.085017, 121.524909 25.085016, 121.524907 25.085014, 121.524906 25.085013, 121.524905 25.085012, 121.524904 25.085012, 121.524903 25.085012, 121.524903 25.085011, 121.5249 25.085008, 121.524901 25.085006), (121.525393 25.084555, 121.525394 25.084555, 121.525394 25.084556, 121.525393 25.084556, 121.525393 25.084555), (121.525393 25.084555, 121.525393 25.084554), (121.524905 25.084296, 121.524905 25.084297, 121.524904 25.084297, 121.524905 25.084296), (121.524903 25.085005, 121.524901 25.085006, 121.524902 25.084982, 121.524896 25.084941, 121.524895 25.084887, 121.524891 25.084829, 121.524884 25.084764, 121.524874 25.0847, 121.52486 25.084638, 121.524849 25.084578, 121.524839 25.084522, 121.524827 25.084467, 121.524821 25.08442, 121.524824 25.084382, 121.524829 25.084353, 121.524845 25.084336, 121.524865 25.084316, 121.524883 25.084307, 121.524893 25.084301, 121.524897 25.084296, 121.5249 25.084295, 121.524901 25.084294, 121.524902 25.084295, 121.524903 25.084295, 121.524904 25.084295, 121.524904 25.084296, 121.524905 25.084296), (121.525394 25.084556, 121.525395 25.084554, 121.525397 25.084529, 121.525401 25.084489, 121.525404 25.084438, 121.525405 25.084383, 121.525394 25.084333, 121.525381 25.084286, 121.525349 25.084257, 121.525312 25.084246, 121.525272 25.084243, 121.525214 25.084248, 121.525159 25.084256, 121.525105 25.084264, 121.525063 25.084271, 121.525028 25.084282, 121.525019 25.084282, 121.525004 25.084287, 121.524997 25.084289, 121.524994 25.084291, 121.524989 25.084292, 121.524987 25.084293, 121.524984 25.084293, 121.524982 25.084293, 121.524979 25.084293, 121.524976 25.084293, 121.524973 25.084293, 121.524971 25.084293, 121.524968 25.084293, 121.524965 25.084293, 121.524961 25.084292, 121.52496 25.084291, 121.524959 25.084291, 121.524958 25.084292, 121.524957 25.084292, 121.524956 25.084292, 121.524955 25.084293, 121.524952 25.084294, 121.524949 25.084295, 121.524945 25.084296, 121.524941 25.084296, 121.524937 25.084297, 121.524933 25.084298, 121.52493 25.084299, 121.524926 25.084299, 121.524923 25.0843, 121.524922 25.0843, 121.524921 25.0843, 121.524921 25.084299, 121.524922 25.084299, 121.524923 25.084299, 121.524923 25.084298, 121.524922 25.084298, 121.524921 25.084298, 121.52492 25.084298, 121.524918 25.084298, 121.524916 25.084298, 121.524915 25.084299, 121.524913 25.084299, 121.524911 25.084299, 121.52491 25.084299, 121.524909 25.0843, 121.524908 25.084299, 121.524907 25.084299, 121.524906 25.084299, 121.524905 25.084298, 121.524905 25.084297))","wkt0":"LINESTRING (121.468651875603 25.1091355539955, 121.469700649136 25.1089244165962, 121.470246911575 25.1088136782141, 121.470326394205 25.108763297942, 121.471265734378 25.1078649553199, 121.47156993608 25.1075868799731, 121.472312014816 25.1068684612085, 121.472728214769 25.1064791523732, 121.472891515445 25.1063051080223, 121.472983281754 25.1062409863569, 121.473083718896 25.1061978023593, 121.473230400477 25.1062017281779, 121.473554834121 25.1062311718133, 121.473675503205 25.1061951851468, 121.47430486112 25.106114705836, 121.474689990591 25.1060656330595, 121.475185673174 25.1060074000058, 121.475639446735 25.1059086000423, 121.476140187304 25.1058549470486, 121.476356958113 25.1058601814881, 121.476744255291 25.1058791563292, 121.478098350279 25.1058771934147, 121.478961820668 25.1058928967295, 121.481251642981 25.1059328093123, 121.481974934914 25.1059367351394, 121.482176531766 25.1059360808349, 121.482857192106 25.1059144887841, 121.483909975669 25.10589158812, 121.484003187117 25.1058778477195, 121.484108682244 25.1058556013535, 121.484186719735 25.105817651661, 121.485085596023 25.1050966052656, 121.486225810479 25.104121680965, 121.48708783573 25.1034045504779, 121.487767050931 25.1028398726917, 121.488954177661 25.1018410399245, 121.491722515723 25.0995124788512, 121.492057638689 25.0992320129758, 121.49350613227 25.0980180917206, 121.494717975036 25.0969911394514, 121.495664578297 25.0961080111375, 121.496963775391 25.0947674849667, 121.497303663139 25.0943963925081, 121.497614962198 25.0939131076186, 121.499382696141 25.0921007722812, 121.500626304117 25.0908234912505, 121.501001133596 25.0904495100469, 121.50157767216 25.0903516993898, 121.501898500782 25.0901805305516, 121.502868927951 25.0896224321724, 121.503035695304 25.089556265701, 121.503623351691 25.0893807805382, 121.503750412531 25.0893520124547, 121.50409188854 25.0893102987217, 121.504401599339 25.0893002298874, 121.505014667894 25.0893548892634, 121.506653752736 25.0894915375964, 121.506945992669 25.0895116752326, 121.507209643913 25.0894670847481, 121.507439941686 25.089375026922, 121.508070481107 25.0888284321538, 121.508114952401 25.088792471886, 121.508465957973 25.0884731442452, 121.508913847435 25.0877294815995, 121.509153674772 25.0868894394426, 121.509240234969 25.0865758605842, 121.510286898642 25.0868319020976, 121.510650610298 25.0869282771352, 121.51119220713 25.0872389782323, 121.511482858803 25.0875266637301, 121.514738792839 25.0897303122122, 121.515456686588 25.0902409431101, 121.515712396529 25.090449510047, 121.516611351976 25.0910147965782, 121.517421364834 25.0915426826602, 121.518960389263 25.0925653655655, 121.521072775736 25.0939634498838, 121.52152384172 25.0942439278385, 121.524525654075 25.094950154097, 121.526642805329 25.0954118598952, 121.527763720181 25.095690536617, 121.527843133206 25.0955956068115, 121.52801307708 25.0949023293314, 121.528009900559 25.0944233614748, 121.527768484963 25.0929332272628, 121.52738253766 25.0906692241426, 121.527361890273 25.0904362049254, 121.527363478534 25.0902060620532, 121.52741430287 25.0897846117963, 121.527423832433 25.0894998084118, 121.527411126349 25.0890035585065, 121.527349184189 25.0886525863441, 121.527066473819 25.0880038605582, 121.526931471676 25.0877693978428, 121.526057928398 25.086703521799, 121.525732334994 25.0862374678184, 121.525557626339 25.085837580581, 121.525455977666 25.0855326297233, 121.525424212456 25.0853585772422, 121.525386094204 25.085131301729, 121.525362270296 25.0848392952287, 121.52537338812 25.0843933726278, 121.525293975095 25.0842106877384, 121.52483814433 25.0842869263474, 121.525010371328 25.0849367506775)","wkt1":"LINESTRING (121.525110133941 25.0853539921786, 121.525219723916 25.0857840883716, 121.525526258194 25.0864702253233, 121.526600319361 25.08878644854, 121.527121268806 25.0898566216377, 121.527141916193 25.0900766963968, 121.527064091428 25.0903543064761, 121.52669243847 25.0914244658622, 121.5265987311 25.0915956329603, 121.526068252091 25.0922989977659, 121.525671636781 25.092863829987, 121.525245533149 25.0934252360587, 121.525042235805 25.0936985234812, 121.524688053712 25.0949067342443, 121.52442916725 25.0950563214134, 121.52198006955 25.0944996836176, 121.521430531415 25.094358725841, 121.520115451717 25.0935331127457, 121.518676487699 25.0925953015656, 121.517313760185 25.0917294020384, 121.5165450421 25.0912101470572, 121.515701675772 25.0906434230394, 121.515390376713 25.0904175957324, 121.512736393408 25.0886454841817, 121.512080441819 25.08820532912, 121.510901952524 25.0874357731661, 121.510531887826 25.0872415853851, 121.509291456371 25.0868848544363, 121.509053217296 25.0876098226931, 121.508927744716 25.0879478520591, 121.508676799556 25.088357801314, 121.50847032569 25.0886368537055, 121.507784197152 25.0891805725168, 121.507437956361 25.0894538694197, 121.507273174334 25.0895297451621, 121.506878653951 25.0895852201829, 121.505378694807 25.089452453233, 121.504379317976 25.0893731168161, 121.503839404196 25.0894071181439, 121.503263734536 25.0895301704895, 121.50261419767 25.0898581165851, 121.50142051895 25.0905307757579, 121.501259617492 25.0906003968556, 121.500681999998 25.0911480000002, 121.499164322955 25.0927505359055, 121.497948623053 25.09397940112, 121.497437313977 25.0945399959607, 121.497143668816 25.094694209661, 121.496909020857 25.0948933515005, 121.496103172724 25.0957214866489, 121.49524100908 25.0965423306188, 121.494673831442 25.0970729620292, 121.493650766341 25.0979435811189, 121.493190856341 25.0983212117401, 121.492027002464 25.0993096027668, 121.49137266987 25.0998547929252, 121.490426032961 25.1006501105131, 121.489378497429 25.1015254092164, 121.488887747984 25.1019855949593, 121.487296164399 25.1033503572702, 121.487121854486 25.1034195663411, 121.485876209035 25.104474696273, 121.484973820027 25.1052335585474, 121.484314124051 25.1058030057052, 121.484099588774 25.1059244226667, 121.482730585539 25.1059669185747, 121.481041120234 25.1059827027654, 121.479551440905 25.1059438493693, 121.477648781169 25.1059134951451, 121.476700803414 25.1059232084977, 121.476148375077 25.1059074242993, 121.475646898867 25.1059499202133, 121.474811552133 25.1060968345448, 121.474614447847 25.1061114045515, 121.474253760413 25.1061733270608, 121.473544453154 25.1062534620262, 121.473124768519 25.1062595328548, 121.472977275516 25.1062947436545, 121.471834875167 25.1073838451095, 121.470715269191 25.1084620095699, 121.470317038083 25.1088456784131, 121.468342237211 25.1092576696058)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0111001000'=='0100020200' || '0111001000'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
