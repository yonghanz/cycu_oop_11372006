
<!DOCTYPE html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<head>
    <script>
        var SitePath = '/';
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <title>大臺北公車</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=4, minimum-scale=0.5, user-scalable=yes">

    <link rel="stylesheet" href="/styles/html5reset-1.6.1.min.css" />
    <link href="/web/css?v=sRaS4eVeEUiSbsmDNyPCQX6_bGwBuAfoNm1EFEuVJsQ1" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" media="screen and (max-width:768px)" href="/pad/css?v=-VA-V4vm8GvG2qYKGZXk3Qi1cWfbcBMLSWm5uytMv8A1">

    <link rel="stylesheet" type="text/css" media="screen and (max-width:480px)" href="/phone/css?v=tNT4bc9cbLmN5rC7jOPAfHE2gTc_N47eqhKenWJ5sQk1">

    
    
    
    <link href="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1" rel="stylesheet"/>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <link href="/CustomScrollbar/css?v=cTpwHD23PH7gbg8rY79THNO6JzhoW_RwUaR7zeCFjOI1" rel="stylesheet"/>

    <link href="/toastr/css?v=bUMX5PdhipTCZJVvmdqKc60mrvySkxFZQUqXQRjL8kI1" rel="stylesheet"/>

    <link href="/simpleRouteMap/css?v=eN0OvNIAPpKksgTz7sjIy-B4L9bOLNcs7ckhBHKid1Q1" rel="stylesheet"/>




    <script>
        var viccknCulture = null;
        function Mybus(event, _elem) {
            event.preventDefault();
            var islogin = jQuery('a.login-link');
            if (islogin.length>0) {
                //
                alert(i18n._('Please Login'));
            } else {
                window.location.replace(_elem.href);
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <script src="/bundles/jquery?v=q7mEgdXrcJJy32YRlrFef8zHiCgDFSUdNzefyodQYIQ1"></script>

    

    

</head>
<body class="tebus">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
    <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <a href="javascript:void(0);" class="tebus-up web-none" title="置頂"></a>  
    <!-- being header web-->
    <header class="tebus-main-header-c  pad-none">
        <div class="teBUS-main-header">
            <div class="teBUS-logo-c">
                <a href="/Dybus.aspx" class="teBUS-logo" title="首頁"></a>
                <p class="teBUS-visite">到訪人數<span class="teBUS-visite-number">231493125</span></p>
            </div>
            <nav class="teBUS-nav-language-marquee-c">
                <ul class="teBUS-nav-language-c">
                    
                            <li class="pad-none">
                               
                            <a class="nav-language-link" href="https://e-bus.tpc.gov.tw" target="_blank">無障礙 </a> /
                            </li>


                    <li><a class="nav-language-link" href="/Home/SetCulture?culture=zh-TW&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093500">中文</a> / </li>
                        <li><a class="nav-language-link" href="/Home/SetCulture?culture=en&amp;returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093500">English</a> / </li>
                    <li><a class="nav-language-link login-link" href="javascript:void(0);" alt="會員登入">會員登入</a>/</li>
                    <li><a href="/MyBus" class="nav-language-link" onclick="Mybus(event, this)">我的公車</a></li>
                    <li>/<a class="nav-language-link" href="https://www.pto.gov.taipei/Questionnaire_Content.aspx?n=63FD5A257079935F&s=E4505D512A861F41&sms=7F78FC0503254E9A" target="_blank">滿意度調查</a> </li>

                      
                    
                </ul>
                <input id="marqueeSpeed" name="marqueeSpeed" type="hidden" value="6" />
                
                <marquee scrollamount="6"><div class='teBUS-marquee2' ></div></marquee>
            </nav>
        </div>
    </header>
    <!-- end header web-->
    <!-- being header pad-->
    <header class="teBUS-pad-main-header-c web-none">

        <div class="teBUS-pad-main-nav-icon">
            <ul class="teBUS-nav-main-language-pad-c">
                <li class="nav-main-language-title">語言</li>

                <li>
                    <span class="label-checkbox-language-c">

<form action="/Home/SetCulture?returnURL=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093500" id="SetCultureForm" method="get" role="form">                            <label class="label-radio label-checkbox-language">
                                <input checked="checked" class="radio fast-search-radio" id="culture" name="culture" type="radio" value="zh-TW" />
                                中文
                            </label>
                            <label class="label-radio label-checkbox-language">
                                <input class="radio fast-search-radio" id="culture" name="culture" type="radio" value="en" />
                                English
                            </label>
<input id="returnURL" name="returnURL" type="hidden" value="/Route/StopsOfRoute?routeid=0454093500" /></form>                    </span>
                </li>
                <li class="nav-main-language-title">功能選單</li>
                
                <li><a href="/ebus" class="main-nav-pad">公車動態</a></li>
                <li><a href="/Query/BusRoute" class="main-nav-pad">GIS動態</a></li>
                <li><a href="/Transfer/TransPlan" class="main-nav-pad">轉乘規劃</a></li>
                
                    <li><a href="https://pda.5284.gov.taipei" class="main-nav-pad">PDA</a></li>
                    <li><a href="/projectbus" class="main-nav-pad">專區</a></li>
                        <li><a href="/RelatedLinks" class="main-nav-pad">相關連結</a></li>
                        <li></li>
                
            </ul>
        </div>
        <div class="teBUS-main-nav-pad-c">
            <a href=javascript:history.back(); class="teBUS-pad-main-come-back-icon" title="回上一頁"></a>
            <a href="/Dybus.aspx" class="teBUS-logo-pad" title="logo" alt="logo"></a>
            <a href=javascript:toggleMenu(); class="teBUS-pad-main-nav-icon-c" title=""></a>
        </div>
    </header>
    <!-- end header pad-->
    <!-- being content -->
    <div class="teBUS-main-container">

        <!--begin main list-->
        <div class="teBUS-main-nav-c pad-none">

    <ul class="teBUS-main-nav-pool">
        <li class="main-nav-typt"><a href="javascript:void(0)" onclick="history.go(-1)" class="main-nav" title="回上一頁"><img src="/images/nav_011.svg" width="100%" alt="回上一頁"></a></li>
       
            <li class="main-nav-typt"><a href="/ebus" class="main-nav"><img src="/images/nav_013.svg" width="100%" alt="公車動態">公車動態</a></li>
        <li class="main-nav-typt"><a href="/Query/BusRoute" class="main-nav" title="GIS動態"><img src="/images/nav_002.svg" width="100%" alt="GIS動態">GIS動態</a></li>
        <li class="main-nav-typt"><a href="/Transfer/TransPlan" class="main-nav" title="轉乘規劃"><img src="/images/nav_003.svg" width="100%" alt="轉乘規劃">轉乘規劃</a></li>

       
        <li class="main-nav-typt"><a href="https://pda.5284.gov.taipei" target="_blank" class="main-nav"><img src="/images/atk-PDA.svg" width="100%" alt="PDA">PDA</a></li>
        <li class="main-nav-typt">
            <a href="/Query/NearBus" class="main-nav"><img src="/images/atk-nearbystop.svg" width="100%" alt="附近站牌">附近站牌</a>
        </li>
        

        
        <li class="main-nav-typt"><a href="/RelatedLinks" class="main-nav" title="相關連結"><img src="/images/nav_008.svg" width="100%" alt="相關連結">相關連結</a></li>
        
        <li class="main-nav-typt"><a href="/projectbus" class="main-nav" title="專區"><img src="/images/nav_012.svg" width="100%" alt="專區">專區</a></li>

        
    </ul>
</div>
<div id="Login_DL" class="teBus-dialog-c" style="display:none">
    <form id="LoginForm">
        <div class="teBus-dialog login-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img login-img" alt=" "></span>會員登入</h1>
            <span class="teBus-dialog-close-icon-c"><a href='javascript: void(0);' class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>

            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li" style=" margin:0 auto;width: 50%;">
                    

                   
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                    
                </li>

                <li>
                    <label class="teBus-login-dialog-enter-c">
                        <input class="teBus-dialog-checkbox-one login-enter-checkbox" data-val="true" data-val-required="記住我 欄位是必要項。" id="RememberMe" name="RememberMe" type="checkbox" value="true" /><input name="RememberMe" type="hidden" value="false" />
                        <label for="RememberMe">記住我</label>
                        
                        <a href="javascript:void(0)" class="teBus-dialog-submit login-enter-submit">登入</a>
                        <!--input type="submit" value="登入" class="teBus-dialog-submit login-enter-submit"-->
                    </label>
                </li>
            </ul>

            <div class="teBus-login-dialog-link-pool ">
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one register-link"><img src="/images/dialog_register_icon.svg" width="100%">註冊</a>
                <a href="javascript:void(0)" class="teBus-login-dialog-link-one forgot-password-link"><img src="/images/dialog_forgot_password_icon.svg" width="100%">忘記密碼</a>
                
    <a href="javascript:void(0)" class="teBus-login-dialog-link-one resend-confirm-email-link"><img src="/images/atk-resendmail.svg" width="100%">重發確認信</a>
                
                
            </div>
        </div>

    </form>
<form action="/Account/ExternalLogin?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093500" class="form-horizontal" id="ExternalLoginForm" method="post" role="form">        <input type="hidden" name="__RequestVerificationToken" class="verification-token" />
        <input type="hidden" name="provider" />
</form></div>

<script>
    function OpenLoginDialog() {
        $("#Login_DL").dialog('open');
        // Press enter key to submit
        $(".teBus-dialog-input-text-one").keyup(function (event) {
            if (event.keyCode == 13) {
                $(".login-enter-submit").click();
            }
        });
    }
    function CloseLoginDialog() {
        $("#Login_DL").dialog('close');
    }
    $(function () {
        $("#Login_DL").show();
        $("#Login_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Login_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#LoginForm").find('input[name="Email"]').val('');
                $("#LoginForm").find('input[name="Password"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $('.login-enter-submit').click(function () {
            if ($('#LoginForm').valid()) {
 
                    $.ajax({
                        url: '/Account/Login?ReturnUrl=%2FRoute%2FStopsOfRoute%3Frouteid%3D0454093500',
                        dataType: "json",
                        type: "post",
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest',
                            "Email": $("#LoginForm").find('input[name="Email"]').val(),
                            "Password": $("#LoginForm").find('input[name="Password"]').val(),
                            "RememberMe": $('input[name="RememberMe"]').is(":checked"),
                            "RecaptchaToken": $('[name=h-captcha-response]').val()
                            //"RecaptchaToken": $('#LoginForm textarea').val()
                        },
                        success: function (data) {
                            if (data.ErrorCode === 100) window.location.replace(data.Msg);
                            if (data.ErrorCode === 101 || data.ErrorCode === 103) $("#LoginForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                            if (data.ErrorCode === 102) $("#LoginForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        }
                    });
            }
        });

        // Register, forgot password link clicked
        $(".register-link,.forgot-password-link,.resend-confirm-email-link").click(function () {
            var startDate = new Date('2015-12-11 10:29:00');
            var endDate = new Date('2015-12-11 10:29:30');
            var now = new Date();
            if (now > startDate && now < endDate) {
                swal({
                    title: "HTML <small>系統公告</small>!",
                    text: "<h3>親愛的使用者您好</h3> <label> 由於系統設備將於2015/12/12進行維護，</label><label>會影響本系統部分功能的使用，</label><label>造成不便敬請見諒</label>",
                    html: true
                });
            } else {
                if ($(this).hasClass('register-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenRegisterDialog();
                    }, 400);

                }
                if ($(this).hasClass('forgot-password-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenForgotPasswordDialog();
                    }, 400);

                }
                if ($(this).hasClass('resend-confirm-email-link')) {
                    CloseLoginDialog();
                    setTimeout(function () {
                        OpenResendConfirmEmailDialog();
                    }, 400);

                }
            }

        });

        // External Login
        $('.facebook-login, .g-login').click(function () {
            if ($(this).hasClass('facebook-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Facebook');
            }
            if ($(this).hasClass('g-login')) {
                $('#ExternalLoginForm').find('input[name="provider"]').val('Google');
            }
            $('#ExternalLoginForm').submit();

        });
    });
</script>


<!-- dialog_會員註冊 BEGIN-->
<div id="Register_DL" class="teBus-dialog-c" style="display:none">
    <form id="RegisterForm">
        
        <div class="teBus-dialog register-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img register-img" alt=" "></span>註冊</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title"> 電子郵件</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" title="ex. ebus-taipei@mail.com" type="text" value="" /></label>
                    <a href="javascript:void(0)" class="register-a-one-icon register-check-icon" style="display:none"></a>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
           
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">名稱</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-required="名稱是必要項" id="Nickname" name="Nickname" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Nickname" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-length="密碼必須至少6個字元長度" data-val-length-max="100" data-val-length-min="6" data-val-required="密碼是必要項" id="Password" name="Password" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">確認密碼</span>
                    <label><input autocomplete="off" class="teBus-dialog-input-text-one" data-val="true" data-val-equalto="兩次密碼輸入並不相同" data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" type="password" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </li>
                <!--li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">上傳照片</span>
                    <label><input name="" type="text" value="" class="teBus-dialog-input-text-one"></label>
                    <a href="javascript:void(0);" class="register-a-one-icon register-browse-icon">瀏覽</a>
                    <div class="teBus-dialog-gust-photo-img" title="預覽照片" ><img src="images/dialog_gust_photo_img.svg" width="100%" alt="預覽照片"></div>
                </li-->
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    <span class="teBus-dialog-li-title">認證</span>
                    <p class="teBus-diolag-note"></p>
                    <div class="col-md-10">
                        <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                        <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                        </div>

</li>
            </ul>
            <!--input type="submit" value="註冊" class="teBus-dialog-submit register-enter-submit"-->
            <!--input type="submit" value="取消" class="teBus-dialog-submit register-close-submit"-->
            <a href="javascript:void(0)" class="teBus-dialog-submit register-enter-submit">註冊</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit register-close-submit">取消</a>
        </div>
      
    </form>
</div>
<!-- dialog_會員註冊 END-->

<script>
    function OpenRegisterDialog() {
        $("#Register_DL").dialog('open');
    }
    function CloseRegisterDialog() {
        $("#Register_DL").dialog('close');
    }
    function verifyCallback(token) {
        alert(token)
    }

    $(function () {
        $("#Register_DL").show();
        $("#Register_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#Register_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#RegisterForm").find('input[name="Email"]').val('');
                $("#RegisterForm").find('input[name="Nickname"]').val('');
                $("#RegisterForm").find('input[name="Password"]').val('');
                $("#RegisterForm").find('input[name="ConfirmPassword"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        // Form subnit action
        $(".register-enter-submit").click(function () {
            debugger;
            //$("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text('');
            if ($('#RegisterForm').valid()) {
                
                $.ajax({
                    url: '/Account/Register',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#RegisterForm").find('input[name="Email"]').val(),
                        "Nickname": $("#RegisterForm").find('input[name="Nickname"]').val(),
                        "Password": $("#RegisterForm").find('input[name="Password"]').val(),
                        "ConfirmPassword": $("#RegisterForm").find('input[name="ConfirmPassword"]').val(),
                        "Tel": '',
                        "RecaptchaToken":$('#RegisterForm textarea').val()
                            //$('.h-captcha iframe').data("hcaptcha-response")
                            //$("iframe").attr("data-hcaptcha-response")
                          //  $('[name=h-captcha-response]').val()
                      
                    },
                    success: function (data) {
                        if (data.ErrorCode === 200) {
                            $(".register-close-submit").trigger('click');
                            alert('Welcome! 歡迎申請[大台北公車]會員');
                        }
                        if (data.ErrorCode === 201) $("#RegisterForm").find('input[name="recaptcha_challenge_field"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                        if (data.ErrorCode === 202) $("#RegisterForm").find('input[name="Password"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });


            }
        });

        $("#RegisterForm").find('input[name="Email"]').focusout(function () {
            if ($("#RegisterForm").find('input[name="Email"]').valid())
            $.ajax({
                url: '/Account/AccountAvailable',
                dataType: "json",
                type: "post",
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    "account": $("#RegisterForm").find('input[name="Email"]').val()
                },
                success: function (data) {
                    if (data.ErrorCode === 100) {
                        $(".register-check-icon").css("background-color", "#75bc59");
                        $(".register-check-icon").text('✔');
                        $(".register-check-icon").show();
                    }
                    if (data.ErrorCode === 101) {
                        $(".register-check-icon").css("background-color", "#FF0000");
                        $(".register-check-icon").text('✘');
                        $(".register-check-icon").show();
                    }
                }
            });
        });

        $(".register-close-submit").click(function () {

            CloseRegisterDialog();

        });
    });
</script>

<!-- dialog_忘記密碼 BEGIN-->
<div id="ForgetPw_DL" class="teBus-dialog-c" style="display:none">
    <form id="ForgotPasswordForm">
        <div class="teBus-dialog forgot-password-c">
            <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img forgot-password-img" alt=" "></span>忘記密碼</h1>
            <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0)" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
            <ul class="teBus-dialog-ul">
                <li class="teBus-dialog-li">
                    <span class="teBus-dialog-li-title">電子郵件 </span>
                    <label><input class="teBus-dialog-input-text-one" data-val="true" data-val-email="電子郵件欄位不是有效的電子郵件地址。" data-val-required="電子郵件是必要項" id="Email" name="Email" type="text" value="" /></label>
                    <span class="field-validation-valid teBus-diolag-note" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                </li>
                <li class="teBus-dialog-li"  style=" margin:0 auto;width: 50%;">
                    
                    
                    <div class="h-captcha" data-sitekey="e57803e5-35a9-40c1-92dc-889ae1a81fc8"></div>
                    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
                </li>
            </ul>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-enter-submit">送出</a>
            <a href="javascript:void(0)" class="teBus-dialog-submit forgot-password-close-submit">取消</a>
        </div>
    </form>
</div>
<!-- dialog_忘記密碼 END-->

<script>
    function OpenForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('open');
    }
    function CloseForgotPasswordDialog() {
        $("#ForgetPw_DL").dialog('close');
    }

    $(function () {
        $("#ForgetPw_DL").show();
        $("#ForgetPw_DL").dialog({
            autoOpen: false,
            modal: true,
            width: $("#ForgetPw_DL").find('.teBus-dialog').width(),
            show: {
                effect: "clip",
                duration: 300
            },
            hide: {
                effect: "clip",
                duration: 300
            },
            close: function (event, ui) {
                $("#ForgotPasswordForm").find('input[name="Email"]').val('');
            },
            position: { my: "center", at: "center", of: window }
        });
        $('.forgot-password-enter-submit').click(function () {
            if ($('#ForgotPasswordForm').valid()) {
                $.ajax({
                    url: '/Account/ForgotPassword',
                    dataType: "json",
                    type: "post",
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest',
                        "Email": $("#ForgotPasswordForm").find('input[name="Email"]').val(),
                        "RecaptchaToken": $('#ForgotPasswordForm textarea').val()
                    },
                    success: function (data) {
                        if (data.ErrorCode === 300) {
                            $(".forgot-password-close-submit").trigger('click');
                            alert(data.Msg);
                        }
                        if (data.ErrorCode === 301 || data.ErrorCode === 103) $("#ForgotPasswordForm").find('input[name="Email"]').closest('.teBus-dialog-li').find('.teBus-diolag-note').text(data.Msg);
                    }
                });
            }
        });

        $(".forgot-password-close-submit").click(function () {
            CloseForgotPasswordDialog();
        });
    });
</script>


<script>
    $(function () {
        // Login link clicked
        $(".login-link").click(function () { OpenLoginDialog(); });
    });
</script>

        <!--end main list -->
        
<input name="__RequestVerificationToken" type="hidden" value="GfqEm5pR4oEwvb32F43LMRQvJYwVTTgWPDUyHXiqK27yJ2cB_SJ006SiHZRrrFX5-InTqE_XLPkVtG-TqGWmPu2MmPE1" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54651832-1', { 'cookieDomain': 'none' });
  ga('set', 'language', 'zh-TW');
  ga('set', 'screenResolution', screen.width + 'x' + screen.height);
  ga('set', 'viewportSize', screen.availWidth + 'x' + screen.availHeight);
  ga('set', 'screenColors', screen.colorDepth + '-bits');
  ga('set', 'hostname', location.hostname);

  ga('send', 'pageview');
  ga('send', 'event', {
      'eventCategory': 'PageView',
      'eventAction': 'Inter',
      'eventLabel': document.location.pathname,
      'eventValue': 1
  });

</script>

<script>
    $(function () {
        var token = $('input[name=__RequestVerificationToken]').filter(function () { return $(this).val() !== '' });
        $('input[name=__RequestVerificationToken]').val(token.val());
    });
</script>

    <script>
        $(function () {
            $('#sectionMain').show();
        });
    </script>

<script>
    $(function () {
    var alertPageNum = '2';
        $.ajax({
            url: '/NewsAlert/GetAlertNews',
            type: 'post',
            dataType: 'json',
            data: {
                '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                'X-Requested-With': 'XMLHttpRequest'
            },
            error: function (response) {
            },
            success: function (response) {
                response.forEach(function (info) {
                    var s = info.AlertPageList.split(';');
                    s.forEach(function (v) {
                        if (v == alertPageNum) {
                            var img = '';
                            if (info.AlertPicLink != null && info.AlertPicLink.length > 0)
                            {
                                //img = '<img src="' + info.AlertPicLink + '"   ><br/>';
                                img = '<img class="swal2-image" src="' + info.AlertPicLink + '" alt="">';
                                //img = info.AlertPicLink;
                            }

                            if (localStorage.getItem("FnAlertId" + info.Id) != "true")
                                Swal.fire({
                                    title: '<font color="#E78838">' + info.AlertContent + '</font>',
                                    html: img,
                                    //imageUrl: img,
                                    async: false,
                                    confirmButtonText: '確定',
                                    input: 'checkbox',
                                    inputPlaceholder: '不再提示'
                                }).then((result) => {
                                    /* Read more about isConfirmed, isDenied below */
                                    if (result.isConfirmed) {
                                        if (result.value) {
                                            localStorage.setItem("FnAlertId" + info.Id, "true");
                                        } else { }
                                    } else if (result.isDenied) {
                                        //Swal.fire('Changes are not saved', '', 'info')
                                    }
                                });//end swal
                        }
                    });

                });//for
            },
            complete: function () {
              
            }
        });
    });

</script>
<section class="info-c route-list" id="sectionMain" style="display:none;">
    <div id="findPanel" class="word-info-c stationlist-c">
        <h2>查詢結果</h2>
        <div class="search-c">
            <div class="stationlist-text-c">
                                <img src="/images/new_taipei_city.svg" width="100%" class="vipstop-city" alt="新北市">                
 <span class="stationlist-title">直潭里線 </span>                 

                        <a href="../EBus/VsSimpleMap?routeid=0454093500" class="stationlist-move-route-icon stationlist-move-table-icon @*pad-none*@" title="動態簡圖" alt="動態簡圖"></a>
                    <a href="../MapOverview?nid=0454093500" target="_blank" class="stationlist-move-route-icon stationlist-route-list-icon" style="width:90px;height:30px;position:relative;" title="路線圖" alt="路線圖"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-info-table-icon " title="公車資訊" alt="公車資訊"></a>
                        <a href="javascript:void(0);" class="stationlist-move-route-icon stationlist-bus-time-icon" title="時刻表" alt="時刻表"></a>

                    <br />


                            <a style="color:#4CAF50;">新北市政府交通局公車申訴服務電話02-89682460</a></div>
            <ul class="stationlist-move-route-bus-info" style="display: none;">
                <li>
                    <span class="stationlist-move-route-bus-item">起迄站名 :</span>
                    <span class="stationlist-move-route-bus-content">下石厝路 - 新店捷運站</span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">頭末班車 :</span>
                    <span class="stationlist-move-route-bus-content">
                        [平日] 0620 - 1905 <br>
                        [假日] 停駛
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item-02">發車間隔 :</span>
                    <span class="stationlist-move-route-bus-content">
[平日] <br /> 水源區直潭里去班表:0620 0740 0900 1020 1140 1600 1740 1905<br/>水源區直潭里返班表:0700 0820 0940 1100 1520 1700 1830<br/>第8班僅行駛到新店捷運站<br>
[假日]<br /> <br>
                    </span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">分段緩衝 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">收費方式 :</span>
                    <span class="stationlist-move-route-bus-content"></span>
                </li>
                <li>
                    <span class="stationlist-move-route-bus-item">業者服務電話 :</span>
                        <span class="stationlist-move-route-bus-content">新店區公所新店區公所站:(02)2911-2281</span>
                </li>

                    <li>
                        <span class="stationlist-move-route-bus-item">備註 :</span>
                        <span class="stationlist-move-route-bus-content">例假日停駛</span>
                    </li>
            </ul>
                <p class="stationlist-come-go-c">
                    <a href="javascript:void(0);" class="stationlist-come-go stationlist-go">去程往 新店捷運站</a>
                    <a href="javascript:void(0);" class="stationlist-come-go-gray stationlist-come">返程往 下石厝路</a>
                </p>


            <p> 
</p>
        </div>

        <div id="GoDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c" >
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">下石厝路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315203710" />
                                    <input data-val="true" data-val-number="欄位 Latitude 必須是數字。" data-val-required="Latitude 欄位是必要項。" id="item_Latitude" name="item.Latitude" type="hidden" value="24.927454" />
                                    <input data-val="true" data-val-number="欄位 Longitude 必須是數字。" data-val-required="Longitude 欄位是必要項。" id="item_Longitude" name="item.Longitude" type="hidden" value="121.533051" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">直潭國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315203800" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.937785" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.531919" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">三界公廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315203900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.939902" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.531953" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">金龍路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315302710" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.947733" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.528308" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">海會寺</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315302850" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.941919" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.538464" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">直潭里辦公處</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315302900" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.949682" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.537667" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">永業路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315303010" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.956257" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.534179" />
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">新店捷運站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2314702500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.958014" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.537332" />
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
        <div id="BackDirectionRoute" class="auto-list-pool-c stationlist-list-pool-c"   style = "display:none">
            <ul class="auto-list-pool stationlist-list-pool">

                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 1</span>
                                    <span class="auto-list-stationlist-place">新店捷運站</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2314702500" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.958014" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.537332" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 2</span>
                                    <span class="auto-list-stationlist-place">永業路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315303050" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.956369" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.534081" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 3</span>
                                    <span class="auto-list-stationlist-place">直潭里辦公處</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315302940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.949726" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.537479" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 4</span>
                                    <span class="auto-list-stationlist-place">海會寺</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315302850" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.941919" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.538464" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 5</span>
                                    <span class="auto-list-stationlist-place">金龍路口</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315302750" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.947855" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.528301" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 6</span>
                                    <span class="auto-list-stationlist-place">三界公廟</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315203940" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.939904" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.531816" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 7</span>
                                    <span class="auto-list-stationlist-place">直潭國小</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315203840" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.937812" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.531741" />
                                   
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="auto-list-link auto-list-stationlist-link">
                                <span class="auto-list auto-list-stationlist">
                                    <span class="auto-list-stationlist-position auto-list-stationlist-position-time"></span>
                                    <span class="auto-list-stationlist-number"> 8</span>
                                    <span class="auto-list-stationlist-place">下石厝路</span>
                                    <input id="item_UniStopId" name="item.UniStopId" type="hidden" value="2315203750" />
                                    <input id="item_Latitude" name="item.Latitude" type="hidden" value="24.92753" />
                                    <input id="item_Longitude" name="item.Longitude" type="hidden" value="121.532933" />
                                   
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <!-- being 地圖區塊縮合 -->
    

<link href="/jss/leaflet/leaflet.css" rel="stylesheet" />
<script src="/jss/leaflet/leaflet.js"></script>
<script src="/jss/leaflet/wicket.js"></script>
<script src="/jss/leaflet/wicket-leaflet.js"></script>
<script src="/jss/LMap.js"></script>
<script src="/jss/LMapLayerToggle.js"></script>


<!-- being 地圖區塊縮合 -->
<div class="map-s-c">
    <a href="javascript:void(0);" id="close-open-map" class="open-map-icon pad-none" title="展開地圖" alt="展開地圖"></a>
    <div class="map-date">
        <div class="map-icon-pool-c">
            <div class="map-icon-pool">
                <a href="javascript:void(0);" class="map-icon map-youbike" title="YouBike" alt="YouBike"></a>
                
                <a href="javascript:void(0);" class="map-icon map-my-place" title="&lt;我的位置&gt;" alt="&lt;我的位置&gt;"></a>
               <!-- <a href="javascript:void(0);" id="MapButton" class="map-icon map-map" title="開啟地圖" alt="開啟地圖"></a>-->
            </div>
        </div>
        <div id="map_canvas" class="map">
            <a href="javascript:void(0);"  style="color: #0094ff" id="maplink" title="開啟地圖" alt="開啟地圖">開啟地圖</a>
           
        </div>
    </div>
</div>
<style>
    .word-info-none {
        display: none;
    }
</style>
<script>
    $('#close-open-map').click(function () {
        $('#close-open-map').toggleClass("close-map-icon pad-none");
        $('.map-s-c').toggleClass("map-b-c pad-none");
        $('#findPanel').toggleClass("word-info-none");

        var cls = $('#close-open-map').attr('class');
        if (cls == "open-map-icon close-map-icon") {
            $('#close-open-map').attr("title", i18n._('Shrink the map'));
            $('#close-open-map').attr("alt", i18n._('Shrink the map'));
        }
        else{
            $('#close-open-map').attr("title", i18n._('Enlarge the map'));
            $('#close-open-map').attr("alt", i18n._('Enlarge the map'));
        }

        MoveCenter();
    });

    //地圖縮放用
    function MoveCenter() {
        map.invalidateSize();
    };

    $('.map-youbike').click(function () {
        $('.map-youbike').toggleClass("map-youbike-o");
        var bl = $('.map-youbike').hasClass("map-youbike-o");

        if (bl) YoubikeFetch();
        else StopFetchYoubike();
    });

    $('.map-newbike').click(function () {
        $('.map-newbike').toggleClass("map-newbike-o");
        var bl = $('.map-newbike').hasClass("map-newbike-o");

        if (bl) NewbikeFetch();
        else StopFetchNewbike();
    });

    $('.map-my-place').click(function () {
        $('.map-my-place').toggleClass("map-my-place-o");
        var bl = $('.map-my-place').hasClass("map-my-place-o");

        if (bl) getLocation();
        else clearNowLocMarkers()
    });

    function newloadmap()
    {

    }

    $('.map-map').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });

    $('#maplink').click(function () {
        var options = {
            zoom: 10,
            center: centerPoint,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            },
            styles: [{ featureType: "landscape", stylers: [{ saturation: -100 }, { lightness: 60 }] }, { featureType: "road.local", stylers: [{ saturation: -100 }, { lightness: 40 }, { visibility: "on" }] }, { featureType: "transit", stylers: [{ saturation: -100 }, { visibility: "simplified" }] }, { featureType: "administrative.province", stylers: [{ visibility: "off" }] }, { featureType: "water", stylers: [{ visibility: "on" }, { lightness: 30 }] }, { featureType: "road.highway", elementType: "geometry.fill", stylers: [{ color: "#ef8c25" }, { lightness: 40 }] }, { featureType: "road.highway", elementType: "geometry.stroke", stylers: [{ visibility: "off" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#b6c54c" }, { lightness: 40 }, { saturation: -40 }] }, {}]
        };
        $("#MapButton").hide();
        map = new google.maps.Map(document.getElementById("map_canvas"), options);

        // 畫路線軌跡
        drawRouteTrack();

        var routePathBounds = new google.maps.LatLngBounds();
        var path = new google.maps.MVCArray();

        if (objArr.RouteTracks.length != 0) {
            for (var i = 0; i < objArr.RouteTracks.length; i++) {
                var latlng = new google.maps.LatLng(objArr.RouteTracks[i]
                    .Latitude,
                    objArr.RouteTracks[i].Longitude);
                path.push(latlng);
                routePathBounds.extend(latlng);
            }
            routePath.setPath(path);
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }

        pointRouteStops(true);
        routePath.setOptions({ strokeColor: '#9863b6' });


        if (objArr.RouteTracks.length != 0) {
            if (map == null)
            { }
            else {
                map.fitBounds(routePathBounds);
            }
        }
        stopStationStatusReport();
        stationStatusReport();
        stopBusStatusReport();
        busStatusReport();

    });


</script>
    <!-- end 地圖區塊縮合 -->

</section>

<section class="info-c route-chart" style="display:none;">
    <!--路線簡圖-->
</section>

<div id="Toolbar" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog tool-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img tool-dialog-img" alt=" "></span>快捷工具列</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <div class="tool-icon-pool">
            <a id="routeList" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_route_icon.svg" width="100%" alt="行經路線">行經路線</a>
            <a id="busAlert" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_remind_icon.svg" width="100%" alt="到站提醒">到站提醒</a>
            <a id="addToMybus" href=javascript:void(0) class="teBus-login-dialog-link-one"><img src="/images/dialog_add_bus_icon.svg" width="100%" alt="加入我的公車">加入我的公車</a>
            <a class="teBus-login-dialog-link-one-recent3" id="recent3">
                <font>
                    .</font><br />
                    <font>
                        .</font><br />
                        <font">.</font><br />
            </a>
</div>
    </div>
</div>

<input type="hidden" id="selected_stop_id" />
<input type="hidden" id="selected_stop_name" />
<div id="SetAlertTime" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>設定到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="set-up-remind-dialog-c">
            <a href="javascript:setAlertConfirm(180);" class="set-up-remind-time-dialog">3分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(300);" class="set-up-remind-time-dialog">5分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(600);" class="set-up-remind-time-dialog">10分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(900);" class="set-up-remind-time-dialog">15分鐘前提醒</a>
            <a href="javascript:setAlertConfirm(1200);" class="set-up-remind-time-dialog">20分鐘前提醒</a>
        </div>
    </div>
</div>
<div id="News_Detail_DL" class="teBus-dialog-c" style="display:none">
    <div class="teBus-dialog news-dialog-c">
        <h1 class="teBus-dialog-h1"><span class="teBus-dialog-title-img remind-dialog-img" alt=" "></span>到站提醒通知</h1>
        <span class="teBus-dialog-close-icon-c"><a href="javascript:void(0);" class="teBus-dialog-close-icon" title="關閉" alt="關閉"></a></span>
        <div class="remind-dialog-c">
        </div>
    </div>
</div>
<script>
    $(function () {
        window.setInterval(StartBusArrivalAlert, 1000 * 60);

        $("#News_Detail_DL").dialog({
            autoOpen: false,
            width: $('#News_Detail_DL').width(),
            modal: true,
            show: {
                effect: "clip",
                duration: 600
            },
            buttons: {},
            hide: {
                effect: "clip",
                duration: 500
            },
            close: function (event, ui) {
                $('#News_Detail_DL').find('.remind-dialog-c').html('');
            }
        });

        $(".ui-dialog-titlebar").hide();
    });
    function StartBusArrivalAlert() {
        if (localStorage.bus_alert !== undefined && !$("#News_Detail_DL").dialog("isOpen")) {
            var busAlert = JSON.parse(localStorage.bus_alert);
            var m = $.map(busAlert, function (value, index) {
                return { "UniStationId": value.StopId, "UniRouteId": value.RouteId, "UniBusId": "", "BusLicence": "", "BusType": 0, "RouteDirect": 0, "ETA": 0 };
            });
            $.ajax({
                url: '/Stop/StatusOfRutStp',
                type: 'post',
                dataType: 'json',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'models': JSON.stringify(m)
                },
                error: function (response) {

                },
                success: function (response) {
                    $.each(busAlert, function (idx, val) {
                        $.each(response, function (index, value) {
                            if (value.ETA !== 0 && val.RouteId === value.UniRouteId &&
                                val.StopId === value.UniStationId && val.SetTime > value.ETA) {
                                $('#News_Detail_DL').find('.remind-dialog-c').append(
                                    $('<p/>', { 'class': 'remind-content-dialog', 'text': val.RouteName + " " + val.StopName }),
                                    $('<p/>', { 'class': 'remind-time-dialog', 'text': i18n._('Estimate') + Math.floor(value.ETA / 60) + i18n._('Arrives minute(s)') })
                                );
                                for (var i = 0; i < busAlert.length; i++) {
                                    if (busAlert[i].RouteId == value.UniRouteId && busAlert[i].StopId == value.UniStationId && val.SetTime > value.ETA) {
                                        busAlert.splice(i, 1);
                                    }
                                    AlertDelete(i);
                                }
                                localStorage.setItem('bus_alert', JSON.stringify(busAlert));
                            }
                        });
                        if ($('#News_Detail_DL').find('.remind-dialog-c').html().trim() !== '') {
                            if (!$("#News_Detail_DL").dialog("isOpen")) {
                                $("#News_Detail_DL").dialog("open");
                            }
                        }
                    });
                }
            });
        }
    }
</script>

<div id="AddToMyBus" class="teBus-dialog-c" style="display:none;">
    <div class="teBus-dialog alternative-route-dialog-c">
        <h1 class="teBus-dialog-h1">選擇公車群組</h1>
        <span class="teBus-dialog-close-icon-c"><a href="#" class="teBus-dialog-close-icon" title="關閉"></a></span>
        <ul class="dialog-chose-bos-group-pool"></ul>
    </div>
</div>





    </div>
    <!-- end content -->
    <!-- loading dialog -->
    <div id="Loading_DL" class="teBus-dialog-c" style="display: none;">
        <div class="teBus-dialog loading-dialog-c">
            <p class="loading-dialog-p"><img src="/images/dialog_loading_bus_img.gif" class="loading-dialog-img" width="100%" alt=" ">資料載入中，請稍候</p>
        </div>
    </div>
    <!-- end loading dialog -->
    
<footer class="teBUS-main-footer">
    <div class="teBUS-main-footer-logo">
                <a href="https://www.gov.taipei/" target="_blank" class="teBUS-main-footer-taipei" title="臺北市政府" alt="臺北市政府"><img src="/images/taipei_city.svg" width="100%" title="臺北市政府" alt="臺北市政府"></a>
                <a href="https://www.ntpc.gov.tw/" target="_blank" class="teBUS-main-footer-new-taipei" title="新北市政府" alt="新北市政府"><img src="/images/new_taipei_city.svg" width="100%" title="新北市政府" alt="新北市政府"></a>

      
        <span class="teBUS-main-footer-ebus-logo" title="大臺北公車"><img src="/images/logo_img02.svg" width="100%" title="大臺北公車" alt="大臺北公車"></span>
    </div>
    <div class="teBUS-main-footer-text">
        <p class="teBUS-main-footer-Copyright">本網站所有版權歸屬於臺北市政府與新北市政府 Copyright&#169;2014<span></span></p>
        <p>
            建議瀏覽器IE9.0以上版本/Firefox/Google Chrome (最佳螢幕解析1024*768) <br />
            如有大臺北公車網站服務任何問題，請撥1999為您服務
            聯絡地址:110210臺北市信義區松德路300號4樓
        </p>
    </div>
    <div class="teBUS-main-footer-link-pool">
        <a href="/Home/WebSite" class="teBUS-main-footer-link" target="_self">網站導覽</a>
        
        <a href="/Home/CopyrightNotice" class="teBUS-main-footer-link" target="_self">著作權聲明</a>
        <a href="/Home/SecurityPrivacyPolicy" class="teBUS-main-footer-link" target="_self">隱私權及網站安全政策</a>
        <p class="teBUS-main-footer-date">網站更新日期:<span>2025-06-02</span><br />網站檢視日期:2025-06-02</p>
    </div>
</footer>
<!-- end footer -->

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    
    <script src="/jss/tebus-script.js"></script>
    <script src="/bundles/sweetAlert?v=cMcnF9PMfZnW6d_oMLsRilV8d-Fh8HT8X6rfi8S_EV41"></script>

    <script src="/sweetAlert/css?v=Q7l7a83fZdl7_6jt13P3HsHoLWvbYv1YpqCreuQlPuQ1"></script>

    <script src="/bundles/sweetAlert2?v=PwfQxO_e6ZEtKGd2oGReTt3SIS48xCdv8zRgwComWDA1"></script>

    <script src="/sweetAlert2/css?v=fJb18S8FvSIfJsXWl8pwQn02lsvJyZVA2V9a_xRxskI1"></script>

    
    <script src="/bundles/customScrollbar?v=FNWrR0EcYik_CfSZ44D3T7EmJWx0Sy8nttPc_daLKEU1"></script>

    <script src="/bundles/busInfoHelper?v=Bz-GVCVvhrGERqTqUhEyiA19qHoesHwpCKpDnLmBTC81"></script>

    <script src="/bundles/busArrivalAlert?v=MDKgeaTn7JrPx59avQagl_lTQuO4AjqKyXZGq_1HMcs1"></script>

    <script src="/bundles/jqueryval?v=kO9SZjRLUEvNZbFlwaT1hsJ0t0ngQHk32HeNdumCbRM1"></script>

    <script src="/bundles/toastr?v=nU7i1d5lsXeim4T9MB2Gdegj9fc8yXl1nK6hEZMOAm81"></script>

    
<style>
.marker-g {
    background-image: url("../images/mapIcon/station_01.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .marker-b {
    background-image: url("../images/mapIcon/station_02.png");
    background-size:24px 24px;
	/*background-color: rgba(218, 94, 94, 0.6);*/
	}
    .custompopup .leaflet-popup-content-wrapper a {
    color: #ffffff;
}
    .custompopup .leaflet-popup-content p{
    margin: 0;
}
    


    </style>

<script src="/jss/VsSimpleMap.js"></script>

    <script>

        viccknCulture = 'zh-TW';
        //var InfoBox = new google.maps.InfoWindow({ content: " " });
        var routePath;
        var Marker_Bus_Status = [];
        var busFetchInterval = null;
        var stopFetchInterval = null;
        var goStopStationNum = []; //去程站位數量
        var backStopStationNum = []; //返程站位數量



        //#region 時刻表
        $('.stationlist-bus-time-icon').click(function () {
            var _date = new Date();
            var _nowDate = _date.getFullYear() + "/" +( _date.getMonth()+1) + "/" + _date.getDate();
            //var _url = "http://web.taiwanbus.tw/eBUS/subsystem/Timetable/TimeTableAPIByWeek.aspx?RouteId=" + "" + "&SearchDate=" + _nowDate;
            var _url = "../Route/RouteSchedule?routeid=0454093500";

            window.open(_url, "_blank");
        });
        //#endregion


        var existGoNum = 8;
        var existBackNum = 8;

        function getStopStationNum(goBack) {
            switch (goBack) {
                case 1:
                    var go = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (go && go.length === existGoNum) {
                        goStopStationNum = go;
                    }

                    goStopStationNum = $("#GoDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });
                    break;
                case 2:
                    var back = $("#BackDirectionRoute div > div > li > a > span > span.auto-list-stationlist-number")
                        .text()
                        .trim()
                        .split(' ')
                        .filter(function(v){return v!==''})
                        .map(function(item, index) { return parseInt(item) });

                    if (back && back.length === existBackNum) {
                        backStopStationNum = back;
                    }

                    break;

            }
        }

        getStopStationNum(1);
        getStopStationNum(2);

        function bindInfoWindow(marker, map, InfoBox, content) {
            google.maps.event.addListener(marker,
                'click',
                function() {
                    InfoBox.setContent(content);
                    InfoBox.open(map, marker);
                });
        }

        function createBusMarker(lat, lng, title, icon) {
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(lat, lng),
                map: map,
                title: title,
                icon: icon
            });
            Marker_Bus_Status.push(marker);
        }

        function clearBusMarkers() {
            while (Marker_Bus_Status[0]) {
                Marker_Bus_Status.pop().setMap(null);
            }
        }

        function drawRouteTrack() {
            routePath = new google.maps.Polyline({
                geodesic: true,
                strokeColor: '#9863b6',
                strokeOpacity: 1.0,
                strokeWeight: 4
            });
            routePath.setMap(map);
        }


        function pointRouteStopsLMap(isGoDirection) {
            clearMarkers();
            var stops;
            var iconUrl;
            if (isGoDirection) {
                if (objArr.GoDirStops ==null)
                {stops = objArr.BackDirStops;
                    iconUrl = 'marker-g';
                }
                else
                {
                    stops = objArr.GoDirStops;
                    iconUrl = 'marker-g';
                }
                //stops = objArr.GoDirStops;
                //iconUrl = 'marker-g';
            } else {
                stops = objArr.BackDirStops;
                //iconUrl = "images/mapIcon/station_02.png";
                iconUrl = 'marker-b';
            }
            var arMarker = [];
            for (var i in stops) {
                infoLink =
                    "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'><p class='inforwindow-1ocation'>" + stops[i].Name + "</p><p class='inforwindow-1ocation-number'>"+ "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";
                // "<div class='inforwindow-bike-c'><div class='inforwindow-1ocation-c'>" + "<p class='inforwindow-1ocation-number'>" + stops[i].PublicId + "</p></div><a class='inforwindow-transplan-start-end-icon02' href='" + SitePath + "Stop/RoutesOfStop?Stopid=" + stops[i].UniStopId + "'>" + i18n._('List of Routes') + "</a></div>";

                var GoStopsicon = new L.DivIcon({ html: '<div align="center"  valign="center"><span>' + (parseInt(i)+1) + '</span></div>', className:  iconUrl, iconSize: new L.Point(24, 24),iconAnchor: [12, 24], });
                //var GoStopsicon = L.icon({
                //    iconUrl: '/images/mapIcon/station_01.png',
                //    iconSize: [16, 16]
                //});
                m = L.marker([stops[i].Latitude, stops[i].Longitude], { icon: GoStopsicon });
                m.bindPopup(infoLink, {
                    maxWidth : 300,
                    maxHeight:170,
                    className:'custompopup'
                });
                setStationMarkers(m);
                //m.bindTooltip(data[i].tooltip);

                arMarker.push(m);
            }
            StoplayerGroup = L.layerGroup(arMarker).addTo(map)
            //layerMap.set('layername', L.layerGroup(arMarker).addTo(map));
        }

        function stopStatusRecent3Report(stopId) {
            (
                function startFatch() {
                    $.ajax({
                        // url: '/Route/StopStatusRecent3OfRoute?routeid=0454093500',
                        url: './StopStatusRecent3OfRoute?routeid=0454093500&stopid='+stopId,
                        type: 'post',
                        dataType: 'html',
                        data: {
                            '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        error: function(xhr) {

                        },
                        success: function(response) {
                            // clearBusMarkers();
                            //var jsonObjArr = JSON.parse(response);// vic
                            // var jsonObjArr = response;
                            //  alert(response);
                            $('#recent3').empty();
                            $('#recent3').append(response);


                        }
                    });
                    //if (busFetchInterval == null) {
                    //    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                    //}
                })();
        }

        function busStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/BusStatusOfRoute?routeid=0454093500',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        clearBusMarkers();
                        var jsonObjArr = JSON.parse(response);// vic
                        // var jsonObjArr = response;
                        if (BuslayerGroup != null) {
                            BuslayerGroup.clearLayers();
                        }
                        var arMarker = [];
                        for (var i in jsonObjArr) {
                            if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                                    $('.stationlist-come-go-c').length === 0) &&
                                jsonObjArr[i].RouteDirect === 1) {

                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                                //createBusMarker(value.position.Latitude,
                                //    value.position.Longitude,
                                //    value.BusLicence,
                                //    busIcon(value.BusType));
                            }
                            if ($('.stationlist-come').hasClass('stationlist-come-go') && jsonObjArr[i].RouteDirect === 2) {
                                m = L.marker([jsonObjArr[i].position.Latitude, jsonObjArr[i].position.Longitude], { icon:  L.icon({iconUrl: busIcon(jsonObjArr[i].BusType),iconAnchor: [16, 32]}) });
                                m.bindPopup(jsonObjArr[i].BusLicence);
                                arMarker.push(m);
                            }


                        }
                        BuslayerGroup = L.layerGroup(arMarker).addTo(map)
                        //$.each(jsonObjArr,
                        //    function(idx, value) {
                        //        if (($('.stationlist-go').hasClass('stationlist-come-go') ||
                        //                $('.stationlist-come-go-c').length === 0) &&
                        //            value.RouteDirect === 1) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //        if ($('.stationlist-come').hasClass('stationlist-come-go') && value.RouteDirect === 2) {
                        //            //createBusMarker(value.position.Latitude,
                        //            //    value.position.Longitude,
                        //            //    value.BusLicence,
                        //            //    busIcon(value.BusType));
                        //        }
                        //    });
                    }
                });
                if (busFetchInterval == null) {
                    busFetchInterval = window.setInterval(startFatch, 1000 * 13);
                }
            })();
        }

        function stopBusStatusReport() {
            clearBusMarkers();
            clearInterval(busFetchInterval);
            busFetchInterval = null;
        }

        function busIcon(btype) {
            var url;
            if (btype === 2) {
                url = SitePath + "images/mapIcon/LowFloorBus06.png";
                return url;
            }
            if (btype === 51) {
                url = SitePath + "images/mapIcon/FukangBus06.png";
                return url;
            }
            if (btype === 52) {
                url = SitePath + "images/mapIcon/YuanZaiBus06.png";
                return url;
            }
            if (btype === 6) {
                url = SitePath + "images/mapIcon/AccMiniBus06.png";
                return url;
            }
            url = SitePath + "images/mapIcon/NormalBus06.png";
            return url;
        }

        //依據清單，過濾重複項目
        function unique(list) {
            var result = [];
            $.each(list,
                function(i, e) {
                    if ($.inArray(e, result) === -1) result.push(e);
                });
            return result;
        }

        function stationStatusReport() {
            (function startFatch() {
                $.ajax({
                    url: '/Route/StopStatusOfRoute?routeid=0454093500',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    error: function(xhr) {

                    },
                    success: function(response) {
                        // Clearing
                        $('.auto-list-stationlist-bus').remove();
                        $('.auto-list-stationlist-position')
                            .removeClass('auto-list-stationlist-position-none auto-list-stationlist-position-now auto-list-stationlist-position-time')
                            .html('');
                        
                        var jsonObjArr = JSON.parse(response);
                        var goStationList = []; //去程站位及站序
                        var backStationList = []; //返程站位及站序
                        var uniStation = []; //取得車號
                        var tempduplicate = [];//重複站牌編號項目(暫存)
                        var duplicateStation; //重複站排項目
                        var filterDuplicate;//取得有重複的站位及公車編號

                        if (jsonObjArr.length !== 0) {

                            var hasSeq = jsonObjArr[0].StopSequence !== 65535;
                            //hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                            // if ($('.stationlist-go').hasClass('stationlist-come-go') ||$('.stationlist-go').hasClass('stationlist-go')) {
                            if ($('.stationlist-go').hasClass('stationlist-come-go') ||objArr.BackDirStops === null) {
                                //if ($('.stationlist-go').hasClass('stationlist-come-go') ||!($('.stationlist-come-go-c').length == 0)) {

                                //取得去程站位及站序
                                $.each( $('#GoDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    goStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                        
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                if (tempduplicate.length==0)
                                {hasSeq=false;
                                }

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(goStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                //去程
                                $('#GoDirectionRoute li').map(function(index, item) {

                                    //站排編號
                                    var _UniStopId = $(item).find('input#item_UniStopId').val();
                                    //站牌站序
                                    var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());

                                    var tmp = jsonObjArr.filter(function(item) {

                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                        return false;
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }
                                            }
                                        }

                                        if (value.Vehicles.length > 0) {

                                            var _html = "<span class='auto-list-stationlist-bus'>";

                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                //'<img src=\"../images/seats/seat00.png\">'
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                {
                                                    if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                        value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                        dogimg="<img src='" +
                                                            SitePath +
                                                            "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                    }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html = _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                        "'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }
                                        if(value.NextDepTime!='FF')
                                        {
                                           
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else
                                    {
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });

                            } else {

                                //取得返程站位及站序
                                $.each( $('#BackDirectionRoute li  '), function( index, item ){
                                    var uniStopId = $(item).find('input#item_UniStopId').val();
                                    var stopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim());
                                    backStationList.push({ stopSeq: stopSeq, uniStopId: uniStopId });
                                });

                                //取得相同站牌編號
                                $.grep(jsonObjArr,function(item) {

                                    if (($.inArray(item.UniStationId, uniStation) === -1)) {
                                        //未重複
                                        uniStation.push(item.UniStationId);
                                    } else {
                                        //有重複
                                        tempduplicate.push(item.UniStationId);
                                    }
                                });

                                //重複站排項目
                                duplicateStation = unique(tempduplicate);

                                //取得有重複的站位及公車編號
                                filterDuplicate = $.grep(jsonObjArr,function(item) {

                                    //取得有重複站位
                                    if (($.inArray(item.UniStationId, duplicateStation) !== -1)) {

                                        //確定該站位，有在站位列表中
                                        var result = $.grep(backStationList,function(e) { return e.uniStopId === item.UniStationId; });

                                        if (result && result.length > 0) {

                                            //在資料內找出該站位的進站公車，是否有重複
                                            if (item.Vehicles && item.Vehicles.length > 0) {

                                                //依據該公車編號，取得是否有重複的
                                                var busIdDuplicate = $.grep(item.Vehicles,function(value) {

                                                    var getVehicles = $.grep(jsonObjArr,function(data) {

                                                        //找出有重複的公車編號
                                                        var filterVehicles = $.grep(data.Vehicles,function(vehicles) {
                                                            return value.UniBusId === vehicles.UniBusId;
                                                        });

                                                        //若相同公車編號找尋結果，有2筆以上，則回傳該項目
                                                        if (filterVehicles && filterVehicles.length > 0) {
                                                            return data;
                                                        }
                                                    });

                                                    if (getVehicles && getVehicles.length > 0) {
                                                        return value;
                                                    }
                                                });

                                                if (busIdDuplicate && busIdDuplicate.length > 0) {
                                                    return item;
                                                }


                                            }


                                        }

                                    }
                                });

                                hasSeq = jsonObjArr[0].UniRouteId[9] =='0' ?hasSeq:false;
                                //返程
                                $('#BackDirectionRoute li').map(function(index, item) {

                                    var _UniStopId = $(item).find('input#item_UniStopId').val();

                                  if ($('.stationlist-come-go-c').length === 0)
                                    { var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.BackDirStops.length;
                                    }
                                    else
                                    {
                                        var _StopSeq =parseInt($(item).find('.auto-list-stationlist-number').text().trim()) +objArr.GoDirStops.length;
                                    }

                                    var tmp = jsonObjArr.filter(function(item) {
                                        if (hasSeq) {
                                            if (item.UniStationId == _UniStopId &&
                                                item.StopSequence == (_StopSeq - 1))
                                                return true;
                                        } else {
                                            if (item.UniStationId == _UniStopId)
                                                return true;
                                        }
                                    });

                                    if (tmp && tmp.length > 0) {

                                        var value = tmp[0];

                                        //依據有重複的站位及公車編號，取得下一站位的等待時間
                                        var  filterBusId = filterDuplicate.filter(function(item) {
                                            if (item.UniStationId === value.UniStationId) {
                                                return true;
                                            }
                                            return false;
                                        }).map(function(dirItem) {

                                            var nextStation = jsonObjArr.filter(function (station) {
                                                if ( station.StopSequence ===( parseInt(dirItem.StopSequence) +1)) {

                                                    return true;
                                                }
                                                return false;
                                            });

                                            if (nextStation && nextStation.length > 0 ) {
                                                dirItem.NextETA = nextStation[0].ETA;
                                            }

                                            return dirItem;

                                        });

                                        //若公車站編號相同超過1個以上，表示有重複
                                        if (filterBusId && filterBusId.length > 1) {

                                            //車號編號
                                            var busArray= [];
                                            //重複車號編號
                                            var tempbusArray= [];

                                            //取得重複車號
                                            $.each(filterBusId , function(index, item) {
                                                $.each(item.Vehicles , function(iVehicles, vehicles) {

                                                    if (($.inArray(vehicles.UniBusId, busArray) !== -1)) {
                                                        //未重複
                                                        busArray.push(vehicles.UniBusId);
                                                    } else {
                                                        //有重複
                                                        tempbusArray.push(vehicles.UniBusId);
                                                    }
                                                });
                                            });

                                            //過濾收集重複車號項目
                                            var duplicateBus = unique(tempbusArray);

                                            if (duplicateBus.length > 0 ) {

                                                //依進站時間排序
                                                filterBusId.sort(function (a, b) {
                                                    if (a.NextETA> b.NextETA) {
                                                        return 1;
                                                    }
                                                    if (a.ETA< b.ETA) {
                                                        return -1;
                                                    }
                                                    // a must be equal to b
                                                    return 0;
                                                });

                                                for (var i = 0; i < filterBusId.length; i++) {

                                                    if (i !==0) {
                                                        filterBusId[i].Vehicles =  $.grep(filterBusId[i].Vehicles, function(iVehicles, vehicles) {

                                                            if (($.inArray(vehicles.UniBusId, duplicateBus) === -1)) {
                                                                //未重複
                                                                return vehicles;
                                                            }

                                                        });
                                                    }
                                                }

                                            }
                                        }


                                        if (value.Vehicles.length > 0) {
                                            var _html = "<span class='auto-list-stationlist-bus'>";
                                            for (var i = 0; i < value.Vehicles.length; i++) {
                                                var dogimg=""
                                                if($('#doglink').attr('dognum')!=null)
                                                { if (value.Vehicles[i].BusLicence.indexOf($('#doglink').attr('dognum')) > -1) {
                                                    value.Vehicles[i].BusLicence=value.Vehicles[i].BusLicence.replace($('#doglink').attr('dognum'), '');
                                                    dogimg="<img src='" +
                                                        SitePath +
                                                        "images/stationlist_dogwhite_bus.png' class='bus-number-img' alt=''>";
                                                }
                                                }
                                                if (value.Vehicles[i].BusType == 2) {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'><img src='" +
                                                        SitePath +
                                                        "images/stationlist_accessibility_bus.svg' class='bus-number-img' alt='" +
                                                        i18n._('Accessibility Bus') +
                                                       "'>" +
                                                                                                               value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                } else {
                                                    _html =
                                                        _html +
                                                        "<p class='bus-number'>" +
                                                                                                                value.Vehicles[i].BusLicence +setSeatImg(value.Vehicles[i].bSetL)+
                                                        "</p>";
                                                }
                                            }
                                            $(item)
                                                .find('span.auto-list-stationlist')
                                                .append(_html.concat("</span>"));
                                        }

                                        //轉為時間
                                        if(value.NextDepTime!='FF')
                                        {
                                            $(item).find('span.auto-list-stationlist-position').addClass('auto-list-stationlist-position-now').html('預計'+value.NextDepTime+'發車');
                                        }
                                        else{
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), value.ETA);
                                        }
                                    }else{
                                        //if( jsonObjArr[0].UniRouteId[9] !='0')
                                        //    FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        if (jsonObjArr[0].UniRouteId[9] =='0')
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65535);
                                        }else
                                        {
                                            FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                        }
                                    }

                                    return item;
                                });
                            }

                        }
                        else{
                            //去程
                            $('#GoDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });

                            //返程
                            $('#BackDirectionRoute li').map(function(index, item) {
                                FormatETA($(item).find('span.auto-list-stationlist-position'), 65529);
                                return item;
                            });
                        }

                    }

                });
                if (stopFetchInterval === null) {
                    stopFetchInterval = window.setInterval(startFatch, 1000 * 15);
                }
            })();

        }

        function setSeatImg(lv)
        {
            var s = '';
            if (lv>-1)
            {
                //s = '<img src=\"../images/seats/seat'+lv+'.png\" class="bus-number-img" >';
                s = '&ensp;<img width="20px" src=\"../images/seats/people'+lv+'_B.svg\" class="bus-number-img" >';
            }
            return s;
        }

        function stopStationStatusReport() {
            clearInterval(stopFetchInterval);
            stopFetchInterval = null;
        }

        function shownewchart(_id) {

            AptsBusMap.init({
                AptsSpringWebHome: SitePath,
                uniRouteId: _id,
                goBack: 0
            });
            AptsBusMap.load('myMap');

            $('.route-list').hide();
            $('.route-chart').show();

        }

        function hidenewchart() {
            $('.route-list').show();
            $('.route-chart').hide();
            //clearInterval(AptsBusMap.......interval);//沒有停止方法
        }

        function toggleRouteListAndChart() {
            if ($('.route-chart').is(":visible")) {
                $('.route-list').toggle();
                $('.route-chart').toggle();
                google.maps.event.trigger(map, "resize");
                $('.route-chart').html('');
                busStatusReport();
                stationStatusReport();
            } else {
                stopBusStatusReport();
                stopStationStatusReport();
                $('.route-chart')
                    .html('<button onclick="toggleRouteListAndChart()">back</button><div id="myMap" class="left" style="width:900px;margin-top:30px;"></div>');
                shownewchart('0454093500');

            }
        }

        function FormatETA(elem, eta) {
            if (eta < 0) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            if (eta >= 0 && eta <= 180) {
                elem.addClass('auto-list-stationlist-position-now').html(ConvertETA(eta));
                return;
            }
            if ( eta === 65535 ||
                 eta === 65529 ||
                 eta === 65534 ||
                eta === 65532 ||
                eta === 65533 ||
                eta === 65531 ||
                eta === 65530
               ) {
                elem.addClass('auto-list-stationlist-position-none').html(ConvertETA(eta));
                return;
            }
            elem.addClass('auto-list-stationlist-position-time').html(ConvertETA(eta) + i18n._('Mins'));
        }


        function addToMyBus(routeid, stopid, groupid) {
            $.ajax({
                url: '/MyBus/NewContentOfGroup',
                type: 'post',
                dataType: 'html',
                data: {
                    '__RequestVerificationToken': $('input[name=__RequestVerificationToken]').val(),
                    'X-Requested-With': 'XMLHttpRequest',
                    'unirouteid': routeid,
                    'unistationid': stopid,
                    'groupid': groupid
                },
                beforeSend: function() {
                    $('#ProcessIconSpan').show();
                },
                error: function(response) {
                    toastr["warning"](i18n._('Added Failure'), "");
                },
                success: function(response) {
                    toastr["info"](i18n._('Added Success'), "");
                },
                complete: function() {
                    $('#ProcessIconSpan').hide();
                }
            });
        }

        var routeJsonString = JSON.stringify({"UniRouteId":"0454093500","Name":"直潭里線","BeginStop":"下石厝路","GoDirStops":[{"UniStopId":"2315203710","Name":"下石厝路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.533051,"Latitude":24.927454,"PublicId":"2315203710"},{"UniStopId":"2315203800","Name":"直潭國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.531919,"Latitude":24.937785,"PublicId":"2315203800"},{"UniStopId":"2315203900","Name":"三界公廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.531953,"Latitude":24.939902,"PublicId":"2315203900"},{"UniStopId":"2315302710","Name":"金龍路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.528308,"Latitude":24.947733,"PublicId":"2315302710"},{"UniStopId":"2315302850","Name":"海會寺","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.538464,"Latitude":24.941919,"PublicId":"2315302850"},{"UniStopId":"2315302900","Name":"直潭里辦公處","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.537667,"Latitude":24.949682,"PublicId":"2315302900"},{"UniStopId":"2315303010","Name":"永業路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.534179,"Latitude":24.956257,"PublicId":"2315303010"},{"UniStopId":"2314702500","Name":"新店捷運站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.537332,"Latitude":24.958014,"PublicId":"2314702500"}],"LastStop":"新店捷運站","BackDirStops":[{"UniStopId":"2314702500","Name":"新店捷運站","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.537332,"Latitude":24.958014,"PublicId":"2314702500"},{"UniStopId":"2315303050","Name":"永業路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.534081,"Latitude":24.956369,"PublicId":"2315303050"},{"UniStopId":"2315302940","Name":"直潭里辦公處","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.537479,"Latitude":24.949726,"PublicId":"2315302940"},{"UniStopId":"2315302850","Name":"海會寺","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.538464,"Latitude":24.941919,"PublicId":"2315302850"},{"UniStopId":"2315302750","Name":"金龍路口","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.528301,"Latitude":24.947855,"PublicId":"2315302750"},{"UniStopId":"2315203940","Name":"三界公廟","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.531816,"Latitude":24.939904,"PublicId":"2315203940"},{"UniStopId":"2315203840","Name":"直潭國小","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.531741,"Latitude":24.937812,"PublicId":"2315203840"},{"UniStopId":"2315203750","Name":"下石厝路","Name_TW":null,"Name_EN":null,"StopOrder":0,"RoutesNumber":null,"BusETA":0,"BType":0,"BLicense":null,"Longitude":121.532933,"Latitude":24.92753,"PublicId":"2315203750"}],"RouteMapUrl":"../MapOverview?nid=0454093500","RouteTracks":null,"StopDirection":null,"TicketPrice":"","BusTimeDesc":"0620 - 1905","HeadwayDesc":"水源區直潭里去班表:0620 0740 0900 1020 1140 1600 1740 1905;水源區直潭里返班表:0700 0820 0940 1100 1520 1700 1830;第8班僅行駛到新店捷運站","HolidayBusTimeDesc":"停駛","HolidayHeadwayDesc":"","RouteNote":"例假日停駛","SegmentBuffer":"","StopLng":0,"StopLat":0,"IsNtpcMainLine":false,"orgphone":"新店區公所新店區公所站:(02)2911-2281","aliasName":null,"aliasEname":null,"memo":null,"memoEn":null,"showBusTimeDesc":true,"RouteStatus":1,"wkt":"LINESTRING (121.533005792471 24.9274781995451, 121.53341506122 24.927934278777, 121.533586735207 24.9280659551846, 121.533745555915 24.9281361209956, 121.533940900297 24.9281392369107, 121.534136371938 24.9282167885481, 121.53431148195 24.9285666935434, 121.534313518113 24.9288127343241, 121.534364422186 24.9289512186, 121.53434609672 24.9291229388861, 121.534407181608 24.9294945370733, 121.534248360899 24.9298845985617, 121.534232071596 24.9301338679788, 121.533812622032 24.9304242200532, 121.533692488419 24.9306000927577, 121.533692488419 24.9307182643027, 121.533861489943 24.9308936749809, 121.533867598431 24.9310026141186, 121.533771898774 24.9311544825015, 121.533615114228 24.9315939303853, 121.533452221194 24.9320767673251, 121.533315289236 24.9321912446395, 121.533221625742 24.932217094341, 121.53316461318 24.9323006442318, 121.533150360039 24.9325019022998, 121.533097419803 24.9327160848369, 121.532952343194 24.9328919542711, 121.532891258306 24.9329454997708, 121.53276908853 24.9334149450955, 121.532824064929 24.9335072645163, 121.532799630974 24.9337034430559, 121.532492170372 24.9340565636402, 121.532467736417 24.9342818217328, 121.532541038282 24.934590627752, 121.532465700254 24.9347217200583, 121.532264120124 24.9348694295322, 121.532070684645 24.9348620440627, 121.531915936262 24.9347808038691, 121.531591677316 24.9348251167086, 121.531409949774 24.9348851236534, 121.531190044178 24.9353277893662, 121.531236875925 24.93546857427, 121.531623746882 24.9359823224072, 121.531756097472 24.9362615826255, 121.531811073872 24.9365579208758, 121.53185179713 24.9372373728654, 121.531992292372 24.9390010687313, 121.531931207484 24.9397940543533, 121.531786125248 24.9407696298529, 121.531658361652 24.9419269664888, 121.532715130213 24.9422389842981, 121.534716169333 24.9428819415818, 121.535863547144 24.9431985725788, 121.535971463779 24.9433591955722, 121.535955174476 24.9434828935968, 121.535731196554 24.943958299028, 121.535525544098 24.9442227713522, 121.535050609094 24.944715713017, 121.534657120608 24.9450300315318, 121.534400564078 24.9451892674777, 121.53407477801 24.9453720423966, 121.533726085108 24.9455160466872, 121.533312234992 24.9456545121924, 121.53299815686 24.9457140523118, 121.532293644486 24.9457915928893, 121.531549426935 24.9457472839939, 121.529520390575 24.9456438965092, 121.529226674072 24.9455922027343, 121.527178294164 24.9449787990533, 121.526858107543 24.9448403327884, 121.526520104496 24.9445777080119, 121.52629307233 24.9442984666424, 121.526138323947 24.9440381484981, 121.52605687743 24.9437182887484, 121.526014118008 24.9434782780011, 121.526010045682 24.943280730343, 121.526122034644 24.9428279388378, 121.526299180819 24.9424374567538, 121.523650641887 24.9415909464258, 121.523320274451 24.9424116091963, 121.523100368855 24.9430748742687, 121.523096296529 24.94334165629, 121.523234755608 24.9437962921405, 121.523393576317 24.9444627806489, 121.523918906353 24.9453221947184, 121.524275743906 24.945667897183, 121.524516011132 24.9458709796204, 121.525065266083 24.9461479096773, 121.525537655882 24.9464783787303, 121.526106254381 24.9466353050651, 121.526636165783 24.9468868483317, 121.52692580996 24.9469163873238, 121.527133498579 24.946968080543, 121.527534622677 24.9471674684707, 121.527700060915 24.9472842394915, 121.527830375342 24.9475556278393, 121.527913858022 24.9476590137193, 121.52804417245 24.9476885525262, 121.528215719177 24.947699629577, 121.528405082329 24.9477550148159, 121.52855168606 24.9476830140005, 121.528696909841 24.947686183143, 121.528910559777 24.9477351684415, 121.529126393048 24.9477407069649, 121.52955856863 24.9478644005895, 121.529994816537 24.9479968634006, 121.530206832003 24.948021786701, 121.530398231318 24.9480282482966, 121.53062857225 24.9479165549537, 121.531329521338 24.9478897854598, 121.531444819064 24.9478704006503, 121.531625019484 24.9478805545985, 121.531847215763 24.947839015714, 121.532162057457 24.9478639390464, 121.532298734893 24.9478851700293, 121.532683824208 24.9478260925027, 121.533217807936 24.9476393981014, 121.533559374268 24.9474520111002, 121.533723285384 24.9474169336988, 121.534042708443 24.9473751638855, 121.534190330256 24.9473834716948, 121.5344295794 24.9473465480936, 121.534808560226 24.9472643930412, 121.535288585636 24.9472505466786, 121.535492201929 24.9471794686597, 121.535681819602 24.9470223122451, 121.53583275018 24.9469835423498, 121.535925395593 24.9469890809071, 121.53599258897 24.9470204660599, 121.536182206643 24.9472152384471, 121.536327792292 24.9472964704418, 121.536404657443 24.9473963949526, 121.536489158204 24.9474037796707, 121.536593002514 24.9473843947847, 121.536723571462 24.9472736239487, 121.53709746188 24.9468310011554, 121.537235920959 24.9467673076507, 121.537456335596 24.9465224565886, 121.537872985436 24.946278528138, 121.538050386131 24.9462699894796, 121.53820920684 24.9462229114605, 121.538329340453 24.9461066009833, 121.53836904563 24.9459928289221, 121.538375154119 24.9458691334179, 121.5384036604 24.9457629767295, 121.538494524171 24.9457055136143, 121.538613639702 24.9456935132816, 121.538879613485 24.9457599766478, 121.538986512039 24.9457544380354, 121.539040724877 24.9456972056918, 121.539134388371 24.9454643528587, 121.539210744481 24.9453895813897, 121.539304662497 24.9453655806617, 121.539566563954 24.9453745809353, 121.539930273557 24.9453431953631, 121.540612133618 24.9451694206899, 121.540803532934 24.945097418363, 121.541046090843 24.944953182806, 121.541229600027 24.9448329479166, 121.541525098172 24.944573323235, 121.541812197146 24.9444339334024, 121.542013013715 24.9444127018247, 121.542236482596 24.944443164522, 121.542491002962 24.9444357796264, 121.54257957605 24.9444967050022, 121.542650078191 24.9447616377253, 121.542738651279 24.9448068700844, 121.542830278611 24.944788407899, 121.542910707047 24.9447505604103, 121.543008442867 24.9446554800823, 121.543004370541 24.9445417066808, 121.542960593038 24.9442860046161, 121.542888563775 24.9440916891543, 121.542659495445 24.9437025957523, 121.542536307588 24.9435516659523, 121.542410065486 24.9434353529528, 121.542167762097 24.9433531952917, 121.541838412743 24.9431662633306, 121.541666356976 24.943054565579, 121.541213819764 24.9429474833418, 121.541003840462 24.9428697101931, 121.540868435627 24.9427986296463, 121.540545194762 24.9425341542646, 121.540359649415 24.9424178403044, 121.540174358588 24.9423548368634, 121.540051170731 24.9422754478663, 121.539728184386 24.9422643703277, 121.539577508329 24.9422265220635, 121.539326551248 24.9421157465892, 121.538946559052 24.9419036156035, 121.53871646593 24.941874348023, 121.538479659201 24.9418879186207, 121.538466613044 24.9418504587853, 121.538704248952 24.941827268324, 121.538954442473 24.9418605010545, 121.539354039448 24.9420829754922, 121.539606778171 24.9421921355206, 121.539721821377 24.9422179831242, 121.54006415127 24.942232753181, 121.540207955277 24.942316757845, 121.540381283646 24.9423797613054, 121.540602207324 24.9425219228414, 121.540888542736 24.9427640124821, 121.541067979594 24.9428500938126, 121.541243089606 24.9429110199726, 121.541653630957 24.9430042554016, 121.541792344557 24.9430783359768, 121.542179470034 24.9433167320426, 121.542424318627 24.9434000436277, 121.542566086471 24.9435147412025, 121.542835878059 24.9438860652142, 121.542935650042 24.9440776116564, 121.543006915745 24.9442880816206, 121.5430588379 24.9445606304588, 121.543050693248 24.9447076358053, 121.542977391383 24.9447500988554, 121.542859293933 24.9448359480208, 121.542731015668 24.9448590257433, 121.542616990544 24.9447981005467, 121.542528162936 24.9445183981211, 121.542474204618 24.9444740887677, 121.542230883148 24.9444888585539, 121.542015813439 24.9444611652033, 121.54182925001 24.944473165656, 121.541550041168 24.9446070167801, 121.541255815625 24.9448712569344, 121.540904254613 24.945090193057, 121.540538322712 24.9452465000572, 121.53991882014 24.9453923507042, 121.539584380379 24.9454193515171, 121.539307462221 24.9454078127089, 121.539241286925 24.9454277748463, 121.539176638752 24.9454979307721, 121.539117971808 24.9456637432206, 121.539068976637 24.9457460147284, 121.539017563523 24.9457949391333, 121.538922754687 24.9458097087612, 121.538822982703 24.9457949391333, 121.538613003401 24.9457386299109, 121.538510940734 24.9457469378305, 121.538449855846 24.9457820157075, 121.538420331484 24.9458752489635, 121.538412186832 24.9460056369383, 121.53838266247 24.9461064855959, 121.538244966951 24.9462541814213, 121.538064766532 24.9463178751913, 121.537889402 24.9463197213871, 121.537678404616 24.9464251852729, 121.537485732699 24.9465583419538, 121.53727804408 24.9468001928882, 121.537120241453 24.9468576554927, 121.536767476225 24.9472965858281, 121.536615782087 24.9474278953878, 121.536506083809 24.9474491264458, 121.536420055925 24.9474412801857, 121.53647910465 24.9475455892503, 121.536492339709 24.9477246683235, 121.536516773664 24.9478151308491, 121.536709191061 24.9480073634953, 121.53666643164 24.9481181336714, 121.53645161645 24.94823467302, 121.536440417554 24.9483336736869, 121.536610691679 24.9485674441766, 121.536615782087 24.948643367567, 121.536588293887 24.9486904446609, 121.536370169933 24.9488076757773, 121.536275488357 24.9487929065089, 121.536249018239 24.9488215219648, 121.53625716289 24.9488722913056, 121.536408857029 24.9490940607716, 121.536643443009 24.9493264872935, 121.536811253728 24.949351829774, 121.536954039653 24.9493315221193, 121.537385960715 24.949179214602, 121.537427702055 24.9492809837367, 121.537546308546 24.9498018280822, 121.537498458717 24.9497965204194, 121.537449590807 24.9496248289438, 121.537366108127 24.9492408299385, 121.536987381821 24.9493663682066, 121.536789874017 24.9493922143047, 121.536603565109 24.9493515990052, 121.536381114309 24.9491295992337, 121.536203968134 24.9488831374802, 121.536197605125 24.9488035219208, 121.536252581524 24.948749060233, 121.536364570485 24.9487629064271, 121.536551133914 24.9486472906588, 121.53656945938 24.9486002135484, 121.536552151995 24.948564213393, 121.536400457857 24.9483516737996, 121.536400457857 24.9482095189917, 121.536629526186 24.9480920565348, 121.536661086712 24.9480200559164, 121.536519573388 24.9478848238719, 121.536470705478 24.947816515479, 121.536443217278 24.9477315914783, 121.536433036464 24.9475725895912, 121.536342427213 24.947408741278, 121.536299667792 24.9473348940796, 121.536143901327 24.9472462773832, 121.535963700908 24.9470662745222, 121.535892435206 24.9470293508259, 121.535823205666 24.9470302739185, 121.53571503451 24.9470588897839, 121.535625188821 24.9471475066151, 121.535526434919 24.9472084306496, 121.535349034223 24.9472804317425, 121.535205230216 24.9472961242828, 121.534802833517 24.9473081244593, 121.534515480024 24.9473745869542, 121.534195802444 24.9474262799811, 121.534021455993 24.9474281261602, 121.533714758951 24.9474567419332, 121.533555429202 24.9475114349646, 121.533240842029 24.9476720523342, 121.532703040495 24.9478615159448, 121.532431976305 24.9479215165403, 121.532295298868 24.947928901227, 121.532126042825 24.9479058240808, 121.531854978635 24.9478790545834, 121.531651107821 24.947923362712, 121.531571697467 24.9479270550553, 121.531453345497 24.9479079010231, 121.531345428861 24.9479319012558, 121.53071243671 24.9479522091413, 121.530613682808 24.9479745939658, 121.53042024733 24.9480669024773, 121.530151219302 24.9480659793926, 121.52990611619 24.9480124404639, 121.529115830452 24.9477788996924, 121.528872254462 24.9477816689532, 121.528731377439 24.9477314760924, 121.528564539339 24.9477179759401, 121.528419971771 24.9477936690824, 121.528473930088 24.9480622870534, 121.528677546382 24.9485995212378, 121.528818041624 24.9487476756135, 121.529147900018 24.9489692145344, 121.52926039802 24.9490619838392, 121.529571930949 24.9494312142104, 121.530036685138 24.9498327509825, 121.530479041534 24.9503875157252, 121.530782429811 24.9509270474248, 121.530804827603 24.9512335040698, 121.530977901452 24.9514481155734, 121.531065456458 24.9515921127598, 121.531344919821 24.9517624169071, 121.53151799367 24.9519304131793, 121.531589259372 24.9521501002664, 121.531726191329 24.9522465593888, 121.53199089251 24.9527560838343, 121.531860578083 24.9533126814984, 121.531726191329 24.9534848293544, 121.531707865863 24.9537178977839, 121.531927771459 24.9540114249211, 121.532007181814 24.9542204933515, 121.531903337504 24.954370025521, 121.531866686571 24.954466021386, 121.531909445993 24.9547152410707, 121.532235741103 24.9549723060319, 121.532482625858 24.9552224477229, 121.532636356159 24.9553710556456, 121.533279274605 24.9556998846507, 121.533489253907 24.9558551839386, 121.533842782696 24.9560464810092, 121.534212600788 24.9563070045271, 121.534334770564 24.9566877509266, 121.53449180963 24.9569637336413, 121.534768727788 24.957265098675, 121.534312627292 24.9587077639466, 121.534163987398 24.9589500525213, 121.534163987398 24.9590571208442, 121.53436131395 24.9593207130146, 121.533769989871 24.9596049215395, 121.533413152317 24.9597599851521, 121.533056823804 24.9599870422324, 121.532781941809 24.96030639823, 121.533087366248 24.9603839296189, 121.535135746156 24.9608998813082, 121.537291024618 24.9614255221739, 121.538437384348 24.9616774967182, 121.538673579248 24.9615778145426, 121.538803893676 24.9613747580091, 121.537948705245 24.9591401910306, 121.537915108556 24.9589417454923, 121.537560816207 24.958762682732, 121.537334802121 24.9585817736993, 121.537330729795 24.9585430074435, 121.537465116549 24.9585448534559, 121.537461044223 24.9583713281636, 121.53748649626 24.9583710974117, 121.537492604748 24.9585510837478, 121.537361272239 24.9585593908031, 121.537469188875 24.9586572294123, 121.537638190398 24.9587726050309, 121.537893983366 24.9588919033068, 121.538034733129 24.9589094403744, 121.538065275572 24.9591323455154, 121.538172174126 24.9594394739874, 121.538938280429 24.9613606824869, 121.539162258351 24.9618780145539, 121.538962714384 24.9619204716832, 121.536911280232 24.9614442126111, 121.53299828412 24.9604723061127, 121.532724929246 24.9604736906004, 121.532631265752 24.9602706322454, 121.532716784595 24.9601026473532, 121.533368356732 24.9596836071173, 121.533914557439 24.9592179539043, 121.534244924874 24.9586373847951, 121.534410363112 24.958071581105, 121.534611943242 24.957380706352, 121.534585473124 24.9572344083952, 121.534434797067 24.9569833477739, 121.534233216937 24.9566173706202, 121.534143116728 24.9563455407314, 121.533625422302 24.9559943300881, 121.533260949138 24.955787572237, 121.532617012611 24.9554437442381, 121.532107462838 24.954948076413, 121.531850906308 24.9547616235675, 121.531804074561 24.9546120918735, 121.531779640606 24.9544311767417, 121.531920135848 24.9541999557399, 121.531857014797 24.9540462696841, 121.53164321769 24.9537412046026, 121.531626928386 24.9534753681513, 121.531789821421 24.9532722982533, 121.531903846545 24.9527673911916, 121.531857014797 24.9526229338543, 121.531663579319 24.9522850968639, 121.531535301054 24.9521780226517, 121.531429420582 24.9519694122811, 121.531294524788 24.9518268001209, 121.531007425814 24.9516274197365, 121.530721853963 24.9512466576888, 121.530701492334 24.9509120476447, 121.530407775831 24.9504057463045, 121.530061119093 24.9499949806978, 121.529765875468 24.949666367226, 121.529537316179 24.9494812909942, 121.529121938941 24.9490271376657, 121.528730486617 24.9487663679753, 121.528581846723 24.948549905636, 121.52839197453 24.9480449792121, 121.528332925805 24.9477994383748, 121.528402155345 24.9477495916789, 121.528550795239 24.9476886679121, 121.528727941414 24.9476905140873, 121.528896942937 24.9477348222837, 121.529124993185 24.9477551302017, 121.529993416675 24.9480025172978, 121.530390977487 24.9480357483624, 121.530639389365 24.9479157472535, 121.53132404915 24.9478935931898, 121.531434510989 24.9478640544321, 121.531625910305 24.9478843623288, 121.53185192439 24.9478363618403, 121.532306497764 24.947895439362, 121.532681660784 24.9478308233212, 121.533207499861 24.9476425135232, 121.533557719885 24.9474611266074, 121.53404079954 24.9473780485415, 121.53417925862 24.9473817409012, 121.534422071049 24.9473522020207, 121.534808942006 24.9472709700628, 121.535287949335 24.9472543544284, 121.535512436298 24.9471860456859, 121.535663112355 24.9470383509779, 121.535832113878 24.9469811192309, 121.535929849699 24.9469885039739, 121.535997043076 24.9470106582004, 121.536170625966 24.9472100460592, 121.536323338185 24.9472949704195, 121.536392567725 24.9473946641592, 121.536496412035 24.9474020488774, 121.536612982362 24.9473762023616, 121.536733115975 24.9472709700628, 121.53709809818 24.9468237317896, 121.537234521097 24.946770192321, 121.537456971897 24.9465218796534, 121.537868276809 24.9462763357797, 121.538047459147 24.9462707971905, 121.538210352181 24.9462301808616, 121.538343211813 24.9461023316481, 121.538371718094 24.9459804824547, 121.538371718094 24.9458641717486, 121.538406332863 24.9457644767702, 121.53850814101 24.9457035520215, 121.538618093808 24.9456961672014, 121.538873123215 24.9457681691783, 121.538991220665 24.9457589381579, 121.539040088575 24.9457183216603, 121.539139860559 24.9454760070495, 121.539211635302 24.9453966200638, 121.539323624264 24.9453633882872, 121.539557783001 24.9453781579668, 121.539926837532 24.9453560034467, 121.540609461154 24.945181998015, 121.540829875791 24.9450929182161, 121.541235072215 24.9448399866225, 121.54153031584 24.9445778234007, 121.541815887691 24.9444352026813, 121.542013395495 24.9444185866644, 121.542235846295 24.9444555111434, 121.54249647515 24.9444388951292, 121.542571813179 24.9444924356112, 121.542649696411 24.9447656763294, 121.542735215254 24.9448173704511, 121.542841095726 24.9447915233929, 121.542914397592 24.944749060357, 121.543028422716 24.9446475182553, 121.543018241901 24.9445330525131, 121.542971410154 24.9442727348645, 121.542887927473 24.9440678035626, 121.542667512836 24.9437142501098, 121.542522945268 24.9435203953054, 121.542410956307 24.9434280833866, 121.542166616755 24.9433486950811, 121.541675901489 24.9430546809692, 121.5412111473 24.942943444678, 121.540987169378 24.9428677485551, 121.540873144254 24.9427865136399, 121.540545322022 24.9425243460479, 121.540373775295 24.9424112630235, 121.540186448305 24.9423540291267, 121.540062242367 24.9422691013599, 121.539723221239 24.9422524850508, 121.539580180793 24.9422284837115, 121.538950497407 24.9418975416915, 121.53873720934 24.9418680014959, 121.53848400792 24.9418879186207, 121.538460089965 24.9418484872147, 121.538698522244 24.9418329225044, 121.53895304261 24.9418587701833, 121.539227924606 24.942013856143, 121.539622940214 24.9422058670607, 121.539728820687 24.9422261758902, 121.540059188122 24.942240945946, 121.540201719527 24.942322181221, 121.540384974191 24.942375722623, 121.540615569643 24.942531269495, 121.540894523965 24.9427675895894, 121.541061998366 24.9428511323268, 121.541241180703 24.9429139047331, 121.541659103145 24.943009909528, 121.54217679757 24.9433219245945, 121.542431317936 24.9433980819981, 121.54256570469 24.9435217799837, 121.542830914911 24.9438841035924, 121.542932723058 24.944074726923, 121.543008061086 24.9442870431183, 121.543056928997 24.9445621305141, 121.543044712019 24.9447024433117, 121.542865529681 24.9448279862055, 121.542737251417 24.9448538332561, 121.542619153967 24.9447929080569, 121.542529562798 24.9445141287309, 121.542478658724 24.9444642807055, 121.542218029869 24.9444882816091, 121.542018485902 24.94445135714, 121.541828613709 24.9444642807055, 121.541549659387 24.9446045936145, 121.541251870559 24.9448672183336, 121.540884852191 24.9451003030724, 121.540546849144 24.9452387690449, 121.539911057269 24.9453864659108, 121.539586798322 24.945417851472, 121.539311916327 24.9453938507495, 121.539248795276 24.9454215438904, 121.539167348759 24.9454898536115, 121.539067576775 24.9457450916262, 121.539014636539 24.9457949391333, 121.538922500166 24.9458060163544, 121.538830872834 24.945791246726, 121.53859875026 24.9457321681951, 121.538498978277 24.945739553013, 121.538441965715 24.9457820157075, 121.538409387108 24.945887710829, 121.538386989316 24.9460963315013, 121.538237840381 24.9462426426912, 121.538076983509 24.9463072595652, 121.537887620357 24.9463146443486, 121.537672296127 24.9464198774645, 121.537475806404 24.9465601881459, 121.537270153948 24.9468020390767, 121.537123550217 24.9468509630622, 121.536765694582 24.9472910472846, 121.536612727842 24.9474269722982, 121.536501756962 24.947451895714, 121.536423364689 24.9474408186409, 121.536473250681 24.9475460507946, 121.536489539985 24.9477336684246, 121.536519064347 24.9478139769907, 121.536709445581 24.9480043634683, 121.536671776567 24.9481160567315, 121.53645187097 24.9482335191655, 121.5364447444 24.9483249044002, 121.536606619353 24.9485679057171, 121.536612727842 24.9486465983484, 121.53659033005 24.9486853677202, 121.536369406372 24.9488016757622, 121.536275742877 24.9487924449692, 121.536245963994 24.9488185219576, 121.536251054401 24.948874829772, 121.53640987511 24.9491002915417, 121.53664607001 24.9493259836673, 121.536816089615 24.9493555220745, 121.536961929785 24.9493352144203, 121.537380870307 24.9491863684441, 121.537428720136 24.9492835221947, 121.537544781423 24.9498018280822, 121.53750100392 24.9497972127233, 121.537365599085 24.9492366760965, 121.536983818536 24.949365906669, 121.536793437302 24.9493908296924, 121.536603819629 24.9493520605427, 121.536381623349 24.9491275223109, 121.536207276898 24.9488835990195, 121.536202186491 24.9488051373094, 121.53625716289 24.948751598702, 121.536365079525 24.9487599064185, 121.536546298026 24.9486572137729, 121.536568695819 24.9486009058589, 121.53640274854 24.9483468276156, 121.53640274854 24.9482090574498, 121.536636907277 24.948092518077, 121.536664395476 24.9480195943738, 121.53652084599 24.9478809007557, 121.536478086568 24.9478199770539, 121.536445507961 24.9477221298332, 121.536434309065 24.9475640510225, 121.536305012719 24.9473302786282, 121.536142883246 24.9472460466104, 121.535964718989 24.9470586590107, 121.535890144522 24.9470307354647, 121.535827023471 24.9470316585572, 121.535708926021 24.9470584282376, 121.535623407178 24.9471488912526, 121.535521599032 24.9472088921952, 121.53535361559 24.9472790471064, 121.535204466655 24.9472938165563, 121.534803088037 24.9473021243711, 121.534507589892 24.9473706638218, 121.534192748199 24.9474242030295, 121.534012293259 24.9474214337607, 121.533706614299 24.9474546649821, 121.533542448663 24.9475130503701, 121.533245168875 24.9476681292112, 121.532703804056 24.9478603620869, 121.53243579411 24.9479196703685, 121.532300389275 24.9479279781411, 121.531855233155 24.9478744391524, 121.531652380423 24.9479196703685, 121.531565843498 24.9479224396261, 121.531454872618 24.9479076702516, 121.531348737626 24.9479279781411, 121.530707600823 24.9479492091129, 121.530608846921 24.9479732093375, 121.530419483768 24.9480609024261, 121.530154528067 24.9480645947654, 121.529903825506 24.9480147481768, 121.529115066891 24.9477756688881, 121.528867673095 24.9477812074097, 121.52873201374 24.9477295145318, 121.528564793859 24.9477193605711, 121.528420226291 24.9477922844521, 121.528328344439 24.9478125923607, 121.528203120418 24.9477728996272, 121.528006630696 24.9477627456701, 121.527869953259 24.9477128989593, 121.527758727859 24.9476000514702, 121.527628158911 24.9473330478991, 121.52748868175 24.9472312771548, 121.527112755169 24.9470457357175, 121.526864088771 24.9469808884577, 121.526614404292 24.9469559649466, 121.526070239749 24.9467000371199, 121.525509022341 24.94653641842, 121.525016525432 24.9462137958615, 121.524474397052 24.9459329427746, 121.524036112981 24.9455574709671, 121.523853876399 24.9453774656381, 121.523479985981 24.9447737535373, 121.523303603367 24.9444448953568, 121.523164126206 24.9438236394719, 121.523010141384 24.9432757685694, 121.523028466851 24.9430466036486, 121.523124166509 24.9427583583442, 121.523324983078 24.9422035592389, 121.523584848372 24.9415264424695, 121.524509775383 24.9418202294458, 121.525406450633 24.9421047844274, 121.526393989655 24.9424163402228, 121.526191391443 24.9428460551455, 121.526107908763 24.9431326847816, 121.526083474808 24.9433182321131, 121.526092637541 24.9435077024207, 121.526141505451 24.9437592520743, 121.526211753072 24.9440186476929, 121.526360392966 24.9442785043219, 121.5265782624 24.9445249752893, 121.526907611754 24.9447848308502, 121.527207182225 24.9449177585273, 121.52825962394 24.9452348458445, 121.52926039802 24.9455260854415, 121.529546733432 24.9455805485543, 121.530298841115 24.9456165495818, 121.53154599091 24.9456802436816, 121.532229632614 24.9457190139871, 121.533054787641 24.9456359347461, 121.533338323329 24.9455731637269, 121.533778134522 24.9454254670849, 121.534352841509 24.9451374581236, 121.534769236829 24.9448596026862, 121.534970816959 24.9446819041128, 121.53547171304 24.9441815774018, 121.53569416384 24.9438617180245, 121.535889635481 24.9434241601285, 121.535879454667 24.9433318481376, 121.535810225127 24.9432653834613, 121.533813767373 24.942671815387, 121.531592313616 24.9419827004971, 121.531582132802 24.941932389882, 121.53170633874 24.9409252501261, 121.531865159449 24.9396683909359, 121.531911991196 24.9389215621788, 121.531832580842 24.9380621034582, 121.531720591881 24.9365628829198, 121.531685977111 24.9362743916533, 121.531549554195 24.9359845149485, 121.53114995722 24.9354943078866, 121.531117378613 24.9352893619833, 121.531353573513 24.9348365411099, 121.531586714168 24.9347423763157, 121.5319145364 24.9347054489257, 121.532101099829 24.9347968441956, 121.53222734193 24.9347977673798, 121.532401688381 24.9346710602839, 121.532452592454 24.9345824344782, 121.532392525648 24.9342634733687, 121.532403724544 24.9340474471411, 121.532726710889 24.9336793246522, 121.532743000192 24.9335122266832, 121.532695150364 24.9334261388289, 121.532708385423 24.9332791200219, 121.532817320139 24.9329197656219, 121.532911238155 24.9328272149613, 121.533023227116 24.9326822726399, 121.53307514927 24.932474321655, 121.533087366248 24.9322811415689, 121.53314437881 24.9321712803574, 121.533266803106 24.9321304285794, 121.533377773986 24.9320381081273, 121.533504270608 24.9316637479852, 121.533695924444 24.9311248243289, 121.53379060602 24.9309817264312, 121.533785515613 24.9309150242898, 121.533618550253 24.9307246114039, 121.533613459845 24.9306027470026, 121.533661309674 24.9304935767074, 121.533753955087 24.9303707888602, 121.534141080565 24.9301185194597, 121.53416576904 24.930033352455, 121.534163732877 24.9298796362486, 121.534321535504 24.9294888823266, 121.534317463178 24.9293963290898, 121.534265541024 24.9291265163894, 121.534281830327 24.9290293467436, 121.534280812246 24.9289628743527, 121.534232962417 24.9288133113421, 121.534224817765 24.9285730407554, 121.534060906649 24.928269759058, 121.533928556059 24.9282005165567, 121.533722903603 24.9282088256589, 121.533534049491 24.928116271461, 121.533325342791 24.9279482427147, 121.532937962793 24.9275064737368)","wkt0":"LINESTRING (121.533005792471 24.9274781995451, 121.53341506122 24.927934278777, 121.533586735207 24.9280659551846, 121.533745555915 24.9281361209956, 121.533940900297 24.9281392369107, 121.534136371938 24.9282167885481, 121.53431148195 24.9285666935434, 121.534313518113 24.9288127343241, 121.534364422186 24.9289512186, 121.53434609672 24.9291229388861, 121.534407181608 24.9294945370733, 121.534248360899 24.9298845985617, 121.534232071596 24.9301338679788, 121.533812622032 24.9304242200532, 121.533692488419 24.9306000927577, 121.533692488419 24.9307182643027, 121.533861489943 24.9308936749809, 121.533867598431 24.9310026141186, 121.533771898774 24.9311544825015, 121.533615114228 24.9315939303853, 121.533452221194 24.9320767673251, 121.533315289236 24.9321912446395, 121.533221625742 24.932217094341, 121.53316461318 24.9323006442318, 121.533150360039 24.9325019022998, 121.533097419803 24.9327160848369, 121.532952343194 24.9328919542711, 121.532891258306 24.9329454997708, 121.53276908853 24.9334149450955, 121.532824064929 24.9335072645163, 121.532799630974 24.9337034430559, 121.532492170372 24.9340565636402, 121.532467736417 24.9342818217328, 121.532541038282 24.934590627752, 121.532465700254 24.9347217200583, 121.532264120124 24.9348694295322, 121.532070684645 24.9348620440627, 121.531915936262 24.9347808038691, 121.531591677316 24.9348251167086, 121.531409949774 24.9348851236534, 121.531190044178 24.9353277893662, 121.531236875925 24.93546857427, 121.531623746882 24.9359823224072, 121.531756097472 24.9362615826255, 121.531811073872 24.9365579208758, 121.53185179713 24.9372373728654, 121.531992292372 24.9390010687313, 121.531931207484 24.9397940543533, 121.531786125248 24.9407696298529, 121.531658361652 24.9419269664888, 121.532715130213 24.9422389842981, 121.534716169333 24.9428819415818, 121.535863547144 24.9431985725788, 121.535971463779 24.9433591955722, 121.535955174476 24.9434828935968, 121.535731196554 24.943958299028, 121.535525544098 24.9442227713522, 121.535050609094 24.944715713017, 121.534657120608 24.9450300315318, 121.534400564078 24.9451892674777, 121.53407477801 24.9453720423966, 121.533726085108 24.9455160466872, 121.533312234992 24.9456545121924, 121.53299815686 24.9457140523118, 121.532293644486 24.9457915928893, 121.531549426935 24.9457472839939, 121.529520390575 24.9456438965092, 121.529226674072 24.9455922027343, 121.527178294164 24.9449787990533, 121.526858107543 24.9448403327884, 121.526520104496 24.9445777080119, 121.52629307233 24.9442984666424, 121.526138323947 24.9440381484981, 121.52605687743 24.9437182887484, 121.526014118008 24.9434782780011, 121.526010045682 24.943280730343, 121.526122034644 24.9428279388378, 121.526299180819 24.9424374567538, 121.523650641887 24.9415909464258, 121.523320274451 24.9424116091963, 121.523100368855 24.9430748742687, 121.523096296529 24.94334165629, 121.523234755608 24.9437962921405, 121.523393576317 24.9444627806489, 121.523918906353 24.9453221947184, 121.524275743906 24.945667897183, 121.524516011132 24.9458709796204, 121.525065266083 24.9461479096773, 121.525537655882 24.9464783787303, 121.526106254381 24.9466353050651, 121.526636165783 24.9468868483317, 121.52692580996 24.9469163873238, 121.527133498579 24.946968080543, 121.527534622677 24.9471674684707, 121.527700060915 24.9472842394915, 121.527830375342 24.9475556278393, 121.527913858022 24.9476590137193, 121.528033069715 24.9477091358256, 121.528201890077 24.947730865179, 121.528390768303 24.9477776668634, 121.52855168606 24.9476830140005, 121.528696909841 24.947686183143, 121.528910559777 24.9477351684415, 121.529126393048 24.9477407069649, 121.52955856863 24.9478644005895, 121.529994816537 24.9479968634006, 121.530206832003 24.948021786701, 121.530398231318 24.9480282482966, 121.53062857225 24.9479165549537, 121.531329521338 24.9478897854598, 121.531444819064 24.9478704006503, 121.531625019484 24.9478805545985, 121.531847215763 24.947839015714, 121.532162057457 24.9478639390464, 121.532298734893 24.9478851700293, 121.532683824208 24.9478260925027, 121.533217807936 24.9476393981014, 121.533559374268 24.9474520111002, 121.533723285384 24.9474169336988, 121.534042708443 24.9473751638855, 121.534190330256 24.9473834716948, 121.5344295794 24.9473465480936, 121.534808560226 24.9472643930412, 121.535288585636 24.9472505466786, 121.535492201929 24.9471794686597, 121.535681819602 24.9470223122451, 121.53583275018 24.9469835423498, 121.535925395593 24.9469890809071, 121.53599258897 24.9470204660599, 121.536182206643 24.9472152384471, 121.536327792292 24.9472964704418, 121.536404657443 24.9473963949526, 121.536489158204 24.9474037796707, 121.536593002514 24.9473843947847, 121.536723571462 24.9472736239487, 121.53709746188 24.9468310011554, 121.537235920959 24.9467673076507, 121.537456335596 24.9465224565886, 121.537872985436 24.946278528138, 121.538050386131 24.9462699894796, 121.53820920684 24.9462229114605, 121.538329340453 24.9461066009833, 121.53836904563 24.9459928289221, 121.538375154119 24.9458691334179, 121.5384036604 24.9457629767295, 121.538494524171 24.9457055136143, 121.538613639702 24.9456935132816, 121.538879613485 24.9457599766478, 121.538986512039 24.9457544380354, 121.539040724877 24.9456972056918, 121.539134388371 24.9454643528587, 121.539210744481 24.9453895813897, 121.539304662497 24.9453655806617, 121.539566563954 24.9453745809353, 121.539930273557 24.9453431953631, 121.540612133618 24.9451694206899, 121.540803532934 24.945097418363, 121.541046090843 24.944953182806, 121.541229600027 24.9448329479166, 121.541525098172 24.944573323235, 121.541812197146 24.9444339334024, 121.542013013715 24.9444127018247, 121.542236482596 24.944443164522, 121.542491002962 24.9444357796264, 121.54257957605 24.9444967050022, 121.542650078191 24.9447616377253, 121.542738651279 24.9448068700844, 121.542830278611 24.944788407899, 121.542910707047 24.9447505604103, 121.543008442867 24.9446554800823, 121.543004370541 24.9445417066808, 121.542960593038 24.9442860046161, 121.542888563775 24.9440916891543, 121.542659495445 24.9437025957523, 121.542536307588 24.9435516659523, 121.542410065486 24.9434353529528, 121.542167762097 24.9433531952917, 121.541838412743 24.9431662633306, 121.541666356976 24.943054565579, 121.541213819764 24.9429474833418, 121.541003840462 24.9428697101931, 121.540868435627 24.9427986296463, 121.540545194762 24.9425341542646, 121.540359649415 24.9424178403044, 121.540174358588 24.9423548368634, 121.540051170731 24.9422754478663, 121.539728184386 24.9422643703277, 121.539577508329 24.9422265220635, 121.539326551248 24.9421157465892, 121.538946559052 24.9419036156035, 121.53871646593 24.941874348023, 121.538511831556 24.941880809941, 121.538486379519 24.9418392690333, 121.538704248952 24.941827268324, 121.538954442473 24.9418605010545, 121.539354039448 24.9420829754922, 121.539606778171 24.9421921355206, 121.539721821377 24.9422179831242, 121.54006415127 24.942232753181, 121.540207955277 24.942316757845, 121.540381283646 24.9423797613054, 121.540602207324 24.9425219228414, 121.540888542736 24.9427640124821, 121.541067979594 24.9428500938126, 121.541243089606 24.9429110199726, 121.541653630957 24.9430042554016, 121.541792344557 24.9430783359768, 121.542179470034 24.9433167320426, 121.542424318627 24.9434000436277, 121.542566086471 24.9435147412025, 121.542835878059 24.9438860652142, 121.542935650042 24.9440776116564, 121.543006915745 24.9442880816206, 121.5430588379 24.9445606304588, 121.543050693248 24.9447076358053, 121.542977391383 24.9447500988554, 121.542859293933 24.9448359480208, 121.542731015668 24.9448590257433, 121.542616990544 24.9447981005467, 121.542528162936 24.9445183981211, 121.542474204618 24.9444740887677, 121.542230883148 24.9444888585539, 121.542015813439 24.9444611652033, 121.54182925001 24.944473165656, 121.541550041168 24.9446070167801, 121.541255815625 24.9448712569344, 121.540904254613 24.945090193057, 121.540538322712 24.9452465000572, 121.53991882014 24.9453923507042, 121.539584380379 24.9454193515171, 121.539307462221 24.9454078127089, 121.539241286925 24.9454277748463, 121.539176638752 24.9454979307721, 121.539117971808 24.9456637432206, 121.539068976637 24.9457460147284, 121.539017563523 24.9457949391333, 121.538922754687 24.9458097087612, 121.538822982703 24.9457949391333, 121.538613003401 24.9457386299109, 121.538510940734 24.9457469378305, 121.538449855846 24.9457820157075, 121.538420331484 24.9458752489635, 121.538412186832 24.9460056369383, 121.53838266247 24.9461064855959, 121.538244966951 24.9462541814213, 121.538064766532 24.9463178751913, 121.537889402 24.9463197213871, 121.537678404616 24.9464251852729, 121.537485732699 24.9465583419538, 121.53727804408 24.9468001928882, 121.537120241453 24.9468576554927, 121.536767476225 24.9472965858281, 121.536615782087 24.9474278953878, 121.536506083809 24.9474491264458, 121.536420055925 24.9474412801857, 121.53647910465 24.9475455892503, 121.536492339709 24.9477246683235, 121.536516773664 24.9478151308491, 121.536709191061 24.9480073634953, 121.53666643164 24.9481181336714, 121.53645161645 24.94823467302, 121.536440417554 24.9483336736869, 121.536610691679 24.9485674441766, 121.536615782087 24.948643367567, 121.536588293887 24.9486904446609, 121.536370169933 24.9488076757773, 121.536275488357 24.9487929065089, 121.536249018239 24.9488215219648, 121.53625716289 24.9488722913056, 121.536408857029 24.9490940607716, 121.536643443009 24.9493264872935, 121.536811253728 24.949351829774, 121.536954039653 24.9493315221193, 121.537385960715 24.949179214602, 121.537415971681 24.9492874390554, 121.537467787831 24.9495548772516, 121.537537990358 24.9497721707861, 121.537511246538 24.9498005860944, 121.537449590807 24.9496248289438, 121.537366108127 24.9492408299385, 121.536987381821 24.9493663682066, 121.536789874017 24.9493922143047, 121.536603565109 24.9493515990052, 121.536381114309 24.9491295992337, 121.536203968134 24.9488831374802, 121.536197605125 24.9488035219208, 121.536252581524 24.948749060233, 121.536364570485 24.9487629064271, 121.536551133914 24.9486472906588, 121.53656945938 24.9486002135484, 121.536552151995 24.948564213393, 121.536400457857 24.9483516737996, 121.536400457857 24.9482095189917, 121.536629526186 24.9480920565348, 121.536661086712 24.9480200559164, 121.536519573388 24.9478848238719, 121.536470705478 24.947816515479, 121.536443217278 24.9477315914783, 121.536433036464 24.9475725895912, 121.536342427213 24.947408741278, 121.536299667792 24.9473348940796, 121.536143901327 24.9472462773832, 121.535963700908 24.9470662745222, 121.535892435206 24.9470293508259, 121.535823205666 24.9470302739185, 121.53571503451 24.9470588897839, 121.535625188821 24.9471475066151, 121.535526434919 24.9472084306496, 121.535349034223 24.9472804317425, 121.535205230216 24.9472961242828, 121.534802833517 24.9473081244593, 121.534515480024 24.9473745869542, 121.534195802444 24.9474262799811, 121.534021455993 24.9474281261602, 121.533714758951 24.9474567419332, 121.533555429202 24.9475114349646, 121.533240842029 24.9476720523342, 121.532703040495 24.9478615159448, 121.532431976305 24.9479215165403, 121.532295298868 24.947928901227, 121.532126042825 24.9479058240808, 121.531854978635 24.9478790545834, 121.531651107821 24.947923362712, 121.531571697467 24.9479270550553, 121.531453345497 24.9479079010231, 121.531345428861 24.9479319012558, 121.53071243671 24.9479522091413, 121.530613682808 24.9479745939658, 121.53042024733 24.9480669024773, 121.530151219302 24.9480659793926, 121.52990611619 24.9480124404639, 121.529115830452 24.9477788996924, 121.528882185988 24.9477626234648, 121.528723394559 24.9477225077354, 121.528564539339 24.9477179759401, 121.528402468724 24.9477914566454, 121.528473930088 24.9480622870534, 121.528677546382 24.9485995212378, 121.528818041624 24.9487476756135, 121.529147900018 24.9489692145344, 121.52926039802 24.9490619838392, 121.529571930949 24.9494312142104, 121.530036685138 24.9498327509825, 121.530479041534 24.9503875157252, 121.530782429811 24.9509270474248, 121.530804827603 24.9512335040698, 121.530977901452 24.9514481155734, 121.531065456458 24.9515921127598, 121.531344919821 24.9517624169071, 121.53151799367 24.9519304131793, 121.531589259372 24.9521501002664, 121.531726191329 24.9522465593888, 121.53199089251 24.9527560838343, 121.531860578083 24.9533126814984, 121.531726191329 24.9534848293544, 121.531707865863 24.9537178977839, 121.531927771459 24.9540114249211, 121.532007181814 24.9542204933515, 121.531903337504 24.954370025521, 121.531866686571 24.954466021386, 121.531909445993 24.9547152410707, 121.532235741103 24.9549723060319, 121.532482625858 24.9552224477229, 121.532636356159 24.9553710556456, 121.533279274605 24.9556998846507, 121.533489253907 24.9558551839386, 121.533842782696 24.9560464810092, 121.534212600788 24.9563070045271, 121.534334770564 24.9566877509266, 121.53449180963 24.9569637336413, 121.534768727788 24.957265098675, 121.534312627292 24.9587077639466, 121.534163987398 24.9589500525213, 121.534163987398 24.9590571208442, 121.53436131395 24.9593207130146, 121.533769989871 24.9596049215395, 121.533413152317 24.9597599851521, 121.533056823804 24.9599870422324, 121.532781941809 24.96030639823, 121.533087366248 24.9603839296189, 121.535135746156 24.9608998813082, 121.537291024618 24.9614255221739, 121.538437384348 24.9616774967182, 121.538673579248 24.9615778145426, 121.538803893676 24.9613747580091, 121.537948705245 24.9591401910306, 121.537915108556 24.9589417454923, 121.537560816207 24.958762682732, 121.537330729795 24.9585430074435, 121.53725300153 24.9583444007192, 121.537237759743 24.958011915037, 121.537255930949 24.958011915037, 121.537258526835 24.9581339217009)","wkt1":"LINESTRING (121.537244066579 24.958007932476, 121.537255349128 24.9583501697927, 121.537353290854 24.9585479044716, 121.537469188875 24.9586572294123, 121.537635772448 24.9587984188444, 121.537891510224 24.9589062298673, 121.538034733129 24.9589094403744, 121.538065275572 24.9591323455154, 121.538172174126 24.9594394739874, 121.538938280429 24.9613606824869, 121.539162258351 24.9618780145539, 121.538962714384 24.9619204716832, 121.536911280232 24.9614442126111, 121.53299828412 24.9604723061127, 121.532724929246 24.9604736906004, 121.532631265752 24.9602706322454, 121.532716784595 24.9601026473532, 121.533368356732 24.9596836071173, 121.533914557439 24.9592179539043, 121.534244924874 24.9586373847951, 121.534410363112 24.958071581105, 121.534611943242 24.957380706352, 121.534585473124 24.9572344083952, 121.534434797067 24.9569833477739, 121.534233216937 24.9566173706202, 121.534151554198 24.9563338087174, 121.533625422302 24.9559943300881, 121.533253964752 24.9557692634001, 121.532598741172 24.955421593745, 121.532107462838 24.954948076413, 121.531850906308 24.9547616235675, 121.531804074561 24.9546120918735, 121.531779640606 24.9544311767417, 121.531920135848 24.9541999557399, 121.531857014797 24.9540462696841, 121.53164321769 24.9537412046026, 121.531626928386 24.9534753681513, 121.531789821421 24.9532722982533, 121.531903846545 24.9527673911916, 121.531857014797 24.9526229338543, 121.531663579319 24.9522850968639, 121.531535301054 24.9521780226517, 121.531429420582 24.9519694122811, 121.531294524788 24.9518268001209, 121.531007425814 24.9516274197365, 121.530721853963 24.9512466576888, 121.530701492334 24.9509120476447, 121.530407775831 24.9504057463045, 121.530061119093 24.9499949806978, 121.529765875468 24.949666367226, 121.529537316179 24.9494812909942, 121.529121938941 24.9490271376657, 121.528730486617 24.9487663679753, 121.528581846723 24.948549905636, 121.52839197453 24.9480449792121, 121.528332925805 24.9477994383748, 121.528402155345 24.9477495916789, 121.528550795239 24.9476886679121, 121.528727941414 24.9476905140873, 121.528896942937 24.9477348222837, 121.529124993185 24.9477551302017, 121.529993416675 24.9480025172978, 121.530390977487 24.9480357483624, 121.530639389365 24.9479157472535, 121.53132404915 24.9478935931898, 121.531434510989 24.9478640544321, 121.531625910305 24.9478843623288, 121.53185192439 24.9478363618403, 121.532306497764 24.947895439362, 121.532681660784 24.9478308233212, 121.533207499861 24.9476425135232, 121.533557719885 24.9474611266074, 121.53404079954 24.9473780485415, 121.53417925862 24.9473817409012, 121.534422071049 24.9473522020207, 121.534808942006 24.9472709700628, 121.535287949335 24.9472543544284, 121.535512436298 24.9471860456859, 121.535663112355 24.9470383509779, 121.535832113878 24.9469811192309, 121.535929849699 24.9469885039739, 121.535997043076 24.9470106582004, 121.536170625966 24.9472100460592, 121.536323338185 24.9472949704195, 121.536392567725 24.9473946641592, 121.536464894596 24.9475242273852, 121.536484116716 24.9477214630549, 121.536523396701 24.947827393653, 121.536702245995 24.9480120931572, 121.536672994942 24.9481113378003, 121.536435643543 24.9482341922217, 121.536440658009 24.9483518232408, 121.536593599227 24.9485712061362, 121.536600285182 24.948630543986, 121.536582734551 24.9486865388583, 121.536367948249 24.9487968571142, 121.536267658926 24.9487876639262, 121.536234229151 24.9488110647684, 121.536231721918 24.9488787600618, 121.536407228234 24.9491165293331, 121.53663622219 24.9493311066984, 121.536791670642 24.9493637007285, 121.536954640792 24.9493444786082, 121.537363319786 24.9492015663221, 121.537415135936 24.9492642471493, 121.537503724839 24.9496522414699, 121.537537154614 24.9497792746131, 121.53750957505 24.949785960568, 121.537454415922 24.9496046040412, 121.53737752744 24.9492579790666, 121.537353290854 24.9492329067357, 121.537146861996 24.9493123024502, 121.536939597394 24.9493766547662, 121.536792506386 24.9493850122098, 121.53660947837 24.9493490752022, 121.536382155904 24.9491169472053, 121.536207485332 24.948869984746, 121.536213335542 24.9488031251969, 121.536259301482 24.9487646809562, 121.536366276761 24.9487747098886, 121.536561005197 24.9486704507793, 121.536571869874 24.9486211418619, 121.536571869874 24.9485793546437, 121.536409735468 24.948343047925, 121.536423107377 24.9482195666954, 121.536645415378 24.9480977569544, 121.536672159198 24.9480292259167, 121.536490802671 24.9478246774838, 121.536454865663 24.9477329545399, 121.536442329498 24.9475735363026, 121.53636042655 24.9474107750879, 121.536494145648 24.9474074321105, 121.536612982362 24.9473762023616, 121.536733115975 24.9472709700628, 121.53709809818 24.9468237317896, 121.537234521097 24.946770192321, 121.537456971897 24.9465218796534, 121.537868276809 24.9462763357797, 121.538047459147 24.9462707971905, 121.538210352181 24.9462301808616, 121.538343211813 24.9461023316481, 121.538371718094 24.9459804824547, 121.538371718094 24.9458641717486, 121.538406332863 24.9457644767702, 121.53850814101 24.9457035520215, 121.538618093808 24.9456961672014, 121.538873123215 24.9457681691783, 121.538991220665 24.9457589381579, 121.539040088575 24.9457183216603, 121.539139860559 24.9454760070495, 121.539211635302 24.9453966200638, 121.539323624264 24.9453633882872, 121.539557783001 24.9453781579668, 121.539926837532 24.9453560034467, 121.540609461154 24.945181998015, 121.540829875791 24.9450929182161, 121.541235072215 24.9448399866225, 121.54153031584 24.9445778234007, 121.541815887691 24.9444352026813, 121.542013395495 24.9444185866644, 121.542235846295 24.9444555111434, 121.54249647515 24.9444388951292, 121.542568753552 24.9445132493808, 121.542649696411 24.9447656763294, 121.542735215254 24.9448173704511, 121.542841095726 24.9447915233929, 121.542914397592 24.944749060357, 121.543028422716 24.9446475182553, 121.543018241901 24.9445330525131, 121.542971410154 24.9442727348645, 121.542887927473 24.9440678035626, 121.542667512836 24.9437142501098, 121.542522945268 24.9435203953054, 121.542410956307 24.9434280833866, 121.542166616755 24.9433486950811, 121.541675901489 24.9430546809692, 121.5412111473 24.942943444678, 121.540987169378 24.9428677485551, 121.540873144254 24.9427865136399, 121.540545322022 24.9425243460479, 121.540373775295 24.9424112630235, 121.540186448305 24.9423540291267, 121.540062242367 24.9422691013599, 121.539723221239 24.9422524850508, 121.539580180793 24.9422284837115, 121.538950497407 24.9418975416915, 121.53873720934 24.9418680014959, 121.538511195254 24.9418772328078, 121.538488797462 24.9418421538189, 121.538698522244 24.9418329225044, 121.53895304261 24.9418587701833, 121.539227924606 24.942013856143, 121.539622940214 24.9422058670607, 121.539728820687 24.9422261758902, 121.540059188122 24.942240945946, 121.540201719527 24.942322181221, 121.540384974191 24.942375722623, 121.540615569643 24.942531269495, 121.540894523965 24.9427675895894, 121.541061998366 24.9428511323268, 121.541241180703 24.9429139047331, 121.541659103145 24.943009909528, 121.54217679757 24.9433219245945, 121.542431317936 24.9433980819981, 121.54256570469 24.9435217799837, 121.542830914911 24.9438841035924, 121.542932723058 24.944074726923, 121.543008061086 24.9442870431183, 121.543056928997 24.9445621305141, 121.543044712019 24.9447024433117, 121.542865529681 24.9448279862055, 121.542737251417 24.9448538332561, 121.542619153967 24.9447929080569, 121.542529562798 24.9445141287309, 121.542478658724 24.9444642807055, 121.542218029869 24.9444882816091, 121.542018485902 24.94445135714, 121.541828613709 24.9444642807055, 121.541549659387 24.9446045936145, 121.541251870559 24.9448672183336, 121.540884852191 24.9451003030724, 121.540546849144 24.9452387690449, 121.539911057269 24.9453864659108, 121.539586798322 24.945417851472, 121.539311916327 24.9453938507495, 121.539248795276 24.9454215438904, 121.539167348759 24.9454898536115, 121.539067576775 24.9457450916262, 121.539014636539 24.9457949391333, 121.538922500166 24.9458060163544, 121.538830872834 24.945791246726, 121.53859875026 24.9457321681951, 121.538498978277 24.945739553013, 121.538441965715 24.9457820157075, 121.538409387108 24.945887710829, 121.538386989316 24.9460963315013, 121.538237840381 24.9462426426912, 121.538076983509 24.9463072595652, 121.537887620357 24.9463146443486, 121.537672296127 24.9464198774645, 121.537475806404 24.9465601881459, 121.537270153948 24.9468020390767, 121.537123550217 24.9468509630622, 121.536765694582 24.9472910472846, 121.536612727842 24.9474269722982, 121.536510024791 24.9474391903963, 121.536418092911 24.9474291614639, 121.536372962716 24.9474291614639, 121.536305012719 24.9473302786282, 121.536142883246 24.9472460466104, 121.535964718989 24.9470586590107, 121.535890144522 24.9470307354647, 121.535827023471 24.9470316585572, 121.535708926021 24.9470584282376, 121.535623407178 24.9471488912526, 121.535521599032 24.9472088921952, 121.53535361559 24.9472790471064, 121.535204466655 24.9472938165563, 121.534803088037 24.9473021243711, 121.534507589892 24.9473706638218, 121.534192748199 24.9474242030295, 121.534012293259 24.9474214337607, 121.533706614299 24.9474546649821, 121.533542448663 24.9475130503701, 121.533245168875 24.9476681292112, 121.532703804056 24.9478603620869, 121.53243579411 24.9479196703685, 121.532300389275 24.9479279781411, 121.531855233155 24.9478744391524, 121.531652380423 24.9479196703685, 121.531565843498 24.9479224396261, 121.531454872618 24.9479076702516, 121.531348737626 24.9479279781411, 121.530707600823 24.9479492091129, 121.530608846921 24.9479732093375, 121.530419483768 24.9480609024261, 121.530154528067 24.9480645947654, 121.529903825506 24.9480147481768, 121.529115066891 24.9477756688881, 121.528867673095 24.9477812074097, 121.52873201374 24.9477295145318, 121.528564793859 24.9477193605711, 121.528420226291 24.9477922844521, 121.528328344439 24.9478125923607, 121.528203120418 24.9477728996272, 121.528006630696 24.9477627456701, 121.527869953259 24.9477128989593, 121.527758727859 24.9476000514702, 121.527628158911 24.9473330478991, 121.52748868175 24.9472312771548, 121.527112755169 24.9470457357175, 121.526864088771 24.9469658450592, 121.526614404292 24.9469409215481, 121.526070239749 24.9467000371199, 121.525525418754 24.9465002316042, 121.525016525432 24.9461937379968, 121.524474397052 24.9459329427746, 121.524036112981 24.9455574709671, 121.523853876399 24.9453774656381, 121.523479985981 24.9447737535373, 121.523303603367 24.9444448953568, 121.523164126206 24.9438236394719, 121.523010141384 24.9432757685694, 121.523028466851 24.9430466036486, 121.523124166509 24.9427583583442, 121.523324983078 24.9422035592389, 121.523584848372 24.9415264424695, 121.524509775383 24.9418202294458, 121.525406450633 24.9421047844274, 121.526393989655 24.9424163402228, 121.526191391443 24.9428460551455, 121.526107908763 24.9431326847816, 121.526083474808 24.9433182321131, 121.526092637541 24.9435077024207, 121.526141505451 24.9437592520743, 121.526211753072 24.9440186476929, 121.526360392966 24.9442785043219, 121.5265782624 24.9445249752893, 121.526907611754 24.9447848308502, 121.527207182225 24.9449177585273, 121.52825962394 24.9452348458445, 121.52926039802 24.9455260854415, 121.529546733432 24.9455805485543, 121.530298841115 24.9456165495818, 121.53154599091 24.9456802436816, 121.532229632614 24.9457190139871, 121.533054787641 24.9456359347461, 121.533338323329 24.9455731637269, 121.533778134522 24.9454254670849, 121.534352841509 24.9451374581236, 121.534769236829 24.9448596026862, 121.534970816959 24.9446819041128, 121.53547171304 24.9441815774018, 121.53569416384 24.9438617180245, 121.535889635481 24.9434241601285, 121.535879454667 24.9433318481376, 121.535810225127 24.9432653834613, 121.533813767373 24.942671815387, 121.531592313616 24.9419827004971, 121.531582132802 24.941932389882, 121.53170633874 24.9409252501261, 121.531865159449 24.9396683909359, 121.531911991196 24.9389215621788, 121.531758400214 24.9365640668704, 121.531691540665 24.9362347835914, 121.531549554195 24.9359845149485, 121.531183408092 24.9354968213187, 121.531153321295 24.935299585649, 121.531353573513 24.9348365411099, 121.531574536454 24.9347747381889, 121.531898805267 24.9347446513918, 121.53207932605 24.9348081679634, 121.532239788968 24.9348181968958, 121.53244705357 24.9346777918428, 121.532500541209 24.934554101677, 121.532413623795 24.934264098383, 121.532430338682 24.9340601767584, 121.532755033079 24.9336664902597, 121.532771322383 24.9334993922907, 121.532723472555 24.9334133044364, 121.532733325258 24.9332947346051, 121.532842259974 24.9329353802051, 121.53293617799 24.9328428295445, 121.533048166951 24.9326978872231, 121.533100089105 24.9324899362382, 121.533112306083 24.9322967561521, 121.533169318645 24.9321868949406, 121.533291742941 24.9321460431626, 121.533402713821 24.9320537227105, 121.53379060602 24.9309817264312, 121.533785515613 24.9309150242898, 121.533630467588 24.9307280639824, 121.533643839498 24.9306010308392, 121.533650525453 24.930538350012, 121.533794273483 24.9303778870942, 121.534141943138 24.9301514003718, 121.534182058868 24.9300410821159, 121.534183730356 24.9298806191981, 121.534340850297 24.9295036984903, 121.534317463178 24.9293963290898, 121.534277333725 24.9291359709705, 121.534304077545 24.9289625540152, 121.534245575439 24.9288020910975, 121.534242232462 24.9285634860818, 121.534060906649 24.928269759058, 121.533928556059 24.9282005165567, 121.533722903603 24.9282088256589, 121.533534049491 24.928116271461, 121.533325342791 24.9279482427147, 121.532937962793 24.9275064737368)","CustomRouteInfo":null,"CustomRouteInfoEN":null});
        var objArr = jQuery.parseJSON(routeJsonString);
        var TrackObj=null;
        var layerWkt=null;
        var layerWkt0=null;
        var layerWkt1=null;

        $(function() {
            // Configure toastr options
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }

            // Init Map
            initialize();
            //// 畫去程的站點
            pointRouteStopsLMap(true);
            //// 畫路線軌跡
            //drawRouteTrack();

            //var routePathBounds = new google.maps.LatLngBounds();
            //var path = new google.maps.MVCArray();

            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)) {
                var latlngs = [];
                //for (var i = 0; i < objArr.RouteTracks.length; i++) {
                //    var pointA = [objArr.RouteTracks[i]
                //        .Latitude,
                //        objArr.RouteTracks[i].Longitude];
                //    latlngs.push(pointA);
                //}
                if (TrackObj != null)
                {
                    map.removeLayer(TrackObj);
                }
                var wkt = new Wkt.Wkt();
                if (objArr.wkt0==null)
                {
                    wkt.read(objArr.wkt);}
                else{
                    wkt.read(objArr.wkt0);
                }

                if( map==null)
                {}
                else{
                    //map.defaults.color = '#9863b6';
                    TrackObj= wkt.toObject({
                        color: '#9863b6',
                        strokeColor: '#9863b6',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#9863b6',
                        fillOpacity: 0.35,
                        editable: false
                    }); // Make an object
                    TrackObj.addTo(map);

                    //var firstpolyline = L.polyline(latlngs ,{ color: '#9863b6',
                    //    weight: 4,
                    //    opacity: 1.0,
                    //    smoothFactor: 1}).addTo(map);
                    //map.fitBounds(firstpolyline.getBounds());
                    //routePath=firstpolyline;

                }
            }

            $('.stationlist-go, .stationlist-come')
                .click(function() {
                    if ($(this).hasClass('stationlist-go')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("left");
                            $('#BackDirectionRoute').toggle("left");

                            pointRouteStopsLMap(true);

                            TrackObj.setStyle({
                                color: '#9863b6'
                            });
                            TrackObj.options.color="#9863b6";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt0 != null && objArr.wkt0.length != 0)){ if( map==null)
                            {}
                            else{
                                if( map==null)
                                {}
                                else{
                                    if (TrackObj != null)
                                    {
                                        map.removeLayer(TrackObj);
                                    }
                                    var wkt = new Wkt.Wkt();
                                    if (objArr.wkt0==null)
                                    {
                                        wkt.read(objArr.wkt);}
                                    else{
                                        wkt.read(objArr.wkt0);
                                    }
                                    TrackObj= wkt.toObject({
                                        color: '#9863b6',
                                        strokeColor: '#9863b6',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#9863b6',
                                        fillOpacity: 0.35,
                                        editable: false
                                    }); // Make an object
                                    TrackObj.setStyle({
                                        color: '#9863b6'
                                    });
                                    TrackObj.options.color="#9863b6";
                                    TrackObj.addTo(map);
                                }



                            }
                            }
                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();


                        }

                    }
                    if ($(this).hasClass('stationlist-come')) {
                        if ($(this).hasClass('stationlist-come-go')) {
                            event.preventDefault();
                        } else {
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go-gray');
                            $('.stationlist-go, .stationlist-come').toggleClass('stationlist-come-go');

                            $('#GoDirectionRoute').toggle("right");
                            $('#BackDirectionRoute').toggle("right");
                            pointRouteStopsLMap(false);

                            TrackObj.setStyle({
                                color: '#916955'
                            });
                            TrackObj.options.color="#916955";
                            if ((objArr.wkt != null && objArr.wkt.length != 0)||(objArr.wkt1 != null && objArr.wkt1.length != 0)) {if( map==null)
                            {}
                            else{
                                if (TrackObj != null)
                                {
                                    map.removeLayer(TrackObj);
                                }
                                var wkt = new Wkt.Wkt();
                                if (objArr.wkt1==null)
                                {
                                    wkt.read(objArr.wkt);}
                                else{
                                    wkt.read(objArr.wkt1);
                                }
                                TrackObj= wkt.toObject({
                                    color: '#9863b6',
                                    strokeColor: '#9863b6',
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: '#9863b6',
                                    fillOpacity: 0.35,
                                    editable: false
                                }); // Make an object
                                TrackObj.setStyle({
                                    color: '#916955'
                                });
                                TrackObj.options.color="#916955";
                                TrackObj.addTo(map);
                            }}

                            stopStationStatusReport();
                            stationStatusReport();
                            stopBusStatusReport();
                            busStatusReport();
                        }

                    }
                });

            $('.stationlist-list-pool li a')
                .click(function() {
                    var idx = $(this).find('.auto-list-stationlist-number').text();
                    var activedMarker = overlays[(parseInt(idx) - 1)];
                    map.flyTo(activedMarker._latlng);
                    activedMarker.openPopup();
                    //google.maps.event.trigger(activedMarker, 'click');
                    //centerMapTo(activedMarker.getPosition().lat(), activedMarker.getPosition().lng());

                    var stopId = $(this).find('input[name="item.UniStopId"]').val();
                    document.getElementById("routeList").href = SitePath + "Stop/RoutesOfStop?stopid=" + stopId;
                    if('0454093500'=='0100020200' || '0454093500'=='0100027700')
                    {
                        stopStatusRecent3Report(stopId);//vic
                    }
                    //Set value to bus arrival alert dialog
                    $('#selected_stop_id').val(stopId);
                    $('#selected_stop_name').val($(this).find('.auto-list-stationlist-place').text());

                    $("#Toolbar")
                        .dialog({
                            autoOpen: true,
                            width: $('#Login_DL').width(),
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });

            $('#busAlert')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();

                    $("#SetAlertTime")
                        .dialog({
                            autoOpen: true,
                            width: 500,
                            modal: true,
                            show: {
                                effect: "clip",
                                duration: 600
                            },
                            buttons: {},
                            hide: {
                                effect: "clip",
                                duration: 500
                            }
                        });
                    $(".ui-dialog-titlebar").hide();
                });


            $('#addToMybus')
                .click(function() {
                    $("#Toolbar").dialog("close");
                    $("#Toolbar").dialog("destroy");
                    $("#Toolbar").hide();
                    var isSuccess = true;
                    $('#AddToMyBus').find('ul').html('');
                    $.ajax({
                        url: '/MyBus/MyBusGroup',
                        type: 'post',
                        dataType: 'json',
                        beforeSend: function() {
                        },
                        error: function(response) {
                            isSuccess = false;
                            toastr["error"](i18n._('Not log in'), "");
                        },
                        success: function(response) {
                            $.each(response,
                                function(idx, value) {
                                    $('#AddToMyBus')
                                        .find('ul')
                                        .append(
                                            $('<li></li>')
                                            .append($('<a>')
                                                .attr({ href: "javascript:AddMyBus('" + value.GroupId + "');" })
                                                .addClass('dialog-chose-bos-group')
                                                .append(value.GroupName))
                                        );
                                });
                        },
                        complete: function() {
                            if (isSuccess) {
                                $("#AddToMyBus")
                                    .dialog({
                                        autoOpen: true,
                                        modal: true,
                                        width: $('#Login_DL').width(),
                                        show: {
                                            effect: "clip",
                                            duration: 600
                                        },
                                        buttons: {},
                                        hide: {
                                            effect: "clip",
                                            duration: 500
                                        }
                                    });
                                $(".ui-dialog-titlebar").hide();
                            }
                        }
                    });
                });

            //$('.stationlist-move-table-icon')
            //    .click(function() {
            //        toggleRouteListAndChart();
            //    });

            $('.stationlist-bus-info-table-icon')
                .click(function() {
                    $('.stationlist-move-route-bus-info').slideToggle();
                });

            stationStatusReport();
            busStatusReport();


        });

        function AddMyBus(gid) {
            var RouteId = objArr.UniRouteId;
            var StopId = $('#selected_stop_id').val();
            $('#AddToMyBus').dialog("close");
            $('#AddToMyBus').dialog("destroy");
            $('#AddToMyBus').hide();
            addToMyBus(RouteId, StopId, gid);

        }

        function setAlertConfirm(stime) {
            var RouteId = objArr.UniRouteId;
            var RouteName = objArr.Name;
            var StopId = $('#selected_stop_id').val();
            var StopName = $('#selected_stop_name').val();
            var direction = $('.stationlist-back').hasClass('stationlist-come-go') ? 0 : 1;
            $('#SetAlertTime').dialog("close");
            $('#SetAlertTime').dialog("destroy");
            $('#SetAlertTime').hide();
            AlertAdd(RouteId, RouteName, StopId, StopName, direction, stime);
        }
    </script>


    <script>
       
        $(function () {
            window.alert = sweetAlert;

            // Selected language radio button
            $('input[name=culture]').click(function () {
                $('.teBUS-pad-main-nav-icon').slideToggle({
                    complete: function () {
                        $('#SetCultureForm').submit();
                    }
                })
            });
            $('#Loading_DL').show();
            $('#Loading_DL').dialog({
                autoOpen: false,
                modal: true,
                width: $('#Loading_DL').width(),
                minHeight: 60,
                show: false,
                buttons: {},
                hide: false
            });
            $(".ui-dialog-titlebar").hide();

            // Scroll to Top Action
            $('a.tebus-up').click(function () {
                $('body, html').animate({
                    scrollTop: 0
                }, 700);
                return false;
            });
        });

        function OpenLoadingDialog() {
            if ($('#Loading_DL').dialog("instance") !== undefined) {
                $('#Loading_DL').dialog("open");
            }
        }

        function CloseLoadingDialog() {
            $('#Loading_DL').dialog("close");
        }

        function toggleMenu() {
            $('.teBUS-pad-main-nav-icon').slideToggle();
        }

        function goTop() {
            window.document.body.scrollTop = 0;
        }

        //$(".nav-language-link").click(function () {
        //    href = $(this).attr('href');
        //    lang = href.match('(^|/?)?culture=([^&]*)(&|$)');

        //    localStorage["culture"] = lang[2];
        //});
    </script>
</body>


</html>
